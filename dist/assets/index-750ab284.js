import{ar as oi,as as ir,at as cs,au as us,av as ue,aw as Pe,ax as Ma}from"./index-271e5b0c.js";function La(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const c=Object.getOwnPropertyDescriptor(n,a);c&&Object.defineProperty(e,a,c.get?c:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}const Ba=Object.freeze(Object.defineProperty({__proto__:null,EventEmitter:oi,default:oi},Symbol.toStringTag,{value:"Module"}));var zn={},At={},sr={};Object.defineProperty(sr,"__esModule",{value:!0});sr.walletLogo=void 0;const Ta=(e,t)=>{let r;switch(e){case"standard":return r=t,`data:image/svg+xml,%3Csvg width='${t}' height='${r}' viewBox='0 0 1024 1024' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Crect width='1024' height='1024' fill='%230052FF'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z' fill='white'/%3E %3C/svg%3E `;case"circle":return r=t,`data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='${t}' height='${r}' viewBox='0 0 999.81 999.81'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052fe;%7D.cls-2%7Bfill:%23fefefe;%7D.cls-3%7Bfill:%230152fe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M655-115.9h56c.83,1.59,2.36.88,3.56,1a478,478,0,0,1,75.06,10.42C891.4-81.76,978.33-32.58,1049.19,44q116.7,126,131.94,297.61c.38,4.14-.34,8.53,1.78,12.45v59c-1.58.84-.91,2.35-1,3.56a482.05,482.05,0,0,1-10.38,74.05c-24,106.72-76.64,196.76-158.83,268.93s-178.18,112.82-287.2,122.6c-4.83.43-9.86-.25-14.51,1.77H654c-1-1.68-2.69-.91-4.06-1a496.89,496.89,0,0,1-105.9-18.59c-93.54-27.42-172.78-77.59-236.91-150.94Q199.34,590.1,184.87,426.58c-.47-5.19.25-10.56-1.77-15.59V355c1.68-1,.91-2.7,1-4.06a498.12,498.12,0,0,1,18.58-105.9c26-88.75,72.64-164.9,140.6-227.57q126-116.27,297.21-131.61C645.32-114.57,650.35-113.88,655-115.9Zm377.92,500c0-192.44-156.31-349.49-347.56-350.15-194.13-.68-350.94,155.13-352.29,347.42-1.37,194.55,155.51,352.1,348.56,352.47C876.15,734.23,1032.93,577.84,1032.93,384.11Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-2' d='M1032.93,384.11c0,193.73-156.78,350.12-351.29,349.74-193-.37-349.93-157.92-348.56-352.47C334.43,189.09,491.24,33.28,685.37,34,876.62,34.62,1032.94,191.67,1032.93,384.11ZM683,496.81q43.74,0,87.48,0c15.55,0,25.32-9.72,25.33-25.21q0-87.48,0-175c0-15.83-9.68-25.46-25.59-25.46H595.77c-15.88,0-25.57,9.64-25.58,25.46q0,87.23,0,174.45c0,16.18,9.59,25.7,25.84,25.71Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-3' d='M683,496.81H596c-16.25,0-25.84-9.53-25.84-25.71q0-87.23,0-174.45c0-15.82,9.7-25.46,25.58-25.46H770.22c15.91,0,25.59,9.63,25.59,25.46q0,87.47,0,175c0,15.49-9.78,25.2-25.33,25.21Q726.74,496.84,683,496.81Z' transform='translate(-183.1 115.9)'/%3E%3C/svg%3E`;case"text":return r=(.1*t).toFixed(2),`data:image/svg+xml,%3Csvg width='${t}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E`;case"textWithLogo":return r=(.25*t).toFixed(2),`data:image/svg+xml,%3Csvg width='${t}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E`;case"textLight":return r=(.1*t).toFixed(2),`data:image/svg+xml,%3Csvg width='${t}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E`;case"textWithLogoLight":return r=(.25*t).toFixed(2),`data:image/svg+xml,%3Csvg width='${t}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E`;default:return r=t,`data:image/svg+xml,%3Csvg width='${t}' height='${r}' viewBox='0 0 1024 1024' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Crect width='1024' height='1024' fill='%230052FF'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z' fill='white'/%3E %3C/svg%3E `}};sr.walletLogo=Ta;var ar={};const Pa=ir(Ba);var qe={},Je={};Object.defineProperty(Je,"__esModule",{value:!0});Je.errorValues=Je.standardErrorCodes=void 0;Je.standardErrorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901,unsupportedChain:4902}};Je.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."},4902:{standard:"EIP-3085",message:"Unrecognized chain ID."}};var or={},Vn={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.serialize=e.getErrorCode=e.isValidCode=e.getMessageFromCode=e.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const t=Je,r="Unspecified error message.";e.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.";function n(w,S=r){if(w&&Number.isInteger(w)){const k=w.toString();if(E(t.errorValues,k))return t.errorValues[k].message;if(h(w))return e.JSON_RPC_SERVER_ERROR_MESSAGE}return S}e.getMessageFromCode=n;function a(w){if(!Number.isInteger(w))return!1;const S=w.toString();return!!(t.errorValues[S]||h(w))}e.isValidCode=a;function c(w){var S;if(typeof w=="number")return w;if(u(w))return(S=w.code)!==null&&S!==void 0?S:w.errorCode}e.getErrorCode=c;function u(w){return typeof w=="object"&&w!==null&&(typeof w.code=="number"||typeof w.errorCode=="number")}function o(w,{shouldIncludeStack:S=!1}={}){const k={};if(w&&typeof w=="object"&&!Array.isArray(w)&&E(w,"code")&&a(w.code)){const T=w;k.code=T.code,T.message&&typeof T.message=="string"?(k.message=T.message,E(T,"data")&&(k.data=T.data)):(k.message=n(k.code),k.data={originalError:_(w)})}else k.code=t.standardErrorCodes.rpc.internal,k.message=g(w,"message")?w.message:r,k.data={originalError:_(w)};return S&&(k.stack=g(w,"stack")?w.stack:void 0),k}e.serialize=o;function h(w){return w>=-32099&&w<=-32e3}function _(w){return w&&typeof w=="object"&&!Array.isArray(w)?Object.assign({},w):w}function E(w,S){return Object.prototype.hasOwnProperty.call(w,S)}function g(w,S){return typeof w=="object"&&w!==null&&S in w&&typeof w[S]=="string"}})(Vn);Object.defineProperty(or,"__esModule",{value:!0});or.standardErrors=void 0;const fe=Je,ls=Vn;or.standardErrors={rpc:{parse:e=>Se(fe.standardErrorCodes.rpc.parse,e),invalidRequest:e=>Se(fe.standardErrorCodes.rpc.invalidRequest,e),invalidParams:e=>Se(fe.standardErrorCodes.rpc.invalidParams,e),methodNotFound:e=>Se(fe.standardErrorCodes.rpc.methodNotFound,e),internal:e=>Se(fe.standardErrorCodes.rpc.internal,e),server:e=>{if(!e||typeof e!="object"||Array.isArray(e))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:t}=e;if(!Number.isInteger(t)||t>-32005||t<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return Se(t,e)},invalidInput:e=>Se(fe.standardErrorCodes.rpc.invalidInput,e),resourceNotFound:e=>Se(fe.standardErrorCodes.rpc.resourceNotFound,e),resourceUnavailable:e=>Se(fe.standardErrorCodes.rpc.resourceUnavailable,e),transactionRejected:e=>Se(fe.standardErrorCodes.rpc.transactionRejected,e),methodNotSupported:e=>Se(fe.standardErrorCodes.rpc.methodNotSupported,e),limitExceeded:e=>Se(fe.standardErrorCodes.rpc.limitExceeded,e)},provider:{userRejectedRequest:e=>ht(fe.standardErrorCodes.provider.userRejectedRequest,e),unauthorized:e=>ht(fe.standardErrorCodes.provider.unauthorized,e),unsupportedMethod:e=>ht(fe.standardErrorCodes.provider.unsupportedMethod,e),disconnected:e=>ht(fe.standardErrorCodes.provider.disconnected,e),chainDisconnected:e=>ht(fe.standardErrorCodes.provider.chainDisconnected,e),unsupportedChain:e=>ht(fe.standardErrorCodes.provider.unsupportedChain,e),custom:e=>{if(!e||typeof e!="object"||Array.isArray(e))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:t,message:r,data:n}=e;if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string');return new fs(t,r,n)}}};function Se(e,t){const[r,n]=hs(t);return new ds(e,r||(0,ls.getMessageFromCode)(e),n)}function ht(e,t){const[r,n]=hs(t);return new fs(e,r||(0,ls.getMessageFromCode)(e),n)}function hs(e){if(e){if(typeof e=="string")return[e];if(typeof e=="object"&&!Array.isArray(e)){const{message:t,data:r}=e;if(t&&typeof t!="string")throw new Error("Must specify string message.");return[t||void 0,r]}}return[]}class ds extends Error{constructor(t,r,n){if(!Number.isInteger(t))throw new Error('"code" must be an integer.');if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string.');super(r),this.code=t,n!==void 0&&(this.data=n)}}class fs extends ds{constructor(t,r,n){if(!Na(t))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(t,r,n)}}function Na(e){return Number.isInteger(e)&&e>=1e3&&e<=4999}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.standardErrors=e.standardErrorCodes=void 0;var t=Je;Object.defineProperty(e,"standardErrorCodes",{enumerable:!0,get:function(){return t.standardErrorCodes}});var r=or;Object.defineProperty(e,"standardErrors",{enumerable:!0,get:function(){return r.standardErrors}})})(qe);var cr={},Et={};Object.defineProperty(Et,"__esModule",{value:!0});Et.isErrorResponse=void 0;function Da(e){return e.errorMessage!==void 0}Et.isErrorResponse=Da;var at={};Object.defineProperty(at,"__esModule",{value:!0});at.LIB_VERSION=void 0;at.LIB_VERSION="4.0.3";Object.defineProperty(cr,"__esModule",{value:!0});cr.serializeError=void 0;const Oa=Et,Ua=at,Fa=Je,ja=Vn;function Wa(e,t){const r=(0,ja.serialize)($a(e),{shouldIncludeStack:!0}),n=new URL("https://docs.cloud.coinbase.com/wallet-sdk/docs/errors");n.searchParams.set("version",Ua.LIB_VERSION),n.searchParams.set("code",r.code.toString());const a=Ha(r.data,t);return a&&n.searchParams.set("method",a),n.searchParams.set("message",r.message),Object.assign(Object.assign({},r),{docUrl:n.href})}cr.serializeError=Wa;function $a(e){return typeof e=="string"?{message:e,code:Fa.standardErrorCodes.rpc.internal}:(0,Oa.isErrorResponse)(e)?Object.assign(Object.assign({},e),{message:e.errorMessage,code:e.errorCode,data:{method:e.method}}):e}function Ha(e,t){const r=e==null?void 0:e.method;if(r)return r;if(t!==void 0){if(typeof t=="string")return t;if(Array.isArray(t)){if(t.length>0)return t[0].method}else return t.method}}var ge={};Object.defineProperty(ge,"__esModule",{value:!0});ge.RegExpString=ge.IntNumber=ge.BigIntString=ge.AddressString=ge.HexString=ge.OpaqueType=void 0;function Bt(){return e=>e}ge.OpaqueType=Bt;ge.HexString=Bt();ge.AddressString=Bt();ge.BigIntString=Bt();function qa(e){return Math.floor(e)}ge.IntNumber=qa;ge.RegExpString=Bt();var O={};Object.defineProperty(O,"__esModule",{value:!0});O.areAddressArraysEqual=O.getFavicon=O.range=O.isBigNumber=O.ensureParsedJSONObject=O.ensureBigInt=O.ensureRegExpString=O.ensureIntNumber=O.ensureBuffer=O.ensureAddressString=O.ensureEvenLengthHexString=O.ensureHexString=O.isHexString=O.prepend0x=O.strip0x=O.has0xPrefix=O.hexStringFromIntNumber=O.intNumberFromHexString=O.bigIntStringFromBigInt=O.hexStringFromBuffer=O.hexStringToUint8Array=O.uint8ArrayToHex=O.randomBytesHex=void 0;const ot=qe,Ie=ge,ps=/^[0-9]*$/,_s=/^[a-f0-9]*$/;function Ka(e){return gs(crypto.getRandomValues(new Uint8Array(e)))}O.randomBytesHex=Ka;function gs(e){return[...e].map(t=>t.toString(16).padStart(2,"0")).join("")}O.uint8ArrayToHex=gs;function za(e){return new Uint8Array(e.match(/.{1,2}/g).map(t=>parseInt(t,16)))}O.hexStringToUint8Array=za;function Va(e,t=!1){const r=e.toString("hex");return(0,Ie.HexString)(t?`0x${r}`:r)}O.hexStringFromBuffer=Va;function Ga(e){return(0,Ie.BigIntString)(e.toString(10))}O.bigIntStringFromBigInt=Ga;function Za(e){return(0,Ie.IntNumber)(Number(BigInt(Pt(e,!0))))}O.intNumberFromHexString=Za;function Ya(e){return(0,Ie.HexString)(`0x${BigInt(e).toString(16)}`)}O.hexStringFromIntNumber=Ya;function Gn(e){return e.startsWith("0x")||e.startsWith("0X")}O.has0xPrefix=Gn;function ur(e){return Gn(e)?e.slice(2):e}O.strip0x=ur;function ys(e){return Gn(e)?`0x${e.slice(2)}`:`0x${e}`}O.prepend0x=ys;function Tt(e){if(typeof e!="string")return!1;const t=ur(e).toLowerCase();return _s.test(t)}O.isHexString=Tt;function bs(e,t=!1){if(typeof e=="string"){const r=ur(e).toLowerCase();if(_s.test(r))return(0,Ie.HexString)(t?`0x${r}`:r)}throw ot.standardErrors.rpc.invalidParams(`"${String(e)}" is not a hexadecimal string`)}O.ensureHexString=bs;function Pt(e,t=!1){let r=bs(e,!1);return r.length%2===1&&(r=(0,Ie.HexString)(`0${r}`)),t?(0,Ie.HexString)(`0x${r}`):r}O.ensureEvenLengthHexString=Pt;function Ja(e){if(typeof e=="string"){const t=ur(e).toLowerCase();if(Tt(t)&&t.length===40)return(0,Ie.AddressString)(ys(t))}throw ot.standardErrors.rpc.invalidParams(`Invalid Ethereum address: ${String(e)}`)}O.ensureAddressString=Ja;function Qa(e){if(Buffer.isBuffer(e))return e;if(typeof e=="string"){if(Tt(e)){const t=Pt(e,!1);return Buffer.from(t,"hex")}return Buffer.from(e,"utf8")}throw ot.standardErrors.rpc.invalidParams(`Not binary data: ${String(e)}`)}O.ensureBuffer=Qa;function ws(e){if(typeof e=="number"&&Number.isInteger(e))return(0,Ie.IntNumber)(e);if(typeof e=="string"){if(ps.test(e))return(0,Ie.IntNumber)(Number(e));if(Tt(e))return(0,Ie.IntNumber)(Number(BigInt(Pt(e,!0))))}throw ot.standardErrors.rpc.invalidParams(`Not an integer: ${String(e)}`)}O.ensureIntNumber=ws;function Xa(e){if(e instanceof RegExp)return(0,Ie.RegExpString)(e.toString());throw ot.standardErrors.rpc.invalidParams(`Not a RegExp: ${String(e)}`)}O.ensureRegExpString=Xa;function eo(e){if(e!==null&&(typeof e=="bigint"||ms(e)))return BigInt(e.toString(10));if(typeof e=="number")return BigInt(ws(e));if(typeof e=="string"){if(ps.test(e))return BigInt(e);if(Tt(e))return BigInt(Pt(e,!0))}throw ot.standardErrors.rpc.invalidParams(`Not an integer: ${String(e)}`)}O.ensureBigInt=eo;function to(e){if(typeof e=="string")return JSON.parse(e);if(typeof e=="object")return e;throw ot.standardErrors.rpc.invalidParams(`Not a JSON string or an object: ${String(e)}`)}O.ensureParsedJSONObject=to;function ms(e){if(e==null||typeof e.constructor!="function")return!1;const{constructor:t}=e;return typeof t.config=="function"&&typeof t.EUCLID=="number"}O.isBigNumber=ms;function ro(e,t){return Array.from({length:t-e},(r,n)=>e+n)}O.range=ro;function no(){const e=document.querySelector('link[sizes="192x192"]')||document.querySelector('link[sizes="180x180"]')||document.querySelector('link[rel="icon"]')||document.querySelector('link[rel="shortcut icon"]'),{protocol:t,host:r}=document.location,n=e?e.getAttribute("href"):null;return!n||n.startsWith("javascript:")||n.startsWith("vbscript:")?null:n.startsWith("http://")||n.startsWith("https://")||n.startsWith("data:")?n:n.startsWith("//")?t+n:`${t}//${r}${n}`}O.getFavicon=no;function io(e,t){return e.length===t.length&&e.every((r,n)=>r===t[n])}O.areAddressArraysEqual=io;var We={},lr={},hr={},ae={};Object.defineProperty(ae,"__esModule",{value:!0});ae.decryptContent=ae.encryptContent=ae.importKeyFromHexString=ae.exportKeyToHexString=ae.decrypt=ae.encrypt=ae.deriveSharedSecret=ae.generateKeyPair=void 0;const vs=O;async function so(){return crypto.subtle.generateKey({name:"ECDH",namedCurve:"P-256"},!0,["deriveKey"])}ae.generateKeyPair=so;async function ao(e,t){return crypto.subtle.deriveKey({name:"ECDH",public:t},e,{name:"AES-GCM",length:256},!1,["encrypt","decrypt"])}ae.deriveSharedSecret=ao;async function Es(e,t){const r=crypto.getRandomValues(new Uint8Array(12)),n=await crypto.subtle.encrypt({name:"AES-GCM",iv:r},e,new TextEncoder().encode(t));return{iv:r,cipherText:n}}ae.encrypt=Es;async function Ss(e,{iv:t,cipherText:r}){const n=await crypto.subtle.decrypt({name:"AES-GCM",iv:t},e,r);return new TextDecoder().decode(n)}ae.decrypt=Ss;function xs(e){switch(e){case"public":return"spki";case"private":return"pkcs8"}}async function oo(e,t){const r=xs(e),n=await crypto.subtle.exportKey(r,t);return(0,vs.uint8ArrayToHex)(new Uint8Array(n))}ae.exportKeyToHexString=oo;async function co(e,t){const r=xs(e),n=(0,vs.hexStringToUint8Array)(t).buffer;return await crypto.subtle.importKey(r,n,{name:"ECDH",namedCurve:"P-256"},!0,e==="private"?["deriveKey"]:[])}ae.importKeyFromHexString=co;async function uo(e,t){const r=JSON.stringify(e,(n,a)=>{if(!(a instanceof Error))return a;const c=a;return Object.assign(Object.assign({},c.code?{code:c.code}:{}),{message:c.message})});return Es(t,r)}ae.encryptContent=uo;async function lo(e,t){return JSON.parse(await Ss(t,e))}ae.decryptContent=lo;var Ke={};Object.defineProperty(Ke,"__esModule",{value:!0});Ke.ScopedLocalStorage=void 0;class tr{constructor(t,r){this.scope=t,this.module=r}setItem(t,r){localStorage.setItem(this.scopedKey(t),r)}getItem(t){return localStorage.getItem(this.scopedKey(t))}removeItem(t){localStorage.removeItem(this.scopedKey(t))}clear(){const t=this.scopedKey(""),r=[];for(let n=0;n<localStorage.length;n++){const a=localStorage.key(n);typeof a=="string"&&a.startsWith(t)&&r.push(a)}r.forEach(n=>localStorage.removeItem(n))}scopedKey(t){return`-${this.scope}${this.module?`:${this.module}`:""}:${t}`}static clearAll(){new tr("CBWSDK").clear(),new tr("walletlink").clear()}}Ke.ScopedLocalStorage=tr;Object.defineProperty(hr,"__esModule",{value:!0});hr.SCWKeyManager=void 0;const qt=ae,ho=Ke,bn={storageKey:"ownPrivateKey",keyType:"private"},wn={storageKey:"ownPublicKey",keyType:"public"},mn={storageKey:"peerPublicKey",keyType:"public"};class fo{constructor(){this.storage=new ho.ScopedLocalStorage("CBWSDK","SCWKeyManager"),this.ownPrivateKey=null,this.ownPublicKey=null,this.peerPublicKey=null,this.sharedSecret=null}async getOwnPublicKey(){return await this.loadKeysIfNeeded(),this.ownPublicKey}async getSharedSecret(){return await this.loadKeysIfNeeded(),this.sharedSecret}async setPeerPublicKey(t){this.sharedSecret=null,this.peerPublicKey=t,await this.storeKey(mn,t),await this.loadKeysIfNeeded()}async clear(){this.ownPrivateKey=null,this.ownPublicKey=null,this.peerPublicKey=null,this.sharedSecret=null,this.storage.removeItem(wn.storageKey),this.storage.removeItem(bn.storageKey),this.storage.removeItem(mn.storageKey)}async generateKeyPair(){const t=await(0,qt.generateKeyPair)();this.ownPrivateKey=t.privateKey,this.ownPublicKey=t.publicKey,await this.storeKey(bn,t.privateKey),await this.storeKey(wn,t.publicKey)}async loadKeysIfNeeded(){if(this.ownPrivateKey===null&&(this.ownPrivateKey=await this.loadKey(bn)),this.ownPublicKey===null&&(this.ownPublicKey=await this.loadKey(wn)),(this.ownPrivateKey===null||this.ownPublicKey===null)&&await this.generateKeyPair(),this.peerPublicKey===null&&(this.peerPublicKey=await this.loadKey(mn)),this.sharedSecret===null){if(this.ownPrivateKey===null||this.peerPublicKey===null)return;this.sharedSecret=await(0,qt.deriveSharedSecret)(this.ownPrivateKey,this.peerPublicKey)}}async loadKey(t){const r=this.storage.getItem(t.storageKey);return r?(0,qt.importKeyFromHexString)(t.keyType,r):null}async storeKey(t,r){const n=await(0,qt.exportKeyToHexString)(t.keyType,r);this.storage.setItem(t.storageKey,n)}}hr.SCWKeyManager=fo;var dr={};Object.defineProperty(dr,"__esModule",{value:!0});dr.SCWStateManager=void 0;const po=Ke,ci="accounts",ui="activeChain",li="availableChains",hi="walletCapabilities";class _o{get accounts(){return this._accounts}get activeChain(){return this._activeChain}get walletCapabilities(){return this._walletCapabilities}constructor(t){var r,n;this.storage=new po.ScopedLocalStorage("CBWSDK","SCWStateManager"),this.updateListener=t.updateListener,this.availableChains=this.loadItemFromStorage(li),this._walletCapabilities=this.loadItemFromStorage(hi);const a=this.loadItemFromStorage(ci),c=this.loadItemFromStorage(ui);a&&this.updateListener.onAccountsUpdate({accounts:a,source:"storage"}),c&&this.updateListener.onChainUpdate({chain:c,source:"storage"}),this._accounts=a||[],this._activeChain=c||{id:(n=(r=t.appChainIds)===null||r===void 0?void 0:r[0])!==null&&n!==void 0?n:1}}updateAccounts(t){this._accounts=t,this.storeItemToStorage(ci,t),this.updateListener.onAccountsUpdate({accounts:t,source:"wallet"})}switchChain(t){var r;const n=(r=this.availableChains)===null||r===void 0?void 0:r.find(a=>a.id===t);return n?(n===this._activeChain||(this._activeChain=n,this.storeItemToStorage(ui,n),this.updateListener.onChainUpdate({chain:n,source:"wallet"})),!0):!1}updateAvailableChains(t){if(!t||Object.keys(t).length===0)return;const r=Object.entries(t).map(([n,a])=>({id:Number(n),rpcUrl:a}));this.availableChains=r,this.storeItemToStorage(li,r),this.switchChain(this._activeChain.id)}updateWalletCapabilities(t){this._walletCapabilities=t,this.storeItemToStorage(hi,t)}storeItemToStorage(t,r){this.storage.setItem(t,JSON.stringify(r))}loadItemFromStorage(t){const r=this.storage.getItem(t);return r?JSON.parse(r):void 0}clear(){this.storage.clear()}}dr.SCWStateManager=_o;Object.defineProperty(lr,"__esModule",{value:!0});lr.SCWSigner=void 0;const go=hr,yo=dr,Kt=qe,di=O,zt=ae;class bo{constructor(t){this.metadata=t.metadata,this.communicator=t.communicator,this.keyManager=new go.SCWKeyManager,this.stateManager=new yo.SCWStateManager({appChainIds:this.metadata.appChainIds,updateListener:t.updateListener}),this.handshake=this.handshake.bind(this),this.request=this.request.bind(this),this.createRequestMessage=this.createRequestMessage.bind(this),this.decryptResponseMessage=this.decryptResponseMessage.bind(this)}async handshake(){const t=await this.createRequestMessage({handshake:{method:"eth_requestAccounts",params:this.metadata}}),r=await this.communicator.postRequestAndWaitForResponse(t);if("failure"in r.content)throw r.content.failure;const n=await(0,zt.importKeyFromHexString)("public",r.sender);await this.keyManager.setPeerPublicKey(n);const a=await this.decryptResponseMessage(r);this.updateInternalState({method:"eth_requestAccounts"},a);const c=a.result;if("error"in c)throw c.error;return this.stateManager.accounts}async request(t){const r=this.tryLocalHandling(t);if(r!==void 0){if(r instanceof Error)throw r;return r}await this.communicator.waitForPopupLoaded();const n=await this.sendEncryptedRequest(t),a=await this.decryptResponseMessage(n);this.updateInternalState(t,a);const c=a.result;if("error"in c)throw c.error;return c.value}async disconnect(){this.stateManager.clear(),await this.keyManager.clear()}tryLocalHandling(t){var r;switch(t.method){case"wallet_switchEthereumChain":{const n=t.params;if(!n||!(!((r=n[0])===null||r===void 0)&&r.chainId))throw Kt.standardErrors.rpc.invalidParams();const a=(0,di.ensureIntNumber)(n[0].chainId);return this.stateManager.switchChain(a)?null:void 0}case"wallet_getCapabilities":{const n=this.stateManager.walletCapabilities;if(!n)throw Kt.standardErrors.provider.unauthorized("No wallet capabilities found, please disconnect and reconnect");return n}default:return}}async sendEncryptedRequest(t){const r=await this.keyManager.getSharedSecret();if(!r)throw Kt.standardErrors.provider.unauthorized("No valid session found, try requestAccounts before other methods");const n=await(0,zt.encryptContent)({action:t,chainId:this.stateManager.activeChain.id},r),a=await this.createRequestMessage({encrypted:n});return this.communicator.postRequestAndWaitForResponse(a)}async createRequestMessage(t){const r=await(0,zt.exportKeyToHexString)("public",await this.keyManager.getOwnPublicKey());return{id:crypto.randomUUID(),sender:r,content:t,timestamp:new Date}}async decryptResponseMessage(t){const r=t.content;if("failure"in r)throw r.failure;const n=await this.keyManager.getSharedSecret();if(!n)throw Kt.standardErrors.provider.unauthorized("Invalid session");return(0,zt.decryptContent)(r.encrypted,n)}updateInternalState(t,r){var n,a;const c=(n=r.data)===null||n===void 0?void 0:n.chains;c&&this.stateManager.updateAvailableChains(c);const u=(a=r.data)===null||a===void 0?void 0:a.capabilities;u&&this.stateManager.updateWalletCapabilities(u);const o=r.result;if(!("error"in o))switch(t.method){case"eth_requestAccounts":{const h=o.value;this.stateManager.updateAccounts(h);break}case"wallet_switchEthereumChain":{if(o.value!==null)return;const h=t.params,_=(0,di.ensureIntNumber)(h[0].chainId);this.stateManager.switchChain(_);break}}}}lr.SCWSigner=bo;var fr={},Dn={exports:{}},Cs=cs.EventEmitter,Nt={},pr={};pr.byteLength=vo;pr.toByteArray=So;pr.fromByteArray=Io;var je=[],xe=[],wo=typeof Uint8Array<"u"?Uint8Array:Array,vn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var dt=0,mo=vn.length;dt<mo;++dt)je[dt]=vn[dt],xe[vn.charCodeAt(dt)]=dt;xe["-".charCodeAt(0)]=62;xe["_".charCodeAt(0)]=63;function Is(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");r===-1&&(r=t);var n=r===t?0:4-r%4;return[r,n]}function vo(e){var t=Is(e),r=t[0],n=t[1];return(r+n)*3/4-n}function Eo(e,t,r){return(t+r)*3/4-r}function So(e){var t,r=Is(e),n=r[0],a=r[1],c=new wo(Eo(e,n,a)),u=0,o=a>0?n-4:n,h;for(h=0;h<o;h+=4)t=xe[e.charCodeAt(h)]<<18|xe[e.charCodeAt(h+1)]<<12|xe[e.charCodeAt(h+2)]<<6|xe[e.charCodeAt(h+3)],c[u++]=t>>16&255,c[u++]=t>>8&255,c[u++]=t&255;return a===2&&(t=xe[e.charCodeAt(h)]<<2|xe[e.charCodeAt(h+1)]>>4,c[u++]=t&255),a===1&&(t=xe[e.charCodeAt(h)]<<10|xe[e.charCodeAt(h+1)]<<4|xe[e.charCodeAt(h+2)]>>2,c[u++]=t>>8&255,c[u++]=t&255),c}function xo(e){return je[e>>18&63]+je[e>>12&63]+je[e>>6&63]+je[e&63]}function Co(e,t,r){for(var n,a=[],c=t;c<r;c+=3)n=(e[c]<<16&16711680)+(e[c+1]<<8&65280)+(e[c+2]&255),a.push(xo(n));return a.join("")}function Io(e){for(var t,r=e.length,n=r%3,a=[],c=16383,u=0,o=r-n;u<o;u+=c)a.push(Co(e,u,u+c>o?o:u+c));return n===1?(t=e[r-1],a.push(je[t>>2]+je[t<<4&63]+"==")):n===2&&(t=(e[r-2]<<8)+e[r-1],a.push(je[t>>10]+je[t>>4&63]+je[t<<2&63]+"=")),a.join("")}var Zn={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */Zn.read=function(e,t,r,n,a){var c,u,o=a*8-n-1,h=(1<<o)-1,_=h>>1,E=-7,g=r?a-1:0,w=r?-1:1,S=e[t+g];for(g+=w,c=S&(1<<-E)-1,S>>=-E,E+=o;E>0;c=c*256+e[t+g],g+=w,E-=8);for(u=c&(1<<-E)-1,c>>=-E,E+=n;E>0;u=u*256+e[t+g],g+=w,E-=8);if(c===0)c=1-_;else{if(c===h)return u?NaN:(S?-1:1)*(1/0);u=u+Math.pow(2,n),c=c-_}return(S?-1:1)*u*Math.pow(2,c-n)};Zn.write=function(e,t,r,n,a,c){var u,o,h,_=c*8-a-1,E=(1<<_)-1,g=E>>1,w=a===23?Math.pow(2,-24)-Math.pow(2,-77):0,S=n?0:c-1,k=n?1:-1,T=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(o=isNaN(t)?1:0,u=E):(u=Math.floor(Math.log(t)/Math.LN2),t*(h=Math.pow(2,-u))<1&&(u--,h*=2),u+g>=1?t+=w/h:t+=w*Math.pow(2,1-g),t*h>=2&&(u++,h/=2),u+g>=E?(o=0,u=E):u+g>=1?(o=(t*h-1)*Math.pow(2,a),u=u+g):(o=t*Math.pow(2,g-1)*Math.pow(2,a),u=0));a>=8;e[r+S]=o&255,S+=k,o/=256,a-=8);for(u=u<<a|o,_+=a;_>0;e[r+S]=u&255,S+=k,u/=256,_-=8);e[r+S-k]|=T*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(e){const t=pr,r=Zn,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=o,e.SlowBuffer=C,e.INSPECT_MAX_BYTES=50;const a=2147483647;e.kMaxLength=a,o.TYPED_ARRAY_SUPPORT=c(),!o.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function c(){try{const l=new Uint8Array(1),i={foo:function(){return 42}};return Object.setPrototypeOf(i,Uint8Array.prototype),Object.setPrototypeOf(l,i),l.foo()===42}catch{return!1}}Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}});function u(l){if(l>a)throw new RangeError('The value "'+l+'" is invalid for option "size"');const i=new Uint8Array(l);return Object.setPrototypeOf(i,o.prototype),i}function o(l,i,s){if(typeof l=="number"){if(typeof i=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return g(l)}return h(l,i,s)}o.poolSize=8192;function h(l,i,s){if(typeof l=="string")return w(l,i);if(ArrayBuffer.isView(l))return k(l);if(l==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof l);if(_e(l,ArrayBuffer)||l&&_e(l.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(_e(l,SharedArrayBuffer)||l&&_e(l.buffer,SharedArrayBuffer)))return T(l,i,s);if(typeof l=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const d=l.valueOf&&l.valueOf();if(d!=null&&d!==l)return o.from(d,i,s);const b=L(l);if(b)return b;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof l[Symbol.toPrimitive]=="function")return o.from(l[Symbol.toPrimitive]("string"),i,s);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof l)}o.from=function(l,i,s){return h(l,i,s)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array);function _(l){if(typeof l!="number")throw new TypeError('"size" argument must be of type number');if(l<0)throw new RangeError('The value "'+l+'" is invalid for option "size"')}function E(l,i,s){return _(l),l<=0?u(l):i!==void 0?typeof s=="string"?u(l).fill(i,s):u(l).fill(i):u(l)}o.alloc=function(l,i,s){return E(l,i,s)};function g(l){return _(l),u(l<0?0:y(l)|0)}o.allocUnsafe=function(l){return g(l)},o.allocUnsafeSlow=function(l){return g(l)};function w(l,i){if((typeof i!="string"||i==="")&&(i="utf8"),!o.isEncoding(i))throw new TypeError("Unknown encoding: "+i);const s=B(l,i)|0;let d=u(s);const b=d.write(l,i);return b!==s&&(d=d.slice(0,b)),d}function S(l){const i=l.length<0?0:y(l.length)|0,s=u(i);for(let d=0;d<i;d+=1)s[d]=l[d]&255;return s}function k(l){if(_e(l,Uint8Array)){const i=new Uint8Array(l);return T(i.buffer,i.byteOffset,i.byteLength)}return S(l)}function T(l,i,s){if(i<0||l.byteLength<i)throw new RangeError('"offset" is outside of buffer bounds');if(l.byteLength<i+(s||0))throw new RangeError('"length" is outside of buffer bounds');let d;return i===void 0&&s===void 0?d=new Uint8Array(l):s===void 0?d=new Uint8Array(l,i):d=new Uint8Array(l,i,s),Object.setPrototypeOf(d,o.prototype),d}function L(l){if(o.isBuffer(l)){const i=y(l.length)|0,s=u(i);return s.length===0||l.copy(s,0,0,i),s}if(l.length!==void 0)return typeof l.length!="number"||De(l.length)?u(0):S(l);if(l.type==="Buffer"&&Array.isArray(l.data))return S(l.data)}function y(l){if(l>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return l|0}function C(l){return+l!=l&&(l=0),o.alloc(+l)}o.isBuffer=function(i){return i!=null&&i._isBuffer===!0&&i!==o.prototype},o.compare=function(i,s){if(_e(i,Uint8Array)&&(i=o.from(i,i.offset,i.byteLength)),_e(s,Uint8Array)&&(s=o.from(s,s.offset,s.byteLength)),!o.isBuffer(i)||!o.isBuffer(s))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(i===s)return 0;let d=i.length,b=s.length;for(let x=0,I=Math.min(d,b);x<I;++x)if(i[x]!==s[x]){d=i[x],b=s[x];break}return d<b?-1:b<d?1:0},o.isEncoding=function(i){switch(String(i).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(i,s){if(!Array.isArray(i))throw new TypeError('"list" argument must be an Array of Buffers');if(i.length===0)return o.alloc(0);let d;if(s===void 0)for(s=0,d=0;d<i.length;++d)s+=i[d].length;const b=o.allocUnsafe(s);let x=0;for(d=0;d<i.length;++d){let I=i[d];if(_e(I,Uint8Array))x+I.length>b.length?(o.isBuffer(I)||(I=o.from(I)),I.copy(b,x)):Uint8Array.prototype.set.call(b,I,x);else if(o.isBuffer(I))I.copy(b,x);else throw new TypeError('"list" argument must be an Array of Buffers');x+=I.length}return b};function B(l,i){if(o.isBuffer(l))return l.length;if(ArrayBuffer.isView(l)||_e(l,ArrayBuffer))return l.byteLength;if(typeof l!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof l);const s=l.length,d=arguments.length>2&&arguments[2]===!0;if(!d&&s===0)return 0;let b=!1;for(;;)switch(i){case"ascii":case"latin1":case"binary":return s;case"utf8":case"utf-8":return K(l).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return s*2;case"hex":return s>>>1;case"base64":return et(l).length;default:if(b)return d?-1:K(l).length;i=(""+i).toLowerCase(),b=!0}}o.byteLength=B;function A(l,i,s){let d=!1;if((i===void 0||i<0)&&(i=0),i>this.length||((s===void 0||s>this.length)&&(s=this.length),s<=0)||(s>>>=0,i>>>=0,s<=i))return"";for(l||(l="utf8");;)switch(l){case"hex":return me(this,i,s);case"utf8":case"utf-8":return he(this,i,s);case"ascii":return we(this,i,s);case"latin1":case"binary":return Ae(this,i,s);case"base64":return ne(this,i,s);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Me(this,i,s);default:if(d)throw new TypeError("Unknown encoding: "+l);l=(l+"").toLowerCase(),d=!0}}o.prototype._isBuffer=!0;function P(l,i,s){const d=l[i];l[i]=l[s],l[s]=d}o.prototype.swap16=function(){const i=this.length;if(i%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let s=0;s<i;s+=2)P(this,s,s+1);return this},o.prototype.swap32=function(){const i=this.length;if(i%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let s=0;s<i;s+=4)P(this,s,s+3),P(this,s+1,s+2);return this},o.prototype.swap64=function(){const i=this.length;if(i%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let s=0;s<i;s+=8)P(this,s,s+7),P(this,s+1,s+6),P(this,s+2,s+5),P(this,s+3,s+4);return this},o.prototype.toString=function(){const i=this.length;return i===0?"":arguments.length===0?he(this,0,i):A.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(i){if(!o.isBuffer(i))throw new TypeError("Argument must be a Buffer");return this===i?!0:o.compare(this,i)===0},o.prototype.inspect=function(){let i="";const s=e.INSPECT_MAX_BYTES;return i=this.toString("hex",0,s).replace(/(.{2})/g,"$1 ").trim(),this.length>s&&(i+=" ... "),"<Buffer "+i+">"},n&&(o.prototype[n]=o.prototype.inspect),o.prototype.compare=function(i,s,d,b,x){if(_e(i,Uint8Array)&&(i=o.from(i,i.offset,i.byteLength)),!o.isBuffer(i))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof i);if(s===void 0&&(s=0),d===void 0&&(d=i?i.length:0),b===void 0&&(b=0),x===void 0&&(x=this.length),s<0||d>i.length||b<0||x>this.length)throw new RangeError("out of range index");if(b>=x&&s>=d)return 0;if(b>=x)return-1;if(s>=d)return 1;if(s>>>=0,d>>>=0,b>>>=0,x>>>=0,this===i)return 0;let I=x-b,W=d-s;const X=Math.min(I,W),G=this.slice(b,x),ee=i.slice(s,d);for(let V=0;V<X;++V)if(G[V]!==ee[V]){I=G[V],W=ee[V];break}return I<W?-1:W<I?1:0};function U(l,i,s,d,b){if(l.length===0)return-1;if(typeof s=="string"?(d=s,s=0):s>2147483647?s=2147483647:s<-2147483648&&(s=-2147483648),s=+s,De(s)&&(s=b?0:l.length-1),s<0&&(s=l.length+s),s>=l.length){if(b)return-1;s=l.length-1}else if(s<0)if(b)s=0;else return-1;if(typeof i=="string"&&(i=o.from(i,d)),o.isBuffer(i))return i.length===0?-1:z(l,i,s,d,b);if(typeof i=="number")return i=i&255,typeof Uint8Array.prototype.indexOf=="function"?b?Uint8Array.prototype.indexOf.call(l,i,s):Uint8Array.prototype.lastIndexOf.call(l,i,s):z(l,[i],s,d,b);throw new TypeError("val must be string, number or Buffer")}function z(l,i,s,d,b){let x=1,I=l.length,W=i.length;if(d!==void 0&&(d=String(d).toLowerCase(),d==="ucs2"||d==="ucs-2"||d==="utf16le"||d==="utf-16le")){if(l.length<2||i.length<2)return-1;x=2,I/=2,W/=2,s/=2}function X(ee,V){return x===1?ee[V]:ee.readUInt16BE(V*x)}let G;if(b){let ee=-1;for(G=s;G<I;G++)if(X(l,G)===X(i,ee===-1?0:G-ee)){if(ee===-1&&(ee=G),G-ee+1===W)return ee*x}else ee!==-1&&(G-=G-ee),ee=-1}else for(s+W>I&&(s=I-W),G=s;G>=0;G--){let ee=!0;for(let V=0;V<W;V++)if(X(l,G+V)!==X(i,V)){ee=!1;break}if(ee)return G}return-1}o.prototype.includes=function(i,s,d){return this.indexOf(i,s,d)!==-1},o.prototype.indexOf=function(i,s,d){return U(this,i,s,d,!0)},o.prototype.lastIndexOf=function(i,s,d){return U(this,i,s,d,!1)};function j(l,i,s,d){s=Number(s)||0;const b=l.length-s;d?(d=Number(d),d>b&&(d=b)):d=b;const x=i.length;d>x/2&&(d=x/2);let I;for(I=0;I<d;++I){const W=parseInt(i.substr(I*2,2),16);if(De(W))return I;l[s+I]=W}return I}function F(l,i,s,d){return Ve(K(i,l.length-s),l,s,d)}function Z(l,i,s,d){return Ve(Be(i),l,s,d)}function le(l,i,s,d){return Ve(et(i),l,s,d)}function Re(l,i,s,d){return Ve(ze(i,l.length-s),l,s,d)}o.prototype.write=function(i,s,d,b){if(s===void 0)b="utf8",d=this.length,s=0;else if(d===void 0&&typeof s=="string")b=s,d=this.length,s=0;else if(isFinite(s))s=s>>>0,isFinite(d)?(d=d>>>0,b===void 0&&(b="utf8")):(b=d,d=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const x=this.length-s;if((d===void 0||d>x)&&(d=x),i.length>0&&(d<0||s<0)||s>this.length)throw new RangeError("Attempt to write outside buffer bounds");b||(b="utf8");let I=!1;for(;;)switch(b){case"hex":return j(this,i,s,d);case"utf8":case"utf-8":return F(this,i,s,d);case"ascii":case"latin1":case"binary":return Z(this,i,s,d);case"base64":return le(this,i,s,d);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Re(this,i,s,d);default:if(I)throw new TypeError("Unknown encoding: "+b);b=(""+b).toLowerCase(),I=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function ne(l,i,s){return i===0&&s===l.length?t.fromByteArray(l):t.fromByteArray(l.slice(i,s))}function he(l,i,s){s=Math.min(l.length,s);const d=[];let b=i;for(;b<s;){const x=l[b];let I=null,W=x>239?4:x>223?3:x>191?2:1;if(b+W<=s){let X,G,ee,V;switch(W){case 1:x<128&&(I=x);break;case 2:X=l[b+1],(X&192)===128&&(V=(x&31)<<6|X&63,V>127&&(I=V));break;case 3:X=l[b+1],G=l[b+2],(X&192)===128&&(G&192)===128&&(V=(x&15)<<12|(X&63)<<6|G&63,V>2047&&(V<55296||V>57343)&&(I=V));break;case 4:X=l[b+1],G=l[b+2],ee=l[b+3],(X&192)===128&&(G&192)===128&&(ee&192)===128&&(V=(x&15)<<18|(X&63)<<12|(G&63)<<6|ee&63,V>65535&&V<1114112&&(I=V))}}I===null?(I=65533,W=1):I>65535&&(I-=65536,d.push(I>>>10&1023|55296),I=56320|I&1023),d.push(I),b+=W}return Ne(d)}const de=4096;function Ne(l){const i=l.length;if(i<=de)return String.fromCharCode.apply(String,l);let s="",d=0;for(;d<i;)s+=String.fromCharCode.apply(String,l.slice(d,d+=de));return s}function we(l,i,s){let d="";s=Math.min(l.length,s);for(let b=i;b<s;++b)d+=String.fromCharCode(l[b]&127);return d}function Ae(l,i,s){let d="";s=Math.min(l.length,s);for(let b=i;b<s;++b)d+=String.fromCharCode(l[b]);return d}function me(l,i,s){const d=l.length;(!i||i<0)&&(i=0),(!s||s<0||s>d)&&(s=d);let b="";for(let x=i;x<s;++x)b+=tt[l[x]];return b}function Me(l,i,s){const d=l.slice(i,s);let b="";for(let x=0;x<d.length-1;x+=2)b+=String.fromCharCode(d[x]+d[x+1]*256);return b}o.prototype.slice=function(i,s){const d=this.length;i=~~i,s=s===void 0?d:~~s,i<0?(i+=d,i<0&&(i=0)):i>d&&(i=d),s<0?(s+=d,s<0&&(s=0)):s>d&&(s=d),s<i&&(s=i);const b=this.subarray(i,s);return Object.setPrototypeOf(b,o.prototype),b};function Y(l,i,s){if(l%1!==0||l<0)throw new RangeError("offset is not uint");if(l+i>s)throw new RangeError("Trying to access beyond buffer length")}o.prototype.readUintLE=o.prototype.readUIntLE=function(i,s,d){i=i>>>0,s=s>>>0,d||Y(i,s,this.length);let b=this[i],x=1,I=0;for(;++I<s&&(x*=256);)b+=this[i+I]*x;return b},o.prototype.readUintBE=o.prototype.readUIntBE=function(i,s,d){i=i>>>0,s=s>>>0,d||Y(i,s,this.length);let b=this[i+--s],x=1;for(;s>0&&(x*=256);)b+=this[i+--s]*x;return b},o.prototype.readUint8=o.prototype.readUInt8=function(i,s){return i=i>>>0,s||Y(i,1,this.length),this[i]},o.prototype.readUint16LE=o.prototype.readUInt16LE=function(i,s){return i=i>>>0,s||Y(i,2,this.length),this[i]|this[i+1]<<8},o.prototype.readUint16BE=o.prototype.readUInt16BE=function(i,s){return i=i>>>0,s||Y(i,2,this.length),this[i]<<8|this[i+1]},o.prototype.readUint32LE=o.prototype.readUInt32LE=function(i,s){return i=i>>>0,s||Y(i,4,this.length),(this[i]|this[i+1]<<8|this[i+2]<<16)+this[i+3]*16777216},o.prototype.readUint32BE=o.prototype.readUInt32BE=function(i,s){return i=i>>>0,s||Y(i,4,this.length),this[i]*16777216+(this[i+1]<<16|this[i+2]<<8|this[i+3])},o.prototype.readBigUInt64LE=ye(function(i){i=i>>>0,R(i,"offset");const s=this[i],d=this[i+7];(s===void 0||d===void 0)&&N(i,this.length-8);const b=s+this[++i]*2**8+this[++i]*2**16+this[++i]*2**24,x=this[++i]+this[++i]*2**8+this[++i]*2**16+d*2**24;return BigInt(b)+(BigInt(x)<<BigInt(32))}),o.prototype.readBigUInt64BE=ye(function(i){i=i>>>0,R(i,"offset");const s=this[i],d=this[i+7];(s===void 0||d===void 0)&&N(i,this.length-8);const b=s*2**24+this[++i]*2**16+this[++i]*2**8+this[++i],x=this[++i]*2**24+this[++i]*2**16+this[++i]*2**8+d;return(BigInt(b)<<BigInt(32))+BigInt(x)}),o.prototype.readIntLE=function(i,s,d){i=i>>>0,s=s>>>0,d||Y(i,s,this.length);let b=this[i],x=1,I=0;for(;++I<s&&(x*=256);)b+=this[i+I]*x;return x*=128,b>=x&&(b-=Math.pow(2,8*s)),b},o.prototype.readIntBE=function(i,s,d){i=i>>>0,s=s>>>0,d||Y(i,s,this.length);let b=s,x=1,I=this[i+--b];for(;b>0&&(x*=256);)I+=this[i+--b]*x;return x*=128,I>=x&&(I-=Math.pow(2,8*s)),I},o.prototype.readInt8=function(i,s){return i=i>>>0,s||Y(i,1,this.length),this[i]&128?(255-this[i]+1)*-1:this[i]},o.prototype.readInt16LE=function(i,s){i=i>>>0,s||Y(i,2,this.length);const d=this[i]|this[i+1]<<8;return d&32768?d|4294901760:d},o.prototype.readInt16BE=function(i,s){i=i>>>0,s||Y(i,2,this.length);const d=this[i+1]|this[i]<<8;return d&32768?d|4294901760:d},o.prototype.readInt32LE=function(i,s){return i=i>>>0,s||Y(i,4,this.length),this[i]|this[i+1]<<8|this[i+2]<<16|this[i+3]<<24},o.prototype.readInt32BE=function(i,s){return i=i>>>0,s||Y(i,4,this.length),this[i]<<24|this[i+1]<<16|this[i+2]<<8|this[i+3]},o.prototype.readBigInt64LE=ye(function(i){i=i>>>0,R(i,"offset");const s=this[i],d=this[i+7];(s===void 0||d===void 0)&&N(i,this.length-8);const b=this[i+4]+this[i+5]*2**8+this[i+6]*2**16+(d<<24);return(BigInt(b)<<BigInt(32))+BigInt(s+this[++i]*2**8+this[++i]*2**16+this[++i]*2**24)}),o.prototype.readBigInt64BE=ye(function(i){i=i>>>0,R(i,"offset");const s=this[i],d=this[i+7];(s===void 0||d===void 0)&&N(i,this.length-8);const b=(s<<24)+this[++i]*2**16+this[++i]*2**8+this[++i];return(BigInt(b)<<BigInt(32))+BigInt(this[++i]*2**24+this[++i]*2**16+this[++i]*2**8+d)}),o.prototype.readFloatLE=function(i,s){return i=i>>>0,s||Y(i,4,this.length),r.read(this,i,!0,23,4)},o.prototype.readFloatBE=function(i,s){return i=i>>>0,s||Y(i,4,this.length),r.read(this,i,!1,23,4)},o.prototype.readDoubleLE=function(i,s){return i=i>>>0,s||Y(i,8,this.length),r.read(this,i,!0,52,8)},o.prototype.readDoubleBE=function(i,s){return i=i>>>0,s||Y(i,8,this.length),r.read(this,i,!1,52,8)};function te(l,i,s,d,b,x){if(!o.isBuffer(l))throw new TypeError('"buffer" argument must be a Buffer instance');if(i>b||i<x)throw new RangeError('"value" argument is out of bounds');if(s+d>l.length)throw new RangeError("Index out of range")}o.prototype.writeUintLE=o.prototype.writeUIntLE=function(i,s,d,b){if(i=+i,s=s>>>0,d=d>>>0,!b){const W=Math.pow(2,8*d)-1;te(this,i,s,d,W,0)}let x=1,I=0;for(this[s]=i&255;++I<d&&(x*=256);)this[s+I]=i/x&255;return s+d},o.prototype.writeUintBE=o.prototype.writeUIntBE=function(i,s,d,b){if(i=+i,s=s>>>0,d=d>>>0,!b){const W=Math.pow(2,8*d)-1;te(this,i,s,d,W,0)}let x=d-1,I=1;for(this[s+x]=i&255;--x>=0&&(I*=256);)this[s+x]=i/I&255;return s+d},o.prototype.writeUint8=o.prototype.writeUInt8=function(i,s,d){return i=+i,s=s>>>0,d||te(this,i,s,1,255,0),this[s]=i&255,s+1},o.prototype.writeUint16LE=o.prototype.writeUInt16LE=function(i,s,d){return i=+i,s=s>>>0,d||te(this,i,s,2,65535,0),this[s]=i&255,this[s+1]=i>>>8,s+2},o.prototype.writeUint16BE=o.prototype.writeUInt16BE=function(i,s,d){return i=+i,s=s>>>0,d||te(this,i,s,2,65535,0),this[s]=i>>>8,this[s+1]=i&255,s+2},o.prototype.writeUint32LE=o.prototype.writeUInt32LE=function(i,s,d){return i=+i,s=s>>>0,d||te(this,i,s,4,4294967295,0),this[s+3]=i>>>24,this[s+2]=i>>>16,this[s+1]=i>>>8,this[s]=i&255,s+4},o.prototype.writeUint32BE=o.prototype.writeUInt32BE=function(i,s,d){return i=+i,s=s>>>0,d||te(this,i,s,4,4294967295,0),this[s]=i>>>24,this[s+1]=i>>>16,this[s+2]=i>>>8,this[s+3]=i&255,s+4};function pe(l,i,s,d,b){p(i,d,b,l,s,7);let x=Number(i&BigInt(4294967295));l[s++]=x,x=x>>8,l[s++]=x,x=x>>8,l[s++]=x,x=x>>8,l[s++]=x;let I=Number(i>>BigInt(32)&BigInt(4294967295));return l[s++]=I,I=I>>8,l[s++]=I,I=I>>8,l[s++]=I,I=I>>8,l[s++]=I,s}function Le(l,i,s,d,b){p(i,d,b,l,s,7);let x=Number(i&BigInt(4294967295));l[s+7]=x,x=x>>8,l[s+6]=x,x=x>>8,l[s+5]=x,x=x>>8,l[s+4]=x;let I=Number(i>>BigInt(32)&BigInt(4294967295));return l[s+3]=I,I=I>>8,l[s+2]=I,I=I>>8,l[s+1]=I,I=I>>8,l[s]=I,s+8}o.prototype.writeBigUInt64LE=ye(function(i,s=0){return pe(this,i,s,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeBigUInt64BE=ye(function(i,s=0){return Le(this,i,s,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeIntLE=function(i,s,d,b){if(i=+i,s=s>>>0,!b){const X=Math.pow(2,8*d-1);te(this,i,s,d,X-1,-X)}let x=0,I=1,W=0;for(this[s]=i&255;++x<d&&(I*=256);)i<0&&W===0&&this[s+x-1]!==0&&(W=1),this[s+x]=(i/I>>0)-W&255;return s+d},o.prototype.writeIntBE=function(i,s,d,b){if(i=+i,s=s>>>0,!b){const X=Math.pow(2,8*d-1);te(this,i,s,d,X-1,-X)}let x=d-1,I=1,W=0;for(this[s+x]=i&255;--x>=0&&(I*=256);)i<0&&W===0&&this[s+x+1]!==0&&(W=1),this[s+x]=(i/I>>0)-W&255;return s+d},o.prototype.writeInt8=function(i,s,d){return i=+i,s=s>>>0,d||te(this,i,s,1,127,-128),i<0&&(i=255+i+1),this[s]=i&255,s+1},o.prototype.writeInt16LE=function(i,s,d){return i=+i,s=s>>>0,d||te(this,i,s,2,32767,-32768),this[s]=i&255,this[s+1]=i>>>8,s+2},o.prototype.writeInt16BE=function(i,s,d){return i=+i,s=s>>>0,d||te(this,i,s,2,32767,-32768),this[s]=i>>>8,this[s+1]=i&255,s+2},o.prototype.writeInt32LE=function(i,s,d){return i=+i,s=s>>>0,d||te(this,i,s,4,2147483647,-2147483648),this[s]=i&255,this[s+1]=i>>>8,this[s+2]=i>>>16,this[s+3]=i>>>24,s+4},o.prototype.writeInt32BE=function(i,s,d){return i=+i,s=s>>>0,d||te(this,i,s,4,2147483647,-2147483648),i<0&&(i=4294967295+i+1),this[s]=i>>>24,this[s+1]=i>>>16,this[s+2]=i>>>8,this[s+3]=i&255,s+4},o.prototype.writeBigInt64LE=ye(function(i,s=0){return pe(this,i,s,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),o.prototype.writeBigInt64BE=ye(function(i,s=0){return Le(this,i,s,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Ee(l,i,s,d,b,x){if(s+d>l.length)throw new RangeError("Index out of range");if(s<0)throw new RangeError("Index out of range")}function v(l,i,s,d,b){return i=+i,s=s>>>0,b||Ee(l,i,s,4),r.write(l,i,s,d,23,4),s+4}o.prototype.writeFloatLE=function(i,s,d){return v(this,i,s,!0,d)},o.prototype.writeFloatBE=function(i,s,d){return v(this,i,s,!1,d)};function m(l,i,s,d,b){return i=+i,s=s>>>0,b||Ee(l,i,s,8),r.write(l,i,s,d,52,8),s+8}o.prototype.writeDoubleLE=function(i,s,d){return m(this,i,s,!0,d)},o.prototype.writeDoubleBE=function(i,s,d){return m(this,i,s,!1,d)},o.prototype.copy=function(i,s,d,b){if(!o.isBuffer(i))throw new TypeError("argument should be a Buffer");if(d||(d=0),!b&&b!==0&&(b=this.length),s>=i.length&&(s=i.length),s||(s=0),b>0&&b<d&&(b=d),b===d||i.length===0||this.length===0)return 0;if(s<0)throw new RangeError("targetStart out of bounds");if(d<0||d>=this.length)throw new RangeError("Index out of range");if(b<0)throw new RangeError("sourceEnd out of bounds");b>this.length&&(b=this.length),i.length-s<b-d&&(b=i.length-s+d);const x=b-d;return this===i&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(s,d,b):Uint8Array.prototype.set.call(i,this.subarray(d,b),s),x},o.prototype.fill=function(i,s,d,b){if(typeof i=="string"){if(typeof s=="string"?(b=s,s=0,d=this.length):typeof d=="string"&&(b=d,d=this.length),b!==void 0&&typeof b!="string")throw new TypeError("encoding must be a string");if(typeof b=="string"&&!o.isEncoding(b))throw new TypeError("Unknown encoding: "+b);if(i.length===1){const I=i.charCodeAt(0);(b==="utf8"&&I<128||b==="latin1")&&(i=I)}}else typeof i=="number"?i=i&255:typeof i=="boolean"&&(i=Number(i));if(s<0||this.length<s||this.length<d)throw new RangeError("Out of range index");if(d<=s)return this;s=s>>>0,d=d===void 0?this.length:d>>>0,i||(i=0);let x;if(typeof i=="number")for(x=s;x<d;++x)this[x]=i;else{const I=o.isBuffer(i)?i:o.from(i,b),W=I.length;if(W===0)throw new TypeError('The value "'+i+'" is invalid for argument "value"');for(x=0;x<d-s;++x)this[x+s]=I[x%W]}return this};const M={};function D(l,i,s){M[l]=class extends s{constructor(){super(),Object.defineProperty(this,"message",{value:i.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${l}]`,this.stack,delete this.name}get code(){return l}set code(b){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:b,writable:!0})}toString(){return`${this.name} [${l}]: ${this.message}`}}}D("ERR_BUFFER_OUT_OF_BOUNDS",function(l){return l?`${l} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),D("ERR_INVALID_ARG_TYPE",function(l,i){return`The "${l}" argument must be of type number. Received type ${typeof i}`},TypeError),D("ERR_OUT_OF_RANGE",function(l,i,s){let d=`The value of "${l}" is out of range.`,b=s;return Number.isInteger(s)&&Math.abs(s)>2**32?b=$(String(s)):typeof s=="bigint"&&(b=String(s),(s>BigInt(2)**BigInt(32)||s<-(BigInt(2)**BigInt(32)))&&(b=$(b)),b+="n"),d+=` It must be ${i}. Received ${b}`,d},RangeError);function $(l){let i="",s=l.length;const d=l[0]==="-"?1:0;for(;s>=d+4;s-=3)i=`_${l.slice(s-3,s)}${i}`;return`${l.slice(0,s)}${i}`}function f(l,i,s){R(i,"offset"),(l[i]===void 0||l[i+s]===void 0)&&N(i,l.length-(s+1))}function p(l,i,s,d,b,x){if(l>s||l<i){const I=typeof i=="bigint"?"n":"";let W;throw x>3?i===0||i===BigInt(0)?W=`>= 0${I} and < 2${I} ** ${(x+1)*8}${I}`:W=`>= -(2${I} ** ${(x+1)*8-1}${I}) and < 2 ** ${(x+1)*8-1}${I}`:W=`>= ${i}${I} and <= ${s}${I}`,new M.ERR_OUT_OF_RANGE("value",W,l)}f(d,b,x)}function R(l,i){if(typeof l!="number")throw new M.ERR_INVALID_ARG_TYPE(i,"number",l)}function N(l,i,s){throw Math.floor(l)!==l?(R(l,s),new M.ERR_OUT_OF_RANGE(s||"offset","an integer",l)):i<0?new M.ERR_BUFFER_OUT_OF_BOUNDS:new M.ERR_OUT_OF_RANGE(s||"offset",`>= ${s?1:0} and <= ${i}`,l)}const J=/[^+/0-9A-Za-z-_]/g;function H(l){if(l=l.split("=")[0],l=l.trim().replace(J,""),l.length<2)return"";for(;l.length%4!==0;)l=l+"=";return l}function K(l,i){i=i||1/0;let s;const d=l.length;let b=null;const x=[];for(let I=0;I<d;++I){if(s=l.charCodeAt(I),s>55295&&s<57344){if(!b){if(s>56319){(i-=3)>-1&&x.push(239,191,189);continue}else if(I+1===d){(i-=3)>-1&&x.push(239,191,189);continue}b=s;continue}if(s<56320){(i-=3)>-1&&x.push(239,191,189),b=s;continue}s=(b-55296<<10|s-56320)+65536}else b&&(i-=3)>-1&&x.push(239,191,189);if(b=null,s<128){if((i-=1)<0)break;x.push(s)}else if(s<2048){if((i-=2)<0)break;x.push(s>>6|192,s&63|128)}else if(s<65536){if((i-=3)<0)break;x.push(s>>12|224,s>>6&63|128,s&63|128)}else if(s<1114112){if((i-=4)<0)break;x.push(s>>18|240,s>>12&63|128,s>>6&63|128,s&63|128)}else throw new Error("Invalid code point")}return x}function Be(l){const i=[];for(let s=0;s<l.length;++s)i.push(l.charCodeAt(s)&255);return i}function ze(l,i){let s,d,b;const x=[];for(let I=0;I<l.length&&!((i-=2)<0);++I)s=l.charCodeAt(I),d=s>>8,b=s%256,x.push(b),x.push(d);return x}function et(l){return t.toByteArray(H(l))}function Ve(l,i,s,d){let b;for(b=0;b<d&&!(b+s>=i.length||b>=l.length);++b)i[b+s]=l[b];return b}function _e(l,i){return l instanceof i||l!=null&&l.constructor!=null&&l.constructor.name!=null&&l.constructor.name===i.name}function De(l){return l!==l}const tt=function(){const l="0123456789abcdef",i=new Array(256);for(let s=0;s<16;++s){const d=s*16;for(let b=0;b<16;++b)i[d+b]=l[s]+l[b]}return i}();function ye(l){return typeof BigInt>"u"?Oe:l}function Oe(){throw new Error("BigInt not supported")}})(Nt);var En,fi;function ko(){if(fi)return En;fi=1;function e(k,T){var L=Object.keys(k);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(k);T&&(y=y.filter(function(C){return Object.getOwnPropertyDescriptor(k,C).enumerable})),L.push.apply(L,y)}return L}function t(k){for(var T=1;T<arguments.length;T++){var L=arguments[T]!=null?arguments[T]:{};T%2?e(Object(L),!0).forEach(function(y){r(k,y,L[y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(k,Object.getOwnPropertyDescriptors(L)):e(Object(L)).forEach(function(y){Object.defineProperty(k,y,Object.getOwnPropertyDescriptor(L,y))})}return k}function r(k,T,L){return T=u(T),T in k?Object.defineProperty(k,T,{value:L,enumerable:!0,configurable:!0,writable:!0}):k[T]=L,k}function n(k,T){if(!(k instanceof T))throw new TypeError("Cannot call a class as a function")}function a(k,T){for(var L=0;L<T.length;L++){var y=T[L];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(k,u(y.key),y)}}function c(k,T,L){return T&&a(k.prototype,T),L&&a(k,L),Object.defineProperty(k,"prototype",{writable:!1}),k}function u(k){var T=o(k,"string");return typeof T=="symbol"?T:String(T)}function o(k,T){if(typeof k!="object"||k===null)return k;var L=k[Symbol.toPrimitive];if(L!==void 0){var y=L.call(k,T||"default");if(typeof y!="object")return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return(T==="string"?String:Number)(k)}var h=Nt,_=h.Buffer,E=us,g=E.inspect,w=g&&g.custom||"inspect";function S(k,T,L){_.prototype.copy.call(k,T,L)}return En=function(){function k(){n(this,k),this.head=null,this.tail=null,this.length=0}return c(k,[{key:"push",value:function(L){var y={data:L,next:null};this.length>0?this.tail.next=y:this.head=y,this.tail=y,++this.length}},{key:"unshift",value:function(L){var y={data:L,next:this.head};this.length===0&&(this.tail=y),this.head=y,++this.length}},{key:"shift",value:function(){if(this.length!==0){var L=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,L}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(L){if(this.length===0)return"";for(var y=this.head,C=""+y.data;y=y.next;)C+=L+y.data;return C}},{key:"concat",value:function(L){if(this.length===0)return _.alloc(0);for(var y=_.allocUnsafe(L>>>0),C=this.head,B=0;C;)S(C.data,y,B),B+=C.data.length,C=C.next;return y}},{key:"consume",value:function(L,y){var C;return L<this.head.data.length?(C=this.head.data.slice(0,L),this.head.data=this.head.data.slice(L)):L===this.head.data.length?C=this.shift():C=y?this._getString(L):this._getBuffer(L),C}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(L){var y=this.head,C=1,B=y.data;for(L-=B.length;y=y.next;){var A=y.data,P=L>A.length?A.length:L;if(P===A.length?B+=A:B+=A.slice(0,L),L-=P,L===0){P===A.length?(++C,y.next?this.head=y.next:this.head=this.tail=null):(this.head=y,y.data=A.slice(P));break}++C}return this.length-=C,B}},{key:"_getBuffer",value:function(L){var y=_.allocUnsafe(L),C=this.head,B=1;for(C.data.copy(y),L-=C.data.length;C=C.next;){var A=C.data,P=L>A.length?A.length:L;if(A.copy(y,y.length-L,0,P),L-=P,L===0){P===A.length?(++B,C.next?this.head=C.next:this.head=this.tail=null):(this.head=C,C.data=A.slice(P));break}++B}return this.length-=B,y}},{key:w,value:function(L,y){return g(this,t(t({},y),{},{depth:0,customInspect:!1}))}}]),k}(),En}function Ro(e,t){var r=this,n=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return n||a?(t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(On,this,e)):process.nextTick(On,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(c){!t&&c?r._writableState?r._writableState.errorEmitted?process.nextTick(Qt,r):(r._writableState.errorEmitted=!0,process.nextTick(pi,r,c)):process.nextTick(pi,r,c):t?(process.nextTick(Qt,r),t(c)):process.nextTick(Qt,r)}),this)}function pi(e,t){On(e,t),Qt(e)}function Qt(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function Ao(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function On(e,t){e.emit("error",t)}function Mo(e,t){var r=e._readableState,n=e._writableState;r&&r.autoDestroy||n&&n.autoDestroy?e.destroy(t):e.emit("error",t)}var ks={destroy:Ro,undestroy:Ao,errorOrDestroy:Mo},ct={};function Lo(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var Rs={};function ke(e,t,r){r||(r=Error);function n(c,u,o){return typeof t=="string"?t:t(c,u,o)}var a=function(c){Lo(u,c);function u(o,h,_){return c.call(this,n(o,h,_))||this}return u}(r);a.prototype.name=r.name,a.prototype.code=e,Rs[e]=a}function _i(e,t){if(Array.isArray(e)){var r=e.length;return e=e.map(function(n){return String(n)}),r>2?"one of ".concat(t," ").concat(e.slice(0,r-1).join(", "),", or ")+e[r-1]:r===2?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}else return"of ".concat(t," ").concat(String(e))}function Bo(e,t,r){return e.substr(!r||r<0?0:+r,t.length)===t}function To(e,t,r){return(r===void 0||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}function Po(e,t,r){return typeof r!="number"&&(r=0),r+t.length>e.length?!1:e.indexOf(t,r)!==-1}ke("ERR_INVALID_OPT_VALUE",function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'},TypeError);ke("ERR_INVALID_ARG_TYPE",function(e,t,r){var n;typeof t=="string"&&Bo(t,"not ")?(n="must not be",t=t.replace(/^not /,"")):n="must be";var a;if(To(e," argument"))a="The ".concat(e," ").concat(n," ").concat(_i(t,"type"));else{var c=Po(e,".")?"property":"argument";a='The "'.concat(e,'" ').concat(c," ").concat(n," ").concat(_i(t,"type"))}return a+=". Received type ".concat(typeof r),a},TypeError);ke("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");ke("ERR_METHOD_NOT_IMPLEMENTED",function(e){return"The "+e+" method is not implemented"});ke("ERR_STREAM_PREMATURE_CLOSE","Premature close");ke("ERR_STREAM_DESTROYED",function(e){return"Cannot call "+e+" after a stream was destroyed"});ke("ERR_MULTIPLE_CALLBACK","Callback called multiple times");ke("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");ke("ERR_STREAM_WRITE_AFTER_END","write after end");ke("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);ke("ERR_UNKNOWN_ENCODING",function(e){return"Unknown encoding: "+e},TypeError);ke("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");ct.codes=Rs;var No=ct.codes.ERR_INVALID_OPT_VALUE;function Do(e,t,r){return e.highWaterMark!=null?e.highWaterMark:t?e[r]:null}function Oo(e,t,r,n){var a=Do(t,n,r);if(a!=null){if(!(isFinite(a)&&Math.floor(a)===a)||a<0){var c=n?r:"highWaterMark";throw new No(c,a)}return Math.floor(a)}return e.objectMode?16:16*1024}var As={getHighWaterMark:Oo},Uo=Fo;function Fo(e,t){if(Sn("noDeprecation"))return e;var r=!1;function n(){if(!r){if(Sn("throwDeprecation"))throw new Error(t);Sn("traceDeprecation")?console.trace(t):console.warn(t),r=!0}return e.apply(this,arguments)}return n}function Sn(e){try{if(!ue.localStorage)return!1}catch{return!1}var t=ue.localStorage[e];return t==null?!1:String(t).toLowerCase()==="true"}var xn,gi;function Ms(){if(gi)return xn;gi=1,xn=j;function e(v){var m=this;this.next=null,this.entry=null,this.finish=function(){Ee(m,v)}}var t;j.WritableState=U;var r={deprecate:Uo},n=Cs,a=Nt.Buffer,c=(typeof ue<"u"?ue:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function u(v){return a.from(v)}function o(v){return a.isBuffer(v)||v instanceof c}var h=ks,_=As,E=_.getHighWaterMark,g=ct.codes,w=g.ERR_INVALID_ARG_TYPE,S=g.ERR_METHOD_NOT_IMPLEMENTED,k=g.ERR_MULTIPLE_CALLBACK,T=g.ERR_STREAM_CANNOT_PIPE,L=g.ERR_STREAM_DESTROYED,y=g.ERR_STREAM_NULL_VALUES,C=g.ERR_STREAM_WRITE_AFTER_END,B=g.ERR_UNKNOWN_ENCODING,A=h.errorOrDestroy;Pe(j,n);function P(){}function U(v,m,M){t=t||bt(),v=v||{},typeof M!="boolean"&&(M=m instanceof t),this.objectMode=!!v.objectMode,M&&(this.objectMode=this.objectMode||!!v.writableObjectMode),this.highWaterMark=E(this,v,"writableHighWaterMark",M),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var D=v.decodeStrings===!1;this.decodeStrings=!D,this.defaultEncoding=v.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function($){Ne(m,$)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=v.emitClose!==!1,this.autoDestroy=!!v.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new e(this)}U.prototype.getBuffer=function(){for(var m=this.bufferedRequest,M=[];m;)M.push(m),m=m.next;return M},function(){try{Object.defineProperty(U.prototype,"buffer",{get:r.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var z;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(z=Function.prototype[Symbol.hasInstance],Object.defineProperty(j,Symbol.hasInstance,{value:function(m){return z.call(this,m)?!0:this!==j?!1:m&&m._writableState instanceof U}})):z=function(m){return m instanceof this};function j(v){t=t||bt();var m=this instanceof t;if(!m&&!z.call(j,this))return new j(v);this._writableState=new U(v,this,m),this.writable=!0,v&&(typeof v.write=="function"&&(this._write=v.write),typeof v.writev=="function"&&(this._writev=v.writev),typeof v.destroy=="function"&&(this._destroy=v.destroy),typeof v.final=="function"&&(this._final=v.final)),n.call(this)}j.prototype.pipe=function(){A(this,new T)};function F(v,m){var M=new C;A(v,M),process.nextTick(m,M)}function Z(v,m,M,D){var $;return M===null?$=new y:typeof M!="string"&&!m.objectMode&&($=new w("chunk",["string","Buffer"],M)),$?(A(v,$),process.nextTick(D,$),!1):!0}j.prototype.write=function(v,m,M){var D=this._writableState,$=!1,f=!D.objectMode&&o(v);return f&&!a.isBuffer(v)&&(v=u(v)),typeof m=="function"&&(M=m,m=null),f?m="buffer":m||(m=D.defaultEncoding),typeof M!="function"&&(M=P),D.ending?F(this,M):(f||Z(this,D,v,M))&&(D.pendingcb++,$=Re(this,D,f,v,m,M)),$},j.prototype.cork=function(){this._writableState.corked++},j.prototype.uncork=function(){var v=this._writableState;v.corked&&(v.corked--,!v.writing&&!v.corked&&!v.bufferProcessing&&v.bufferedRequest&&me(this,v))},j.prototype.setDefaultEncoding=function(m){if(typeof m=="string"&&(m=m.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((m+"").toLowerCase())>-1))throw new B(m);return this._writableState.defaultEncoding=m,this},Object.defineProperty(j.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function le(v,m,M){return!v.objectMode&&v.decodeStrings!==!1&&typeof m=="string"&&(m=a.from(m,M)),m}Object.defineProperty(j.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function Re(v,m,M,D,$,f){if(!M){var p=le(m,D,$);D!==p&&(M=!0,$="buffer",D=p)}var R=m.objectMode?1:D.length;m.length+=R;var N=m.length<m.highWaterMark;if(N||(m.needDrain=!0),m.writing||m.corked){var J=m.lastBufferedRequest;m.lastBufferedRequest={chunk:D,encoding:$,isBuf:M,callback:f,next:null},J?J.next=m.lastBufferedRequest:m.bufferedRequest=m.lastBufferedRequest,m.bufferedRequestCount+=1}else ne(v,m,!1,R,D,$,f);return N}function ne(v,m,M,D,$,f,p){m.writelen=D,m.writecb=p,m.writing=!0,m.sync=!0,m.destroyed?m.onwrite(new L("write")):M?v._writev($,m.onwrite):v._write($,f,m.onwrite),m.sync=!1}function he(v,m,M,D,$){--m.pendingcb,M?(process.nextTick($,D),process.nextTick(pe,v,m),v._writableState.errorEmitted=!0,A(v,D)):($(D),v._writableState.errorEmitted=!0,A(v,D),pe(v,m))}function de(v){v.writing=!1,v.writecb=null,v.length-=v.writelen,v.writelen=0}function Ne(v,m){var M=v._writableState,D=M.sync,$=M.writecb;if(typeof $!="function")throw new k;if(de(M),m)he(v,M,D,m,$);else{var f=Me(M)||v.destroyed;!f&&!M.corked&&!M.bufferProcessing&&M.bufferedRequest&&me(v,M),D?process.nextTick(we,v,M,f,$):we(v,M,f,$)}}function we(v,m,M,D){M||Ae(v,m),m.pendingcb--,D(),pe(v,m)}function Ae(v,m){m.length===0&&m.needDrain&&(m.needDrain=!1,v.emit("drain"))}function me(v,m){m.bufferProcessing=!0;var M=m.bufferedRequest;if(v._writev&&M&&M.next){var D=m.bufferedRequestCount,$=new Array(D),f=m.corkedRequestsFree;f.entry=M;for(var p=0,R=!0;M;)$[p]=M,M.isBuf||(R=!1),M=M.next,p+=1;$.allBuffers=R,ne(v,m,!0,m.length,$,"",f.finish),m.pendingcb++,m.lastBufferedRequest=null,f.next?(m.corkedRequestsFree=f.next,f.next=null):m.corkedRequestsFree=new e(m),m.bufferedRequestCount=0}else{for(;M;){var N=M.chunk,J=M.encoding,H=M.callback,K=m.objectMode?1:N.length;if(ne(v,m,!1,K,N,J,H),M=M.next,m.bufferedRequestCount--,m.writing)break}M===null&&(m.lastBufferedRequest=null)}m.bufferedRequest=M,m.bufferProcessing=!1}j.prototype._write=function(v,m,M){M(new S("_write()"))},j.prototype._writev=null,j.prototype.end=function(v,m,M){var D=this._writableState;return typeof v=="function"?(M=v,v=null,m=null):typeof m=="function"&&(M=m,m=null),v!=null&&this.write(v,m),D.corked&&(D.corked=1,this.uncork()),D.ending||Le(this,D,M),this},Object.defineProperty(j.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function Me(v){return v.ending&&v.length===0&&v.bufferedRequest===null&&!v.finished&&!v.writing}function Y(v,m){v._final(function(M){m.pendingcb--,M&&A(v,M),m.prefinished=!0,v.emit("prefinish"),pe(v,m)})}function te(v,m){!m.prefinished&&!m.finalCalled&&(typeof v._final=="function"&&!m.destroyed?(m.pendingcb++,m.finalCalled=!0,process.nextTick(Y,v,m)):(m.prefinished=!0,v.emit("prefinish")))}function pe(v,m){var M=Me(m);if(M&&(te(v,m),m.pendingcb===0&&(m.finished=!0,v.emit("finish"),m.autoDestroy))){var D=v._readableState;(!D||D.autoDestroy&&D.endEmitted)&&v.destroy()}return M}function Le(v,m,M){m.ending=!0,pe(v,m),M&&(m.finished?process.nextTick(M):v.once("finish",M)),m.ended=!0,v.writable=!1}function Ee(v,m,M){var D=v.entry;for(v.entry=null;D;){var $=D.callback;m.pendingcb--,$(M),D=D.next}m.corkedRequestsFree.next=v}return Object.defineProperty(j.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(m){this._writableState&&(this._writableState.destroyed=m)}}),j.prototype.destroy=h.destroy,j.prototype._undestroy=h.undestroy,j.prototype._destroy=function(v,m){m(v)},xn}var Cn,yi;function bt(){if(yi)return Cn;yi=1;var e=Object.keys||function(_){var E=[];for(var g in _)E.push(g);return E};Cn=u;var t=Bs(),r=Ms();Pe(u,t);for(var n=e(r.prototype),a=0;a<n.length;a++){var c=n[a];u.prototype[c]||(u.prototype[c]=r.prototype[c])}function u(_){if(!(this instanceof u))return new u(_);t.call(this,_),r.call(this,_),this.allowHalfOpen=!0,_&&(_.readable===!1&&(this.readable=!1),_.writable===!1&&(this.writable=!1),_.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",o)))}Object.defineProperty(u.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(u.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(u.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function o(){this._writableState.ended||process.nextTick(h,this)}function h(_){_.end()}return Object.defineProperty(u.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(E){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=E,this._writableState.destroyed=E)}}),Cn}var In={},Un={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(e,t){var r=Nt,n=r.Buffer;function a(u,o){for(var h in u)o[h]=u[h]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?e.exports=r:(a(r,t),t.Buffer=c);function c(u,o,h){return n(u,o,h)}c.prototype=Object.create(n.prototype),a(n,c),c.from=function(u,o,h){if(typeof u=="number")throw new TypeError("Argument must not be a number");return n(u,o,h)},c.alloc=function(u,o,h){if(typeof u!="number")throw new TypeError("Argument must be a number");var _=n(u);return o!==void 0?typeof h=="string"?_.fill(o,h):_.fill(o):_.fill(0),_},c.allocUnsafe=function(u){if(typeof u!="number")throw new TypeError("Argument must be a number");return n(u)},c.allocUnsafeSlow=function(u){if(typeof u!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(u)}})(Un,Un.exports);var rt=Un.exports,bi;function wi(){if(bi)return In;bi=1;var e=rt.Buffer,t=e.isEncoding||function(y){switch(y=""+y,y&&y.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(y){if(!y)return"utf8";for(var C;;)switch(y){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return y;default:if(C)return;y=(""+y).toLowerCase(),C=!0}}function n(y){var C=r(y);if(typeof C!="string"&&(e.isEncoding===t||!t(y)))throw new Error("Unknown encoding: "+y);return C||y}In.StringDecoder=a;function a(y){this.encoding=n(y);var C;switch(this.encoding){case"utf16le":this.text=g,this.end=w,C=4;break;case"utf8":this.fillLast=h,C=4;break;case"base64":this.text=S,this.end=k,C=3;break;default:this.write=T,this.end=L;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=e.allocUnsafe(C)}a.prototype.write=function(y){if(y.length===0)return"";var C,B;if(this.lastNeed){if(C=this.fillLast(y),C===void 0)return"";B=this.lastNeed,this.lastNeed=0}else B=0;return B<y.length?C?C+this.text(y,B):this.text(y,B):C||""},a.prototype.end=E,a.prototype.text=_,a.prototype.fillLast=function(y){if(this.lastNeed<=y.length)return y.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);y.copy(this.lastChar,this.lastTotal-this.lastNeed,0,y.length),this.lastNeed-=y.length};function c(y){return y<=127?0:y>>5===6?2:y>>4===14?3:y>>3===30?4:y>>6===2?-1:-2}function u(y,C,B){var A=C.length-1;if(A<B)return 0;var P=c(C[A]);return P>=0?(P>0&&(y.lastNeed=P-1),P):--A<B||P===-2?0:(P=c(C[A]),P>=0?(P>0&&(y.lastNeed=P-2),P):--A<B||P===-2?0:(P=c(C[A]),P>=0?(P>0&&(P===2?P=0:y.lastNeed=P-3),P):0))}function o(y,C,B){if((C[0]&192)!==128)return y.lastNeed=0,"";if(y.lastNeed>1&&C.length>1){if((C[1]&192)!==128)return y.lastNeed=1,"";if(y.lastNeed>2&&C.length>2&&(C[2]&192)!==128)return y.lastNeed=2,""}}function h(y){var C=this.lastTotal-this.lastNeed,B=o(this,y);if(B!==void 0)return B;if(this.lastNeed<=y.length)return y.copy(this.lastChar,C,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);y.copy(this.lastChar,C,0,y.length),this.lastNeed-=y.length}function _(y,C){var B=u(this,y,C);if(!this.lastNeed)return y.toString("utf8",C);this.lastTotal=B;var A=y.length-(B-this.lastNeed);return y.copy(this.lastChar,0,A),y.toString("utf8",C,A)}function E(y){var C=y&&y.length?this.write(y):"";return this.lastNeed?C+"":C}function g(y,C){if((y.length-C)%2===0){var B=y.toString("utf16le",C);if(B){var A=B.charCodeAt(B.length-1);if(A>=55296&&A<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=y[y.length-2],this.lastChar[1]=y[y.length-1],B.slice(0,-1)}return B}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=y[y.length-1],y.toString("utf16le",C,y.length-1)}function w(y){var C=y&&y.length?this.write(y):"";if(this.lastNeed){var B=this.lastTotal-this.lastNeed;return C+this.lastChar.toString("utf16le",0,B)}return C}function S(y,C){var B=(y.length-C)%3;return B===0?y.toString("base64",C):(this.lastNeed=3-B,this.lastTotal=3,B===1?this.lastChar[0]=y[y.length-1]:(this.lastChar[0]=y[y.length-2],this.lastChar[1]=y[y.length-1]),y.toString("base64",C,y.length-B))}function k(y){var C=y&&y.length?this.write(y):"";return this.lastNeed?C+this.lastChar.toString("base64",0,3-this.lastNeed):C}function T(y){return y.toString(this.encoding)}function L(y){return y&&y.length?this.write(y):""}return In}var mi=ct.codes.ERR_STREAM_PREMATURE_CLOSE;function jo(e){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];e.apply(this,n)}}}function Wo(){}function $o(e){return e.setHeader&&typeof e.abort=="function"}function Ls(e,t,r){if(typeof t=="function")return Ls(e,null,t);t||(t={}),r=jo(r||Wo);var n=t.readable||t.readable!==!1&&e.readable,a=t.writable||t.writable!==!1&&e.writable,c=function(){e.writable||o()},u=e._writableState&&e._writableState.finished,o=function(){a=!1,u=!0,n||r.call(e)},h=e._readableState&&e._readableState.endEmitted,_=function(){n=!1,h=!0,a||r.call(e)},E=function(k){r.call(e,k)},g=function(){var k;if(n&&!h)return(!e._readableState||!e._readableState.ended)&&(k=new mi),r.call(e,k);if(a&&!u)return(!e._writableState||!e._writableState.ended)&&(k=new mi),r.call(e,k)},w=function(){e.req.on("finish",o)};return $o(e)?(e.on("complete",o),e.on("abort",g),e.req?w():e.on("request",w)):a&&!e._writableState&&(e.on("end",c),e.on("close",c)),e.on("end",_),e.on("finish",o),t.error!==!1&&e.on("error",E),e.on("close",g),function(){e.removeListener("complete",o),e.removeListener("abort",g),e.removeListener("request",w),e.req&&e.req.removeListener("finish",o),e.removeListener("end",c),e.removeListener("close",c),e.removeListener("finish",o),e.removeListener("end",_),e.removeListener("error",E),e.removeListener("close",g)}}var Yn=Ls,kn,vi;function Ho(){if(vi)return kn;vi=1;var e;function t(B,A,P){return A=r(A),A in B?Object.defineProperty(B,A,{value:P,enumerable:!0,configurable:!0,writable:!0}):B[A]=P,B}function r(B){var A=n(B,"string");return typeof A=="symbol"?A:String(A)}function n(B,A){if(typeof B!="object"||B===null)return B;var P=B[Symbol.toPrimitive];if(P!==void 0){var U=P.call(B,A||"default");if(typeof U!="object")return U;throw new TypeError("@@toPrimitive must return a primitive value.")}return(A==="string"?String:Number)(B)}var a=Yn,c=Symbol("lastResolve"),u=Symbol("lastReject"),o=Symbol("error"),h=Symbol("ended"),_=Symbol("lastPromise"),E=Symbol("handlePromise"),g=Symbol("stream");function w(B,A){return{value:B,done:A}}function S(B){var A=B[c];if(A!==null){var P=B[g].read();P!==null&&(B[_]=null,B[c]=null,B[u]=null,A(w(P,!1)))}}function k(B){process.nextTick(S,B)}function T(B,A){return function(P,U){B.then(function(){if(A[h]){P(w(void 0,!0));return}A[E](P,U)},U)}}var L=Object.getPrototypeOf(function(){}),y=Object.setPrototypeOf((e={get stream(){return this[g]},next:function(){var A=this,P=this[o];if(P!==null)return Promise.reject(P);if(this[h])return Promise.resolve(w(void 0,!0));if(this[g].destroyed)return new Promise(function(F,Z){process.nextTick(function(){A[o]?Z(A[o]):F(w(void 0,!0))})});var U=this[_],z;if(U)z=new Promise(T(U,this));else{var j=this[g].read();if(j!==null)return Promise.resolve(w(j,!1));z=new Promise(this[E])}return this[_]=z,z}},t(e,Symbol.asyncIterator,function(){return this}),t(e,"return",function(){var A=this;return new Promise(function(P,U){A[g].destroy(null,function(z){if(z){U(z);return}P(w(void 0,!0))})})}),e),L),C=function(A){var P,U=Object.create(y,(P={},t(P,g,{value:A,writable:!0}),t(P,c,{value:null,writable:!0}),t(P,u,{value:null,writable:!0}),t(P,o,{value:null,writable:!0}),t(P,h,{value:A._readableState.endEmitted,writable:!0}),t(P,E,{value:function(j,F){var Z=U[g].read();Z?(U[_]=null,U[c]=null,U[u]=null,j(w(Z,!1))):(U[c]=j,U[u]=F)},writable:!0}),P));return U[_]=null,a(A,function(z){if(z&&z.code!=="ERR_STREAM_PREMATURE_CLOSE"){var j=U[u];j!==null&&(U[_]=null,U[c]=null,U[u]=null,j(z)),U[o]=z;return}var F=U[c];F!==null&&(U[_]=null,U[c]=null,U[u]=null,F(w(void 0,!0))),U[h]=!0}),A.on("readable",k.bind(null,U)),U};return kn=C,kn}var Rn,Ei;function qo(){return Ei||(Ei=1,Rn=function(){throw new Error("Readable.from is not available in the browser")}),Rn}var An,Si;function Bs(){if(Si)return An;Si=1,An=F;var e;F.ReadableState=j,cs.EventEmitter;var t=function(p,R){return p.listeners(R).length},r=Cs,n=Nt.Buffer,a=(typeof ue<"u"?ue:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function c(f){return n.from(f)}function u(f){return n.isBuffer(f)||f instanceof a}var o=us,h;o&&o.debuglog?h=o.debuglog("stream"):h=function(){};var _=ko(),E=ks,g=As,w=g.getHighWaterMark,S=ct.codes,k=S.ERR_INVALID_ARG_TYPE,T=S.ERR_STREAM_PUSH_AFTER_EOF,L=S.ERR_METHOD_NOT_IMPLEMENTED,y=S.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,C,B,A;Pe(F,r);var P=E.errorOrDestroy,U=["error","close","destroy","pause","resume"];function z(f,p,R){if(typeof f.prependListener=="function")return f.prependListener(p,R);!f._events||!f._events[p]?f.on(p,R):Array.isArray(f._events[p])?f._events[p].unshift(R):f._events[p]=[R,f._events[p]]}function j(f,p,R){e=e||bt(),f=f||{},typeof R!="boolean"&&(R=p instanceof e),this.objectMode=!!f.objectMode,R&&(this.objectMode=this.objectMode||!!f.readableObjectMode),this.highWaterMark=w(this,f,"readableHighWaterMark",R),this.buffer=new _,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=f.emitClose!==!1,this.autoDestroy=!!f.autoDestroy,this.destroyed=!1,this.defaultEncoding=f.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,f.encoding&&(C||(C=wi().StringDecoder),this.decoder=new C(f.encoding),this.encoding=f.encoding)}function F(f){if(e=e||bt(),!(this instanceof F))return new F(f);var p=this instanceof e;this._readableState=new j(f,this,p),this.readable=!0,f&&(typeof f.read=="function"&&(this._read=f.read),typeof f.destroy=="function"&&(this._destroy=f.destroy)),r.call(this)}Object.defineProperty(F.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(p){this._readableState&&(this._readableState.destroyed=p)}}),F.prototype.destroy=E.destroy,F.prototype._undestroy=E.undestroy,F.prototype._destroy=function(f,p){p(f)},F.prototype.push=function(f,p){var R=this._readableState,N;return R.objectMode?N=!0:typeof f=="string"&&(p=p||R.defaultEncoding,p!==R.encoding&&(f=n.from(f,p),p=""),N=!0),Z(this,f,p,!1,N)},F.prototype.unshift=function(f){return Z(this,f,null,!0,!1)};function Z(f,p,R,N,J){h("readableAddChunk",p);var H=f._readableState;if(p===null)H.reading=!1,Ne(f,H);else{var K;if(J||(K=Re(H,p)),K)P(f,K);else if(H.objectMode||p&&p.length>0)if(typeof p!="string"&&!H.objectMode&&Object.getPrototypeOf(p)!==n.prototype&&(p=c(p)),N)H.endEmitted?P(f,new y):le(f,H,p,!0);else if(H.ended)P(f,new T);else{if(H.destroyed)return!1;H.reading=!1,H.decoder&&!R?(p=H.decoder.write(p),H.objectMode||p.length!==0?le(f,H,p,!1):me(f,H)):le(f,H,p,!1)}else N||(H.reading=!1,me(f,H))}return!H.ended&&(H.length<H.highWaterMark||H.length===0)}function le(f,p,R,N){p.flowing&&p.length===0&&!p.sync?(p.awaitDrain=0,f.emit("data",R)):(p.length+=p.objectMode?1:R.length,N?p.buffer.unshift(R):p.buffer.push(R),p.needReadable&&we(f)),me(f,p)}function Re(f,p){var R;return!u(p)&&typeof p!="string"&&p!==void 0&&!f.objectMode&&(R=new k("chunk",["string","Buffer","Uint8Array"],p)),R}F.prototype.isPaused=function(){return this._readableState.flowing===!1},F.prototype.setEncoding=function(f){C||(C=wi().StringDecoder);var p=new C(f);this._readableState.decoder=p,this._readableState.encoding=this._readableState.decoder.encoding;for(var R=this._readableState.buffer.head,N="";R!==null;)N+=p.write(R.data),R=R.next;return this._readableState.buffer.clear(),N!==""&&this._readableState.buffer.push(N),this._readableState.length=N.length,this};var ne=1073741824;function he(f){return f>=ne?f=ne:(f--,f|=f>>>1,f|=f>>>2,f|=f>>>4,f|=f>>>8,f|=f>>>16,f++),f}function de(f,p){return f<=0||p.length===0&&p.ended?0:p.objectMode?1:f!==f?p.flowing&&p.length?p.buffer.head.data.length:p.length:(f>p.highWaterMark&&(p.highWaterMark=he(f)),f<=p.length?f:p.ended?p.length:(p.needReadable=!0,0))}F.prototype.read=function(f){h("read",f),f=parseInt(f,10);var p=this._readableState,R=f;if(f!==0&&(p.emittedReadable=!1),f===0&&p.needReadable&&((p.highWaterMark!==0?p.length>=p.highWaterMark:p.length>0)||p.ended))return h("read: emitReadable",p.length,p.ended),p.length===0&&p.ended?M(this):we(this),null;if(f=de(f,p),f===0&&p.ended)return p.length===0&&M(this),null;var N=p.needReadable;h("need readable",N),(p.length===0||p.length-f<p.highWaterMark)&&(N=!0,h("length less than watermark",N)),p.ended||p.reading?(N=!1,h("reading or ended",N)):N&&(h("do read"),p.reading=!0,p.sync=!0,p.length===0&&(p.needReadable=!0),this._read(p.highWaterMark),p.sync=!1,p.reading||(f=de(R,p)));var J;return f>0?J=m(f,p):J=null,J===null?(p.needReadable=p.length<=p.highWaterMark,f=0):(p.length-=f,p.awaitDrain=0),p.length===0&&(p.ended||(p.needReadable=!0),R!==f&&p.ended&&M(this)),J!==null&&this.emit("data",J),J};function Ne(f,p){if(h("onEofChunk"),!p.ended){if(p.decoder){var R=p.decoder.end();R&&R.length&&(p.buffer.push(R),p.length+=p.objectMode?1:R.length)}p.ended=!0,p.sync?we(f):(p.needReadable=!1,p.emittedReadable||(p.emittedReadable=!0,Ae(f)))}}function we(f){var p=f._readableState;h("emitReadable",p.needReadable,p.emittedReadable),p.needReadable=!1,p.emittedReadable||(h("emitReadable",p.flowing),p.emittedReadable=!0,process.nextTick(Ae,f))}function Ae(f){var p=f._readableState;h("emitReadable_",p.destroyed,p.length,p.ended),!p.destroyed&&(p.length||p.ended)&&(f.emit("readable"),p.emittedReadable=!1),p.needReadable=!p.flowing&&!p.ended&&p.length<=p.highWaterMark,v(f)}function me(f,p){p.readingMore||(p.readingMore=!0,process.nextTick(Me,f,p))}function Me(f,p){for(;!p.reading&&!p.ended&&(p.length<p.highWaterMark||p.flowing&&p.length===0);){var R=p.length;if(h("maybeReadMore read 0"),f.read(0),R===p.length)break}p.readingMore=!1}F.prototype._read=function(f){P(this,new L("_read()"))},F.prototype.pipe=function(f,p){var R=this,N=this._readableState;switch(N.pipesCount){case 0:N.pipes=f;break;case 1:N.pipes=[N.pipes,f];break;default:N.pipes.push(f);break}N.pipesCount+=1,h("pipe count=%d opts=%j",N.pipesCount,p);var J=(!p||p.end!==!1)&&f!==process.stdout&&f!==process.stderr,H=J?Be:Oe;N.endEmitted?process.nextTick(H):R.once("end",H),f.on("unpipe",K);function K(l,i){h("onunpipe"),l===R&&i&&i.hasUnpiped===!1&&(i.hasUnpiped=!0,Ve())}function Be(){h("onend"),f.end()}var ze=Y(R);f.on("drain",ze);var et=!1;function Ve(){h("cleanup"),f.removeListener("close",tt),f.removeListener("finish",ye),f.removeListener("drain",ze),f.removeListener("error",De),f.removeListener("unpipe",K),R.removeListener("end",Be),R.removeListener("end",Oe),R.removeListener("data",_e),et=!0,N.awaitDrain&&(!f._writableState||f._writableState.needDrain)&&ze()}R.on("data",_e);function _e(l){h("ondata");var i=f.write(l);h("dest.write",i),i===!1&&((N.pipesCount===1&&N.pipes===f||N.pipesCount>1&&$(N.pipes,f)!==-1)&&!et&&(h("false write response, pause",N.awaitDrain),N.awaitDrain++),R.pause())}function De(l){h("onerror",l),Oe(),f.removeListener("error",De),t(f,"error")===0&&P(f,l)}z(f,"error",De);function tt(){f.removeListener("finish",ye),Oe()}f.once("close",tt);function ye(){h("onfinish"),f.removeListener("close",tt),Oe()}f.once("finish",ye);function Oe(){h("unpipe"),R.unpipe(f)}return f.emit("pipe",R),N.flowing||(h("pipe resume"),R.resume()),f};function Y(f){return function(){var R=f._readableState;h("pipeOnDrain",R.awaitDrain),R.awaitDrain&&R.awaitDrain--,R.awaitDrain===0&&t(f,"data")&&(R.flowing=!0,v(f))}}F.prototype.unpipe=function(f){var p=this._readableState,R={hasUnpiped:!1};if(p.pipesCount===0)return this;if(p.pipesCount===1)return f&&f!==p.pipes?this:(f||(f=p.pipes),p.pipes=null,p.pipesCount=0,p.flowing=!1,f&&f.emit("unpipe",this,R),this);if(!f){var N=p.pipes,J=p.pipesCount;p.pipes=null,p.pipesCount=0,p.flowing=!1;for(var H=0;H<J;H++)N[H].emit("unpipe",this,{hasUnpiped:!1});return this}var K=$(p.pipes,f);return K===-1?this:(p.pipes.splice(K,1),p.pipesCount-=1,p.pipesCount===1&&(p.pipes=p.pipes[0]),f.emit("unpipe",this,R),this)},F.prototype.on=function(f,p){var R=r.prototype.on.call(this,f,p),N=this._readableState;return f==="data"?(N.readableListening=this.listenerCount("readable")>0,N.flowing!==!1&&this.resume()):f==="readable"&&!N.endEmitted&&!N.readableListening&&(N.readableListening=N.needReadable=!0,N.flowing=!1,N.emittedReadable=!1,h("on readable",N.length,N.reading),N.length?we(this):N.reading||process.nextTick(pe,this)),R},F.prototype.addListener=F.prototype.on,F.prototype.removeListener=function(f,p){var R=r.prototype.removeListener.call(this,f,p);return f==="readable"&&process.nextTick(te,this),R},F.prototype.removeAllListeners=function(f){var p=r.prototype.removeAllListeners.apply(this,arguments);return(f==="readable"||f===void 0)&&process.nextTick(te,this),p};function te(f){var p=f._readableState;p.readableListening=f.listenerCount("readable")>0,p.resumeScheduled&&!p.paused?p.flowing=!0:f.listenerCount("data")>0&&f.resume()}function pe(f){h("readable nexttick read 0"),f.read(0)}F.prototype.resume=function(){var f=this._readableState;return f.flowing||(h("resume"),f.flowing=!f.readableListening,Le(this,f)),f.paused=!1,this};function Le(f,p){p.resumeScheduled||(p.resumeScheduled=!0,process.nextTick(Ee,f,p))}function Ee(f,p){h("resume",p.reading),p.reading||f.read(0),p.resumeScheduled=!1,f.emit("resume"),v(f),p.flowing&&!p.reading&&f.read(0)}F.prototype.pause=function(){return h("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(h("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function v(f){var p=f._readableState;for(h("flow",p.flowing);p.flowing&&f.read()!==null;);}F.prototype.wrap=function(f){var p=this,R=this._readableState,N=!1;f.on("end",function(){if(h("wrapped end"),R.decoder&&!R.ended){var K=R.decoder.end();K&&K.length&&p.push(K)}p.push(null)}),f.on("data",function(K){if(h("wrapped data"),R.decoder&&(K=R.decoder.write(K)),!(R.objectMode&&K==null)&&!(!R.objectMode&&(!K||!K.length))){var Be=p.push(K);Be||(N=!0,f.pause())}});for(var J in f)this[J]===void 0&&typeof f[J]=="function"&&(this[J]=function(Be){return function(){return f[Be].apply(f,arguments)}}(J));for(var H=0;H<U.length;H++)f.on(U[H],this.emit.bind(this,U[H]));return this._read=function(K){h("wrapped _read",K),N&&(N=!1,f.resume())},this},typeof Symbol=="function"&&(F.prototype[Symbol.asyncIterator]=function(){return B===void 0&&(B=Ho()),B(this)}),Object.defineProperty(F.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(F.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(F.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(p){this._readableState&&(this._readableState.flowing=p)}}),F._fromList=m,Object.defineProperty(F.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function m(f,p){if(p.length===0)return null;var R;return p.objectMode?R=p.buffer.shift():!f||f>=p.length?(p.decoder?R=p.buffer.join(""):p.buffer.length===1?R=p.buffer.first():R=p.buffer.concat(p.length),p.buffer.clear()):R=p.buffer.consume(f,p.decoder),R}function M(f){var p=f._readableState;h("endReadable",p.endEmitted),p.endEmitted||(p.ended=!0,process.nextTick(D,p,f))}function D(f,p){if(h("endReadableNT",f.endEmitted,f.length),!f.endEmitted&&f.length===0&&(f.endEmitted=!0,p.readable=!1,p.emit("end"),f.autoDestroy)){var R=p._writableState;(!R||R.autoDestroy&&R.finished)&&p.destroy()}}typeof Symbol=="function"&&(F.from=function(f,p){return A===void 0&&(A=qo()),A(F,f,p)});function $(f,p){for(var R=0,N=f.length;R<N;R++)if(f[R]===p)return R;return-1}return An}var Ts=Qe,_r=ct.codes,Ko=_r.ERR_METHOD_NOT_IMPLEMENTED,zo=_r.ERR_MULTIPLE_CALLBACK,Vo=_r.ERR_TRANSFORM_ALREADY_TRANSFORMING,Go=_r.ERR_TRANSFORM_WITH_LENGTH_0,gr=bt();Pe(Qe,gr);function Zo(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(n===null)return this.emit("error",new zo);r.writechunk=null,r.writecb=null,t!=null&&this.push(t),n(e);var a=this._readableState;a.reading=!1,(a.needReadable||a.length<a.highWaterMark)&&this._read(a.highWaterMark)}function Qe(e){if(!(this instanceof Qe))return new Qe(e);gr.call(this,e),this._transformState={afterTransform:Zo.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&(typeof e.transform=="function"&&(this._transform=e.transform),typeof e.flush=="function"&&(this._flush=e.flush)),this.on("prefinish",Yo)}function Yo(){var e=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(t,r){xi(e,t,r)}):xi(this,null,null)}Qe.prototype.push=function(e,t){return this._transformState.needTransform=!1,gr.prototype.push.call(this,e,t)};Qe.prototype._transform=function(e,t,r){r(new Ko("_transform()"))};Qe.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var a=this._readableState;(n.needTransform||a.needReadable||a.length<a.highWaterMark)&&this._read(a.highWaterMark)}};Qe.prototype._read=function(e){var t=this._transformState;t.writechunk!==null&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0};Qe.prototype._destroy=function(e,t){gr.prototype._destroy.call(this,e,function(r){t(r)})};function xi(e,t,r){if(t)return e.emit("error",t);if(r!=null&&e.push(r),e._writableState.length)throw new Go;if(e._transformState.transforming)throw new Vo;return e.push(null)}var Jo=Mt,Ps=Ts;Pe(Mt,Ps);function Mt(e){if(!(this instanceof Mt))return new Mt(e);Ps.call(this,e)}Mt.prototype._transform=function(e,t,r){r(null,e)};var Mn;function Qo(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}var Ns=ct.codes,Xo=Ns.ERR_MISSING_ARGS,ec=Ns.ERR_STREAM_DESTROYED;function Ci(e){if(e)throw e}function tc(e){return e.setHeader&&typeof e.abort=="function"}function rc(e,t,r,n){n=Qo(n);var a=!1;e.on("close",function(){a=!0}),Mn===void 0&&(Mn=Yn),Mn(e,{readable:t,writable:r},function(u){if(u)return n(u);a=!0,n()});var c=!1;return function(u){if(!a&&!c){if(c=!0,tc(e))return e.abort();if(typeof e.destroy=="function")return e.destroy();n(u||new ec("pipe"))}}}function Ii(e){e()}function nc(e,t){return e.pipe(t)}function ic(e){return!e.length||typeof e[e.length-1]!="function"?Ci:e.pop()}function sc(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=ic(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new Xo("streams");var a,c=t.map(function(u,o){var h=o<t.length-1,_=o>0;return rc(u,h,_,function(E){a||(a=E),E&&c.forEach(Ii),!h&&(c.forEach(Ii),n(a))})});return t.reduce(nc)}var ac=sc;(function(e,t){t=e.exports=Bs(),t.Stream=t,t.Readable=t,t.Writable=Ms(),t.Duplex=bt(),t.Transform=Ts,t.PassThrough=Jo,t.finished=Yn,t.pipeline=ac})(Dn,Dn.exports);var Ds=Dn.exports;const{Transform:oc}=Ds;var cc=e=>class Os extends oc{constructor(r,n,a,c,u){super(u),this._rate=r,this._capacity=n,this._delimitedSuffix=a,this._hashBitLength=c,this._options=u,this._state=new e,this._state.initialize(r,n),this._finalized=!1}_transform(r,n,a){let c=null;try{this.update(r,n)}catch(u){c=u}a(c)}_flush(r){let n=null;try{this.push(this.digest())}catch(a){n=a}r(n)}update(r,n){if(!Buffer.isBuffer(r)&&typeof r!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Digest already called");return Buffer.isBuffer(r)||(r=Buffer.from(r,n)),this._state.absorb(r),this}digest(r){if(this._finalized)throw new Error("Digest already called");this._finalized=!0,this._delimitedSuffix&&this._state.absorbLastFewBits(this._delimitedSuffix);let n=this._state.squeeze(this._hashBitLength/8);return r!==void 0&&(n=n.toString(r)),this._resetState(),n}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const r=new Os(this._rate,this._capacity,this._delimitedSuffix,this._hashBitLength,this._options);return this._state.copy(r._state),r._finalized=this._finalized,r}};const{Transform:uc}=Ds;var lc=e=>class Us extends uc{constructor(r,n,a,c){super(c),this._rate=r,this._capacity=n,this._delimitedSuffix=a,this._options=c,this._state=new e,this._state.initialize(r,n),this._finalized=!1}_transform(r,n,a){let c=null;try{this.update(r,n)}catch(u){c=u}a(c)}_flush(){}_read(r){this.push(this.squeeze(r))}update(r,n){if(!Buffer.isBuffer(r)&&typeof r!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Squeeze already called");return Buffer.isBuffer(r)||(r=Buffer.from(r,n)),this._state.absorb(r),this}squeeze(r,n){this._finalized||(this._finalized=!0,this._state.absorbLastFewBits(this._delimitedSuffix));let a=this._state.squeeze(r);return n!==void 0&&(a=a.toString(n)),a}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const r=new Us(this._rate,this._capacity,this._delimitedSuffix,this._options);return this._state.copy(r._state),r._finalized=this._finalized,r}};const hc=cc,dc=lc;var fc=function(e){const t=hc(e),r=dc(e);return function(n,a){switch(typeof n=="string"?n.toLowerCase():n){case"keccak224":return new t(1152,448,null,224,a);case"keccak256":return new t(1088,512,null,256,a);case"keccak384":return new t(832,768,null,384,a);case"keccak512":return new t(576,1024,null,512,a);case"sha3-224":return new t(1152,448,6,224,a);case"sha3-256":return new t(1088,512,6,256,a);case"sha3-384":return new t(832,768,6,384,a);case"sha3-512":return new t(576,1024,6,512,a);case"shake128":return new r(1344,256,31,a);case"shake256":return new r(1088,512,31,a);default:throw new Error("Invald algorithm: "+n)}}},Fs={};const ki=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648];Fs.p1600=function(e){for(let t=0;t<24;++t){const r=e[0]^e[10]^e[20]^e[30]^e[40],n=e[1]^e[11]^e[21]^e[31]^e[41],a=e[2]^e[12]^e[22]^e[32]^e[42],c=e[3]^e[13]^e[23]^e[33]^e[43],u=e[4]^e[14]^e[24]^e[34]^e[44],o=e[5]^e[15]^e[25]^e[35]^e[45],h=e[6]^e[16]^e[26]^e[36]^e[46],_=e[7]^e[17]^e[27]^e[37]^e[47],E=e[8]^e[18]^e[28]^e[38]^e[48],g=e[9]^e[19]^e[29]^e[39]^e[49];let w=E^(a<<1|c>>>31),S=g^(c<<1|a>>>31);const k=e[0]^w,T=e[1]^S,L=e[10]^w,y=e[11]^S,C=e[20]^w,B=e[21]^S,A=e[30]^w,P=e[31]^S,U=e[40]^w,z=e[41]^S;w=r^(u<<1|o>>>31),S=n^(o<<1|u>>>31);const j=e[2]^w,F=e[3]^S,Z=e[12]^w,le=e[13]^S,Re=e[22]^w,ne=e[23]^S,he=e[32]^w,de=e[33]^S,Ne=e[42]^w,we=e[43]^S;w=a^(h<<1|_>>>31),S=c^(_<<1|h>>>31);const Ae=e[4]^w,me=e[5]^S,Me=e[14]^w,Y=e[15]^S,te=e[24]^w,pe=e[25]^S,Le=e[34]^w,Ee=e[35]^S,v=e[44]^w,m=e[45]^S;w=u^(E<<1|g>>>31),S=o^(g<<1|E>>>31);const M=e[6]^w,D=e[7]^S,$=e[16]^w,f=e[17]^S,p=e[26]^w,R=e[27]^S,N=e[36]^w,J=e[37]^S,H=e[46]^w,K=e[47]^S;w=h^(r<<1|n>>>31),S=_^(n<<1|r>>>31);const Be=e[8]^w,ze=e[9]^S,et=e[18]^w,Ve=e[19]^S,_e=e[28]^w,De=e[29]^S,tt=e[38]^w,ye=e[39]^S,Oe=e[48]^w,l=e[49]^S,i=k,s=T,d=y<<4|L>>>28,b=L<<4|y>>>28,x=C<<3|B>>>29,I=B<<3|C>>>29,W=P<<9|A>>>23,X=A<<9|P>>>23,G=U<<18|z>>>14,ee=z<<18|U>>>14,V=j<<1|F>>>31,Br=F<<1|j>>>31,Tr=le<<12|Z>>>20,Pr=Z<<12|le>>>20,Nr=Re<<10|ne>>>22,Dr=ne<<10|Re>>>22,Or=de<<13|he>>>19,Ur=he<<13|de>>>19,Fr=Ne<<2|we>>>30,jr=we<<2|Ne>>>30,Wr=me<<30|Ae>>>2,$r=Ae<<30|me>>>2,Hr=Me<<6|Y>>>26,qr=Y<<6|Me>>>26,Kr=pe<<11|te>>>21,zr=te<<11|pe>>>21,Vr=Le<<15|Ee>>>17,Gr=Ee<<15|Le>>>17,Zr=m<<29|v>>>3,Yr=v<<29|m>>>3,Jr=M<<28|D>>>4,Qr=D<<28|M>>>4,Xr=f<<23|$>>>9,en=$<<23|f>>>9,tn=p<<25|R>>>7,rn=R<<25|p>>>7,nn=N<<21|J>>>11,sn=J<<21|N>>>11,an=K<<24|H>>>8,on=H<<24|K>>>8,cn=Be<<27|ze>>>5,un=ze<<27|Be>>>5,ln=et<<20|Ve>>>12,hn=Ve<<20|et>>>12,dn=De<<7|_e>>>25,fn=_e<<7|De>>>25,pn=tt<<8|ye>>>24,_n=ye<<8|tt>>>24,gn=Oe<<14|l>>>18,yn=l<<14|Oe>>>18;e[0]=i^~Tr&Kr,e[1]=s^~Pr&zr,e[10]=Jr^~ln&x,e[11]=Qr^~hn&I,e[20]=V^~Hr&tn,e[21]=Br^~qr&rn,e[30]=cn^~d&Nr,e[31]=un^~b&Dr,e[40]=Wr^~Xr&dn,e[41]=$r^~en&fn,e[2]=Tr^~Kr&nn,e[3]=Pr^~zr&sn,e[12]=ln^~x&Or,e[13]=hn^~I&Ur,e[22]=Hr^~tn&pn,e[23]=qr^~rn&_n,e[32]=d^~Nr&Vr,e[33]=b^~Dr&Gr,e[42]=Xr^~dn&W,e[43]=en^~fn&X,e[4]=Kr^~nn&gn,e[5]=zr^~sn&yn,e[14]=x^~Or&Zr,e[15]=I^~Ur&Yr,e[24]=tn^~pn&G,e[25]=rn^~_n&ee,e[34]=Nr^~Vr&an,e[35]=Dr^~Gr&on,e[44]=dn^~W&Fr,e[45]=fn^~X&jr,e[6]=nn^~gn&i,e[7]=sn^~yn&s,e[16]=Or^~Zr&Jr,e[17]=Ur^~Yr&Qr,e[26]=pn^~G&V,e[27]=_n^~ee&Br,e[36]=Vr^~an&cn,e[37]=Gr^~on&un,e[46]=W^~Fr&Wr,e[47]=X^~jr&$r,e[8]=gn^~i&Tr,e[9]=yn^~s&Pr,e[18]=Zr^~Jr&ln,e[19]=Yr^~Qr&hn,e[28]=G^~V&Hr,e[29]=ee^~Br&qr,e[38]=an^~cn&d,e[39]=on^~un&b,e[48]=Fr^~Wr&Xr,e[49]=jr^~$r&en,e[0]^=ki[t*2],e[1]^=ki[t*2+1]}};const rr=Fs;function St(){this.state=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.blockSize=null,this.count=0,this.squeezing=!1}St.prototype.initialize=function(e,t){for(let r=0;r<50;++r)this.state[r]=0;this.blockSize=e/8,this.count=0,this.squeezing=!1};St.prototype.absorb=function(e){for(let t=0;t<e.length;++t)this.state[~~(this.count/4)]^=e[t]<<8*(this.count%4),this.count+=1,this.count===this.blockSize&&(rr.p1600(this.state),this.count=0)};St.prototype.absorbLastFewBits=function(e){this.state[~~(this.count/4)]^=e<<8*(this.count%4),e&128&&this.count===this.blockSize-1&&rr.p1600(this.state),this.state[~~((this.blockSize-1)/4)]^=128<<8*((this.blockSize-1)%4),rr.p1600(this.state),this.count=0,this.squeezing=!0};St.prototype.squeeze=function(e){this.squeezing||this.absorbLastFewBits(1);const t=Buffer.alloc(e);for(let r=0;r<e;++r)t[r]=this.state[~~(this.count/4)]>>>8*(this.count%4)&255,this.count+=1,this.count===this.blockSize&&(rr.p1600(this.state),this.count=0);return t};St.prototype.copy=function(e){for(let t=0;t<50;++t)e.state[t]=this.state[t];e.blockSize=this.blockSize,e.count=this.count,e.squeezing=this.squeezing};var pc=St,_c=fc(pc);const gc=_c;function js(e){return Buffer.allocUnsafe(e).fill(0)}function yc(e){return e.toString(2).length}function Ws(e,t){let r=e.toString(16);r.length%2!==0&&(r="0"+r);const n=r.match(/.{1,2}/g).map(a=>parseInt(a,16));for(;n.length<t;)n.unshift(0);return Buffer.from(n)}function bc(e,t){const r=e<0n;let n;if(r){const a=(1n<<BigInt(t))-1n;n=(~e&a)+1n}else n=e;return n&=(1n<<BigInt(t))-1n,n}function $s(e,t,r){const n=js(t);return e=yr(e),r?e.length<t?(e.copy(n),n):e.slice(0,t):e.length<t?(e.copy(n,t-e.length),n):e.slice(-t)}function wc(e,t){return $s(e,t,!0)}function yr(e){if(!Buffer.isBuffer(e))if(Array.isArray(e))e=Buffer.from(e);else if(typeof e=="string")Hs(e)?e=Buffer.from(Ec(qs(e)),"hex"):e=Buffer.from(e);else if(typeof e=="number")e=intToBuffer(e);else if(e==null)e=Buffer.allocUnsafe(0);else if(typeof e=="bigint")e=Ws(e);else if(e.toArray)e=Buffer.from(e.toArray());else throw new Error("invalid type");return e}function mc(e){return e=yr(e),"0x"+e.toString("hex")}function vc(e,t){return e=yr(e),t||(t=256),gc("keccak"+t).update(e).digest()}function Ec(e){return e.length%2?"0"+e:e}function Hs(e){return typeof e=="string"&&e.match(/^0x[0-9A-Fa-f]*$/)}function qs(e){return typeof e=="string"&&e.startsWith("0x")?e.slice(2):e}var Ks={zeros:js,setLength:$s,setLengthRight:wc,isHexString:Hs,stripHexPrefix:qs,toBuffer:yr,bufferToHex:mc,keccak:vc,bitLengthFromBigInt:yc,bufferBEFromBigInt:Ws,twosFromBigInt:bc};const be=Ks;function zs(e){return e.startsWith("int[")?"int256"+e.slice(3):e==="int"?"int256":e.startsWith("uint[")?"uint256"+e.slice(4):e==="uint"?"uint256":e.startsWith("fixed[")?"fixed128x128"+e.slice(5):e==="fixed"?"fixed128x128":e.startsWith("ufixed[")?"ufixed128x128"+e.slice(6):e==="ufixed"?"ufixed128x128":e}function yt(e){return parseInt(/^\D+(\d+)$/.exec(e)[1],10)}function Ri(e){var t=/^\D+(\d+)x(\d+)$/.exec(e);return[parseInt(t[1],10),parseInt(t[2],10)]}function Vs(e){var t=e.match(/(.*)\[(.*?)\]$/);return t?t[2]===""?"dynamic":parseInt(t[2],10):null}function nt(e){var t=typeof e;if(t==="string"||t==="number")return BigInt(e);if(t==="bigint")return e;throw new Error("Argument is not a number")}function Ue(e,t){var r,n,a,c;if(e==="address")return Ue("uint160",nt(t));if(e==="bool")return Ue("uint8",t?1:0);if(e==="string")return Ue("bytes",new Buffer(t,"utf8"));if(xc(e)){if(typeof t.length>"u")throw new Error("Not an array?");if(r=Vs(e),r!=="dynamic"&&r!==0&&t.length>r)throw new Error("Elements exceed array size: "+r);a=[],e=e.slice(0,e.lastIndexOf("[")),typeof t=="string"&&(t=JSON.parse(t));for(c in t)a.push(Ue(e,t[c]));if(r==="dynamic"){var u=Ue("uint256",t.length);a.unshift(u)}return Buffer.concat(a)}else{if(e==="bytes")return t=new Buffer(t),a=Buffer.concat([Ue("uint256",t.length),t]),t.length%32!==0&&(a=Buffer.concat([a,be.zeros(32-t.length%32)])),a;if(e.startsWith("bytes")){if(r=yt(e),r<1||r>32)throw new Error("Invalid bytes<N> width: "+r);return be.setLengthRight(t,32)}else if(e.startsWith("uint")){if(r=yt(e),r%8||r<8||r>256)throw new Error("Invalid uint<N> width: "+r);n=nt(t);const o=be.bitLengthFromBigInt(n);if(o>r)throw new Error("Supplied uint exceeds width: "+r+" vs "+o);if(n<0)throw new Error("Supplied uint is negative");return be.bufferBEFromBigInt(n,32)}else if(e.startsWith("int")){if(r=yt(e),r%8||r<8||r>256)throw new Error("Invalid int<N> width: "+r);n=nt(t);const o=be.bitLengthFromBigInt(n);if(o>r)throw new Error("Supplied int exceeds width: "+r+" vs "+o);const h=be.twosFromBigInt(n,256);return be.bufferBEFromBigInt(h,32)}else if(e.startsWith("ufixed")){if(r=Ri(e),n=nt(t),n<0)throw new Error("Supplied ufixed is negative");return Ue("uint256",n*BigInt(2)**BigInt(r[1]))}else if(e.startsWith("fixed"))return r=Ri(e),Ue("int256",nt(t)*BigInt(2)**BigInt(r[1]))}throw new Error("Unsupported or invalid type: "+e)}function Sc(e){return e==="string"||e==="bytes"||Vs(e)==="dynamic"}function xc(e){return e.lastIndexOf("]")===e.length-1}function Cc(e,t){var r=[],n=[],a=32*e.length;for(var c in e){var u=zs(e[c]),o=t[c],h=Ue(u,o);Sc(u)?(r.push(Ue("uint256",a)),n.push(h),a+=h.length):r.push(h)}return Buffer.concat(r.concat(n))}function Gs(e,t){if(e.length!==t.length)throw new Error("Number of types are not matching the values");for(var r,n,a=[],c=0;c<e.length;c++){var u=zs(e[c]),o=t[c];if(u==="bytes")a.push(o);else if(u==="string")a.push(new Buffer(o,"utf8"));else if(u==="bool")a.push(new Buffer(o?"01":"00","hex"));else if(u==="address")a.push(be.setLength(o,20));else if(u.startsWith("bytes")){if(r=yt(u),r<1||r>32)throw new Error("Invalid bytes<N> width: "+r);a.push(be.setLengthRight(o,r))}else if(u.startsWith("uint")){if(r=yt(u),r%8||r<8||r>256)throw new Error("Invalid uint<N> width: "+r);n=nt(o);const h=be.bitLengthFromBigInt(n);if(h>r)throw new Error("Supplied uint exceeds width: "+r+" vs "+h);a.push(be.bufferBEFromBigInt(n,r/8))}else if(u.startsWith("int")){if(r=yt(u),r%8||r<8||r>256)throw new Error("Invalid int<N> width: "+r);n=nt(o);const h=be.bitLengthFromBigInt(n);if(h>r)throw new Error("Supplied int exceeds width: "+r+" vs "+h);const _=be.twosFromBigInt(n,r);a.push(be.bufferBEFromBigInt(_,r/8))}else throw new Error("Unsupported or invalid type: "+u)}return Buffer.concat(a)}function Ic(e,t){return be.keccak(Gs(e,t))}var kc={rawEncode:Cc,solidityPack:Gs,soliditySHA3:Ic};const Te=Ks,It=kc,Zs={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]},Ln={encodeData(e,t,r,n=!0){const a=["bytes32"],c=[this.hashType(e,r)];if(n){const u=(o,h,_)=>{if(r[h]!==void 0)return["bytes32",_==null?"0x0000000000000000000000000000000000000000000000000000000000000000":Te.keccak(this.encodeData(h,_,r,n))];if(_===void 0)throw new Error(`missing value for field ${o} of type ${h}`);if(h==="bytes")return["bytes32",Te.keccak(_)];if(h==="string")return typeof _=="string"&&(_=Buffer.from(_,"utf8")),["bytes32",Te.keccak(_)];if(h.lastIndexOf("]")===h.length-1){const E=h.slice(0,h.lastIndexOf("[")),g=_.map(w=>u(o,E,w));return["bytes32",Te.keccak(It.rawEncode(g.map(([w])=>w),g.map(([,w])=>w)))]}return[h,_]};for(const o of r[e]){const[h,_]=u(o.name,o.type,t[o.name]);a.push(h),c.push(_)}}else for(const u of r[e]){let o=t[u.name];if(o!==void 0)if(u.type==="bytes")a.push("bytes32"),o=Te.keccak(o),c.push(o);else if(u.type==="string")a.push("bytes32"),typeof o=="string"&&(o=Buffer.from(o,"utf8")),o=Te.keccak(o),c.push(o);else if(r[u.type]!==void 0)a.push("bytes32"),o=Te.keccak(this.encodeData(u.type,o,r,n)),c.push(o);else{if(u.type.lastIndexOf("]")===u.type.length-1)throw new Error("Arrays currently unimplemented in encodeData");a.push(u.type),c.push(o)}}return It.rawEncode(a,c)},encodeType(e,t){let r="",n=this.findTypeDependencies(e,t).filter(a=>a!==e);n=[e].concat(n.sort());for(const a of n){if(!t[a])throw new Error("No type definition specified: "+a);r+=a+"("+t[a].map(({name:u,type:o})=>o+" "+u).join(",")+")"}return r},findTypeDependencies(e,t,r=[]){if(e=e.match(/^\w*/)[0],r.includes(e)||t[e]===void 0)return r;r.push(e);for(const n of t[e])for(const a of this.findTypeDependencies(n.type,t,r))!r.includes(a)&&r.push(a);return r},hashStruct(e,t,r,n=!0){return Te.keccak(this.encodeData(e,t,r,n))},hashType(e,t){return Te.keccak(this.encodeType(e,t))},sanitizeData(e){const t={};for(const r in Zs.properties)e[r]&&(t[r]=e[r]);return t.types&&(t.types=Object.assign({EIP712Domain:[]},t.types)),t},hash(e,t=!0){const r=this.sanitizeData(e),n=[Buffer.from("1901","hex")];return n.push(this.hashStruct("EIP712Domain",r.domain,r.types,t)),r.primaryType!=="EIP712Domain"&&n.push(this.hashStruct(r.primaryType,r.message,r.types,t)),Te.keccak(Buffer.concat(n))}};var Rc={TYPED_MESSAGE_SCHEMA:Zs,TypedDataUtils:Ln,hashForSignTypedDataLegacy:function(e){return Ac(e.data)},hashForSignTypedData_v3:function(e){return Ln.hash(e.data,!1)},hashForSignTypedData_v4:function(e){return Ln.hash(e.data)}};function Ac(e){const t=new Error("Expect argument to be non-empty array");if(typeof e!="object"||!e.length)throw t;const r=e.map(function(c){return c.type==="bytes"?Te.toBuffer(c.value):c.value}),n=e.map(function(c){return c.type}),a=e.map(function(c){if(!c.name)throw t;return c.type+" "+c.name});return It.soliditySHA3(["bytes32","bytes32"],[It.soliditySHA3(new Array(e.length).fill("string"),a),It.soliditySHA3(n,r)])}var $e={};Object.defineProperty($e,"__esModule",{value:!0});$e.APP_VERSION_KEY=$e.LOCAL_STORAGE_ADDRESSES_KEY=$e.WALLET_USER_NAME_KEY=void 0;$e.WALLET_USER_NAME_KEY="walletUsername";$e.LOCAL_STORAGE_ADDRESSES_KEY="Addresses";$e.APP_VERSION_KEY="AppVersion";var Dt={};Object.defineProperty(Dt,"__esModule",{value:!0});Dt.RelayEventManager=void 0;const Mc=O;class Lc{constructor(){this._nextRequestId=0,this.callbacks=new Map}makeRequestId(){this._nextRequestId=(this._nextRequestId+1)%2147483647;const t=this._nextRequestId,r=(0,Mc.prepend0x)(t.toString(16));return this.callbacks.get(r)&&this.callbacks.delete(r),t}}Dt.RelayEventManager=Lc;var br={},wr={},mr={};Object.defineProperty(mr,"__esModule",{value:!0});mr.WalletLinkCipher=void 0;const Vt=O;class Bc{constructor(t){this.secret=t}async encrypt(t){const r=this.secret;if(r.length!==64)throw Error("secret must be 256 bits");const n=crypto.getRandomValues(new Uint8Array(12)),a=await crypto.subtle.importKey("raw",(0,Vt.hexStringToUint8Array)(r),{name:"aes-gcm"},!1,["encrypt","decrypt"]),c=new TextEncoder,u=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:n},a,c.encode(t)),o=16,h=u.slice(u.byteLength-o),_=u.slice(0,u.byteLength-o),E=new Uint8Array(h),g=new Uint8Array(_),w=new Uint8Array([...n,...E,...g]);return(0,Vt.uint8ArrayToHex)(w)}async decrypt(t){const r=this.secret;if(r.length!==64)throw Error("secret must be 256 bits");return new Promise((n,a)=>{(async function(){const c=await crypto.subtle.importKey("raw",(0,Vt.hexStringToUint8Array)(r),{name:"aes-gcm"},!1,["encrypt","decrypt"]),u=(0,Vt.hexStringToUint8Array)(t),o=u.slice(0,12),h=u.slice(12,28),_=u.slice(28),E=new Uint8Array([..._,...h]),g={name:"AES-GCM",iv:new Uint8Array(o)};try{const w=await window.crypto.subtle.decrypt(g,c,E),S=new TextDecoder;n(S.decode(w))}catch(w){a(w)}})()})}}mr.WalletLinkCipher=Bc;var vr={};Object.defineProperty(vr,"__esModule",{value:!0});vr.WalletLinkHTTP=void 0;class Tc{constructor(t,r,n){this.linkAPIUrl=t,this.sessionId=r;const a=`${r}:${n}`;this.auth=`Basic ${btoa(a)}`}async markUnseenEventsAsSeen(t){return Promise.all(t.map(r=>fetch(`${this.linkAPIUrl}/events/${r.eventId}/seen`,{method:"POST",headers:{Authorization:this.auth}}))).catch(r=>console.error("Unabled to mark event as failed:",r))}async fetchUnseenEvents(){var t;const r=await fetch(`${this.linkAPIUrl}/events?unseen=true`,{headers:{Authorization:this.auth}});if(r.ok){const{events:n,error:a}=await r.json();if(a)throw new Error(`Check unseen events failed: ${a}`);const c=(t=n==null?void 0:n.filter(u=>u.event==="Web3Response").map(u=>({type:"Event",sessionId:this.sessionId,eventId:u.id,event:u.event,data:u.data})))!==null&&t!==void 0?t:[];return this.markUnseenEventsAsSeen(c),c}throw new Error(`Check unseen events failed: ${r.status}`)}}vr.WalletLinkHTTP=Tc;var wt={};Object.defineProperty(wt,"__esModule",{value:!0});wt.WalletLinkWebSocket=wt.ConnectionState=void 0;var gt;(function(e){e[e.DISCONNECTED=0]="DISCONNECTED",e[e.CONNECTING=1]="CONNECTING",e[e.CONNECTED=2]="CONNECTED"})(gt||(wt.ConnectionState=gt={}));class Pc{setConnectionStateListener(t){this.connectionStateListener=t}setIncomingDataListener(t){this.incomingDataListener=t}constructor(t,r=WebSocket){this.WebSocketClass=r,this.webSocket=null,this.pendingData=[],this.url=t.replace(/^http/,"ws")}async connect(){if(this.webSocket)throw new Error("webSocket object is not null");return new Promise((t,r)=>{var n;let a;try{this.webSocket=a=new this.WebSocketClass(this.url)}catch(c){r(c);return}(n=this.connectionStateListener)===null||n===void 0||n.call(this,gt.CONNECTING),a.onclose=c=>{var u;this.clearWebSocket(),r(new Error(`websocket error ${c.code}: ${c.reason}`)),(u=this.connectionStateListener)===null||u===void 0||u.call(this,gt.DISCONNECTED)},a.onopen=c=>{var u;t(),(u=this.connectionStateListener)===null||u===void 0||u.call(this,gt.CONNECTED),this.pendingData.length>0&&([...this.pendingData].forEach(h=>this.sendData(h)),this.pendingData=[])},a.onmessage=c=>{var u,o;if(c.data==="h")(u=this.incomingDataListener)===null||u===void 0||u.call(this,{type:"Heartbeat"});else try{const h=JSON.parse(c.data);(o=this.incomingDataListener)===null||o===void 0||o.call(this,h)}catch{}}})}disconnect(){var t;const{webSocket:r}=this;if(r){this.clearWebSocket(),(t=this.connectionStateListener)===null||t===void 0||t.call(this,gt.DISCONNECTED),this.connectionStateListener=void 0,this.incomingDataListener=void 0;try{r.close()}catch{}}}sendData(t){const{webSocket:r}=this;if(!r){this.pendingData.push(t),this.connect();return}r.send(t)}clearWebSocket(){const{webSocket:t}=this;t&&(this.webSocket=null,t.onclose=null,t.onerror=null,t.onmessage=null,t.onopen=null)}}wt.WalletLinkWebSocket=Pc;Object.defineProperty(wr,"__esModule",{value:!0});wr.WalletLinkConnection=void 0;const Ai=$e,Nc=mr,Dc=vr,Gt=wt,ft=ge,Mi=1e4,Oc=6e4;class Uc{constructor({session:t,linkAPIUrl:r,listener:n,WebSocketClass:a=WebSocket}){this.destroyed=!1,this.lastHeartbeatResponse=0,this.nextReqId=(0,ft.IntNumber)(1),this._connected=!1,this._linked=!1,this.shouldFetchUnseenEventsOnConnect=!1,this.requestResolutions=new Map,this.handleSessionMetadataUpdated=u=>{if(!u)return;new Map([["__destroyed",this.handleDestroyed],["EthereumAddress",this.handleAccountUpdated],["WalletUsername",this.handleWalletUsernameUpdated],["AppVersion",this.handleAppVersionUpdated],["ChainId",h=>u.JsonRpcUrl&&this.handleChainUpdated(h,u.JsonRpcUrl)]]).forEach((h,_)=>{const E=u[_];E!==void 0&&h(E)})},this.handleDestroyed=u=>{var o;u==="1"&&((o=this.listener)===null||o===void 0||o.resetAndReload())},this.handleAccountUpdated=async u=>{var o;{const h=await this.cipher.decrypt(u);(o=this.listener)===null||o===void 0||o.accountUpdated(h)}},this.handleMetadataUpdated=async(u,o)=>{var h;{const _=await this.cipher.decrypt(o);(h=this.listener)===null||h===void 0||h.metadataUpdated(u,_)}},this.handleWalletUsernameUpdated=async u=>{this.handleMetadataUpdated(Ai.WALLET_USER_NAME_KEY,u)},this.handleAppVersionUpdated=async u=>{this.handleMetadataUpdated(Ai.APP_VERSION_KEY,u)},this.handleChainUpdated=async(u,o)=>{var h;{const _=await this.cipher.decrypt(u),E=await this.cipher.decrypt(o);(h=this.listener)===null||h===void 0||h.chainUpdated(_,E)}},this.session=t,this.cipher=new Nc.WalletLinkCipher(t.secret),this.listener=n;const c=new Gt.WalletLinkWebSocket(`${r}/rpc`,a);c.setConnectionStateListener(async u=>{let o=!1;switch(u){case Gt.ConnectionState.DISCONNECTED:if(!this.destroyed){const h=async()=>{await new Promise(_=>setTimeout(_,5e3)),this.destroyed||c.connect().catch(()=>{h()})};h()}break;case Gt.ConnectionState.CONNECTED:try{await this.authenticate(),this.sendIsLinked(),this.sendGetSessionConfig(),o=!0}catch{}this.updateLastHeartbeat(),setInterval(()=>{this.heartbeat()},Mi),this.shouldFetchUnseenEventsOnConnect&&this.fetchUnseenEventsAPI();break;case Gt.ConnectionState.CONNECTING:break}this.connected!==o&&(this.connected=o)}),c.setIncomingDataListener(u=>{var o;switch(u.type){case"Heartbeat":this.updateLastHeartbeat();return;case"IsLinkedOK":case"Linked":{const h=u.type==="IsLinkedOK"?u.linked:void 0;this.linked=h||u.onlineGuests>0;break}case"GetSessionConfigOK":case"SessionConfigUpdated":{this.handleSessionMetadataUpdated(u.metadata);break}case"Event":{this.handleIncomingEvent(u);break}}u.id!==void 0&&((o=this.requestResolutions.get(u.id))===null||o===void 0||o(u))}),this.ws=c,this.http=new Dc.WalletLinkHTTP(r,t.id,t.key)}connect(){if(this.destroyed)throw new Error("instance is destroyed");this.ws.connect()}destroy(){this.destroyed=!0,this.ws.disconnect(),this.listener=void 0}get isDestroyed(){return this.destroyed}get connected(){return this._connected}set connected(t){var r;this._connected=t,t&&((r=this.onceConnected)===null||r===void 0||r.call(this))}setOnceConnected(t){return new Promise(r=>{this.connected?t().then(r):this.onceConnected=()=>{t().then(r),this.onceConnected=void 0}})}get linked(){return this._linked}set linked(t){var r,n;this._linked=t,t&&((r=this.onceLinked)===null||r===void 0||r.call(this)),(n=this.listener)===null||n===void 0||n.linkedUpdated(t)}setOnceLinked(t){return new Promise(r=>{this.linked?t().then(r):this.onceLinked=()=>{t().then(r),this.onceLinked=void 0}})}async handleIncomingEvent(t){var r;if(!(t.type!=="Event"||t.event!=="Web3Response")){const n=await this.cipher.decrypt(t.data),a=JSON.parse(n);if(a.type!=="WEB3_RESPONSE")return;(r=this.listener)===null||r===void 0||r.handleWeb3ResponseMessage(a)}}async checkUnseenEvents(){if(!this.connected){this.shouldFetchUnseenEventsOnConnect=!0;return}await new Promise(t=>setTimeout(t,250));try{await this.fetchUnseenEventsAPI()}catch(t){console.error("Unable to check for unseen events",t)}}async fetchUnseenEventsAPI(){this.shouldFetchUnseenEventsOnConnect=!1,(await this.http.fetchUnseenEvents()).forEach(r=>this.handleIncomingEvent(r))}async setSessionMetadata(t,r){const n={type:"SetSessionConfig",id:(0,ft.IntNumber)(this.nextReqId++),sessionId:this.session.id,metadata:{[t]:r}};return this.setOnceConnected(async()=>{const a=await this.makeRequest(n);if(a.type==="Fail")throw new Error(a.error||"failed to set session metadata")})}async publishEvent(t,r,n=!1){const a=await this.cipher.encrypt(JSON.stringify(Object.assign(Object.assign({},r),{origin:location.origin,relaySource:"coinbaseWalletExtension"in window&&window.coinbaseWalletExtension?"injected_sdk":"sdk"}))),c={type:"PublishEvent",id:(0,ft.IntNumber)(this.nextReqId++),sessionId:this.session.id,event:t,data:a,callWebhook:n};return this.setOnceLinked(async()=>{const u=await this.makeRequest(c);if(u.type==="Fail")throw new Error(u.error||"failed to publish event");return u.eventId})}sendData(t){this.ws.sendData(JSON.stringify(t))}updateLastHeartbeat(){this.lastHeartbeatResponse=Date.now()}heartbeat(){if(Date.now()-this.lastHeartbeatResponse>Mi*2){this.ws.disconnect();return}try{this.ws.sendData("h")}catch{}}async makeRequest(t,r=Oc){const n=t.id;this.sendData(t);let a;return Promise.race([new Promise((c,u)=>{a=window.setTimeout(()=>{u(new Error(`request ${n} timed out`))},r)}),new Promise(c=>{this.requestResolutions.set(n,u=>{clearTimeout(a),c(u),this.requestResolutions.delete(n)})})])}async authenticate(){const t={type:"HostSession",id:(0,ft.IntNumber)(this.nextReqId++),sessionId:this.session.id,sessionKey:this.session.key},r=await this.makeRequest(t);if(r.type==="Fail")throw new Error(r.error||"failed to authenticate")}sendIsLinked(){const t={type:"IsLinked",id:(0,ft.IntNumber)(this.nextReqId++),sessionId:this.session.id};this.sendData(t)}sendGetSessionConfig(){const t={type:"GetSessionConfig",id:(0,ft.IntNumber)(this.nextReqId++),sessionId:this.session.id};this.sendData(t)}}wr.WalletLinkConnection=Uc;var Er={},Ys={exports:{}},Js=rt.Buffer;function Sr(e,t){this._block=Js.alloc(e),this._finalSize=t,this._blockSize=e,this._len=0}Sr.prototype.update=function(e,t){typeof e=="string"&&(t=t||"utf8",e=Js.from(e,t));for(var r=this._block,n=this._blockSize,a=e.length,c=this._len,u=0;u<a;){for(var o=c%n,h=Math.min(a-u,n-o),_=0;_<h;_++)r[o+_]=e[u+_];c+=h,u+=h,c%n===0&&this._update(r)}return this._len+=a,this};Sr.prototype.digest=function(e){var t=this._len%this._blockSize;this._block[t]=128,this._block.fill(0,t+1),t>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=this._len*8;if(r<=4294967295)this._block.writeUInt32BE(r,this._blockSize-4);else{var n=(r&4294967295)>>>0,a=(r-n)/4294967296;this._block.writeUInt32BE(a,this._blockSize-8),this._block.writeUInt32BE(n,this._blockSize-4)}this._update(this._block);var c=this._hash();return e?c.toString(e):c};Sr.prototype._update=function(){throw new Error("_update must be implemented by subclass")};var xt=Sr,Fc=Pe,Qs=xt,jc=rt.Buffer,Wc=[1518500249,1859775393,-1894007588,-899497514],$c=new Array(80);function Ot(){this.init(),this._w=$c,Qs.call(this,64,56)}Fc(Ot,Qs);Ot.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function Hc(e){return e<<5|e>>>27}function qc(e){return e<<30|e>>>2}function Kc(e,t,r,n){return e===0?t&r|~t&n:e===2?t&r|t&n|r&n:t^r^n}Ot.prototype._update=function(e){for(var t=this._w,r=this._a|0,n=this._b|0,a=this._c|0,c=this._d|0,u=this._e|0,o=0;o<16;++o)t[o]=e.readInt32BE(o*4);for(;o<80;++o)t[o]=t[o-3]^t[o-8]^t[o-14]^t[o-16];for(var h=0;h<80;++h){var _=~~(h/20),E=Hc(r)+Kc(_,n,a,c)+u+t[h]+Wc[_]|0;u=c,c=a,a=qc(n),n=r,r=E}this._a=r+this._a|0,this._b=n+this._b|0,this._c=a+this._c|0,this._d=c+this._d|0,this._e=u+this._e|0};Ot.prototype._hash=function(){var e=jc.allocUnsafe(20);return e.writeInt32BE(this._a|0,0),e.writeInt32BE(this._b|0,4),e.writeInt32BE(this._c|0,8),e.writeInt32BE(this._d|0,12),e.writeInt32BE(this._e|0,16),e};var zc=Ot,Vc=Pe,Xs=xt,Gc=rt.Buffer,Zc=[1518500249,1859775393,-1894007588,-899497514],Yc=new Array(80);function Ut(){this.init(),this._w=Yc,Xs.call(this,64,56)}Vc(Ut,Xs);Ut.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function Jc(e){return e<<1|e>>>31}function Qc(e){return e<<5|e>>>27}function Xc(e){return e<<30|e>>>2}function eu(e,t,r,n){return e===0?t&r|~t&n:e===2?t&r|t&n|r&n:t^r^n}Ut.prototype._update=function(e){for(var t=this._w,r=this._a|0,n=this._b|0,a=this._c|0,c=this._d|0,u=this._e|0,o=0;o<16;++o)t[o]=e.readInt32BE(o*4);for(;o<80;++o)t[o]=Jc(t[o-3]^t[o-8]^t[o-14]^t[o-16]);for(var h=0;h<80;++h){var _=~~(h/20),E=Qc(r)+eu(_,n,a,c)+u+t[h]+Zc[_]|0;u=c,c=a,a=Xc(n),n=r,r=E}this._a=r+this._a|0,this._b=n+this._b|0,this._c=a+this._c|0,this._d=c+this._d|0,this._e=u+this._e|0};Ut.prototype._hash=function(){var e=Gc.allocUnsafe(20);return e.writeInt32BE(this._a|0,0),e.writeInt32BE(this._b|0,4),e.writeInt32BE(this._c|0,8),e.writeInt32BE(this._d|0,12),e.writeInt32BE(this._e|0,16),e};var tu=Ut,ru=Pe,ea=xt,nu=rt.Buffer,iu=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],su=new Array(64);function Ft(){this.init(),this._w=su,ea.call(this,64,56)}ru(Ft,ea);Ft.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function au(e,t,r){return r^e&(t^r)}function ou(e,t,r){return e&t|r&(e|t)}function cu(e){return(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10)}function uu(e){return(e>>>6|e<<26)^(e>>>11|e<<21)^(e>>>25|e<<7)}function lu(e){return(e>>>7|e<<25)^(e>>>18|e<<14)^e>>>3}function hu(e){return(e>>>17|e<<15)^(e>>>19|e<<13)^e>>>10}Ft.prototype._update=function(e){for(var t=this._w,r=this._a|0,n=this._b|0,a=this._c|0,c=this._d|0,u=this._e|0,o=this._f|0,h=this._g|0,_=this._h|0,E=0;E<16;++E)t[E]=e.readInt32BE(E*4);for(;E<64;++E)t[E]=hu(t[E-2])+t[E-7]+lu(t[E-15])+t[E-16]|0;for(var g=0;g<64;++g){var w=_+uu(u)+au(u,o,h)+iu[g]+t[g]|0,S=cu(r)+ou(r,n,a)|0;_=h,h=o,o=u,u=c+w|0,c=a,a=n,n=r,r=w+S|0}this._a=r+this._a|0,this._b=n+this._b|0,this._c=a+this._c|0,this._d=c+this._d|0,this._e=u+this._e|0,this._f=o+this._f|0,this._g=h+this._g|0,this._h=_+this._h|0};Ft.prototype._hash=function(){var e=nu.allocUnsafe(32);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e.writeInt32BE(this._h,28),e};var ta=Ft,du=Pe,fu=ta,pu=xt,_u=rt.Buffer,gu=new Array(64);function xr(){this.init(),this._w=gu,pu.call(this,64,56)}du(xr,fu);xr.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this};xr.prototype._hash=function(){var e=_u.allocUnsafe(28);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e};var yu=xr,bu=Pe,ra=xt,wu=rt.Buffer,Li=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],mu=new Array(160);function jt(){this.init(),this._w=mu,ra.call(this,128,112)}bu(jt,ra);jt.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function Bi(e,t,r){return r^e&(t^r)}function Ti(e,t,r){return e&t|r&(e|t)}function Pi(e,t){return(e>>>28|t<<4)^(t>>>2|e<<30)^(t>>>7|e<<25)}function Ni(e,t){return(e>>>14|t<<18)^(e>>>18|t<<14)^(t>>>9|e<<23)}function vu(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^e>>>7}function Eu(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^(e>>>7|t<<25)}function Su(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^e>>>6}function xu(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^(e>>>6|t<<26)}function oe(e,t){return e>>>0<t>>>0?1:0}jt.prototype._update=function(e){for(var t=this._w,r=this._ah|0,n=this._bh|0,a=this._ch|0,c=this._dh|0,u=this._eh|0,o=this._fh|0,h=this._gh|0,_=this._hh|0,E=this._al|0,g=this._bl|0,w=this._cl|0,S=this._dl|0,k=this._el|0,T=this._fl|0,L=this._gl|0,y=this._hl|0,C=0;C<32;C+=2)t[C]=e.readInt32BE(C*4),t[C+1]=e.readInt32BE(C*4+4);for(;C<160;C+=2){var B=t[C-30],A=t[C-15*2+1],P=vu(B,A),U=Eu(A,B);B=t[C-2*2],A=t[C-2*2+1];var z=Su(B,A),j=xu(A,B),F=t[C-7*2],Z=t[C-7*2+1],le=t[C-16*2],Re=t[C-16*2+1],ne=U+Z|0,he=P+F+oe(ne,U)|0;ne=ne+j|0,he=he+z+oe(ne,j)|0,ne=ne+Re|0,he=he+le+oe(ne,Re)|0,t[C]=he,t[C+1]=ne}for(var de=0;de<160;de+=2){he=t[de],ne=t[de+1];var Ne=Ti(r,n,a),we=Ti(E,g,w),Ae=Pi(r,E),me=Pi(E,r),Me=Ni(u,k),Y=Ni(k,u),te=Li[de],pe=Li[de+1],Le=Bi(u,o,h),Ee=Bi(k,T,L),v=y+Y|0,m=_+Me+oe(v,y)|0;v=v+Ee|0,m=m+Le+oe(v,Ee)|0,v=v+pe|0,m=m+te+oe(v,pe)|0,v=v+ne|0,m=m+he+oe(v,ne)|0;var M=me+we|0,D=Ae+Ne+oe(M,me)|0;_=h,y=L,h=o,L=T,o=u,T=k,k=S+v|0,u=c+m+oe(k,S)|0,c=a,S=w,a=n,w=g,n=r,g=E,E=v+M|0,r=m+D+oe(E,v)|0}this._al=this._al+E|0,this._bl=this._bl+g|0,this._cl=this._cl+w|0,this._dl=this._dl+S|0,this._el=this._el+k|0,this._fl=this._fl+T|0,this._gl=this._gl+L|0,this._hl=this._hl+y|0,this._ah=this._ah+r+oe(this._al,E)|0,this._bh=this._bh+n+oe(this._bl,g)|0,this._ch=this._ch+a+oe(this._cl,w)|0,this._dh=this._dh+c+oe(this._dl,S)|0,this._eh=this._eh+u+oe(this._el,k)|0,this._fh=this._fh+o+oe(this._fl,T)|0,this._gh=this._gh+h+oe(this._gl,L)|0,this._hh=this._hh+_+oe(this._hl,y)|0};jt.prototype._hash=function(){var e=wu.allocUnsafe(64);function t(r,n,a){e.writeInt32BE(r,a),e.writeInt32BE(n,a+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),t(this._gh,this._gl,48),t(this._hh,this._hl,56),e};var na=jt,Cu=Pe,Iu=na,ku=xt,Ru=rt.Buffer,Au=new Array(160);function Cr(){this.init(),this._w=Au,ku.call(this,128,112)}Cu(Cr,Iu);Cr.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this};Cr.prototype._hash=function(){var e=Ru.allocUnsafe(48);function t(r,n,a){e.writeInt32BE(r,a),e.writeInt32BE(n,a+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),e};var Mu=Cr,ut=Ys.exports=function(t){t=t.toLowerCase();var r=ut[t];if(!r)throw new Error(t+" is not supported (we accept pull requests)");return new r};ut.sha=zc;ut.sha1=tu;ut.sha224=yu;ut.sha256=ta;ut.sha384=Mu;ut.sha512=na;var Lu=Ys.exports;Object.defineProperty(Er,"__esModule",{value:!0});Er.WalletLinkSession=void 0;const Bu=Lu,Di=O,Oi="session:id",Ui="session:secret",Fi="session:linked";class Jn{constructor(t,r,n,a){this._storage=t,this._id=r||(0,Di.randomBytesHex)(16),this._secret=n||(0,Di.randomBytesHex)(32),this._key=new Bu.sha256().update(`${this._id}, ${this._secret} WalletLink`).digest("hex"),this._linked=!!a}static load(t){const r=t.getItem(Oi),n=t.getItem(Fi),a=t.getItem(Ui);return r&&a?new Jn(t,r,a,n==="1"):null}get id(){return this._id}get secret(){return this._secret}get key(){return this._key}get linked(){return this._linked}set linked(t){this._linked=t,this.persistLinked()}save(){return this._storage.setItem(Oi,this._id),this._storage.setItem(Ui,this._secret),this.persistLinked(),this}persistLinked(){this._storage.setItem(Fi,this._linked?"1":"0")}}Er.WalletLinkSession=Jn;var ve={};Object.defineProperty(ve,"__esModule",{value:!0});ve.isDarkMode=ve.isMobileWeb=ve.getLocation=ve.createQrUrl=void 0;function Tu(e,t,r,n,a,c){const u=n?"parent-id":"id",o=new URLSearchParams({[u]:e,secret:t,server:r,v:a,chainId:c.toString()}).toString();return`${r}/#/link?${o}`}ve.createQrUrl=Tu;function Pu(){try{return window.frameElement!==null}catch{return!1}}function Nu(){try{return Pu()&&window.top?window.top.location:window.location}catch{return window.location}}ve.getLocation=Nu;function Du(){var e;return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test((e=window==null?void 0:window.navigator)===null||e===void 0?void 0:e.userAgent)}ve.isMobileWeb=Du;function Ou(){var e,t;return(t=(e=window==null?void 0:window.matchMedia)===null||e===void 0?void 0:e.call(window,"(prefers-color-scheme: dark)").matches)!==null&&t!==void 0?t:!1}ve.isDarkMode=Ou;var Ir={},Wt={},Qn={};Object.defineProperty(Qn,"__esModule",{value:!0});Qn.default=(()=>'@namespace svg "http://www.w3.org/2000/svg";.-cbwsdk-css-reset,.-cbwsdk-css-reset *{animation:none;animation-delay:0;animation-direction:normal;animation-duration:0;animation-fill-mode:none;animation-iteration-count:1;animation-name:none;animation-play-state:running;animation-timing-function:ease;backface-visibility:visible;background:0;background-attachment:scroll;background-clip:border-box;background-color:rgba(0,0,0,0);background-image:none;background-origin:padding-box;background-position:0 0;background-position-x:0;background-position-y:0;background-repeat:repeat;background-size:auto auto;border:0;border-style:none;border-width:medium;border-color:inherit;border-bottom:0;border-bottom-color:inherit;border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-style:none;border-bottom-width:medium;border-collapse:separate;border-image:none;border-left:0;border-left-color:inherit;border-left-style:none;border-left-width:medium;border-radius:0;border-right:0;border-right-color:inherit;border-right-style:none;border-right-width:medium;border-spacing:0;border-top:0;border-top-color:inherit;border-top-left-radius:0;border-top-right-radius:0;border-top-style:none;border-top-width:medium;box-shadow:none;box-sizing:border-box;caption-side:top;clear:none;clip:auto;color:inherit;columns:auto;column-count:auto;column-fill:balance;column-gap:normal;column-rule:medium none currentColor;column-rule-color:currentColor;column-rule-style:none;column-rule-width:none;column-span:1;column-width:auto;counter-increment:none;counter-reset:none;direction:ltr;empty-cells:show;float:none;font:normal;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;font-size:medium;font-style:normal;font-variant:normal;font-weight:normal;height:auto;hyphens:none;letter-spacing:normal;line-height:normal;list-style:none;list-style-image:none;list-style-position:outside;list-style-type:disc;margin:0;margin-bottom:0;margin-left:0;margin-right:0;margin-top:0;opacity:1;orphans:0;outline:0;outline-color:invert;outline-style:none;outline-width:medium;overflow:visible;overflow-x:visible;overflow-y:visible;padding:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;page-break-after:auto;page-break-before:auto;page-break-inside:auto;perspective:none;perspective-origin:50% 50%;pointer-events:auto;position:static;quotes:"\\201C" "\\201D" "\\2018" "\\2019";tab-size:8;table-layout:auto;text-align:inherit;text-align-last:auto;text-decoration:none;text-decoration-color:inherit;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-shadow:none;text-transform:none;transform:none;transform-style:flat;transition:none;transition-delay:0s;transition-duration:0s;transition-property:none;transition-timing-function:ease;unicode-bidi:normal;vertical-align:baseline;visibility:visible;white-space:normal;widows:0;word-spacing:normal;z-index:auto}.-cbwsdk-css-reset strong{font-weight:bold}.-cbwsdk-css-reset *{box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;line-height:1}.-cbwsdk-css-reset [class*=container]{margin:0;padding:0}.-cbwsdk-css-reset style{display:none}')();var Uu=ue&&ue.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Wt,"__esModule",{value:!0});Wt.injectCssReset=void 0;const Fu=Uu(Qn);function ju(){const e=document.createElement("style");e.type="text/css",e.appendChild(document.createTextNode(Fu.default)),document.documentElement.appendChild(e)}Wt.injectCssReset=ju;var Xn={};function ia(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(r=ia(e[t]))&&(n&&(n+=" "),n+=r);else for(t in e)e[t]&&(n&&(n+=" "),n+=t);return n}function ji(){for(var e,t,r=0,n="";r<arguments.length;)(e=arguments[r++])&&(t=ia(e))&&(n&&(n+=" "),n+=t);return n}const Wu=Object.freeze(Object.defineProperty({__proto__:null,clsx:ji,default:ji},Symbol.toStringTag,{value:"Module"})),sa=ir(Wu);var $t,re,aa,oa,it,Wi,ca,Fn,ei,jn,Wn,ua,Lt={},la=[],$u=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,kr=Array.isArray;function Ye(e,t){for(var r in t)e[r]=t[r];return e}function ha(e){var t=e.parentNode;t&&t.removeChild(e)}function $n(e,t,r){var n,a,c,u={};for(c in t)c=="key"?n=t[c]:c=="ref"?a=t[c]:u[c]=t[c];if(arguments.length>2&&(u.children=arguments.length>3?$t.call(arguments,2):r),typeof e=="function"&&e.defaultProps!=null)for(c in e.defaultProps)u[c]===void 0&&(u[c]=e.defaultProps[c]);return kt(e,u,n,a,null)}function kt(e,t,r,n,a){var c={type:e,props:t,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:a??++aa,__i:-1,__u:0};return a==null&&re.vnode!=null&&re.vnode(c),c}function Hu(){return{current:null}}function Ht(e){return e.children}function Rt(e,t){this.props=e,this.context=t}function st(e,t){if(t==null)return e.__?st(e.__,e.__i+1):null;for(var r;t<e.__k.length;t++)if((r=e.__k[t])!=null&&r.__e!=null)return r.__e;return typeof e.type=="function"?st(e):null}function da(e){var t,r;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((r=e.__k[t])!=null&&r.__e!=null){e.__e=e.__c.base=r.__e;break}return da(e)}}function Hn(e){(!e.__d&&(e.__d=!0)&&it.push(e)&&!nr.__r++||Wi!==re.debounceRendering)&&((Wi=re.debounceRendering)||ca)(nr)}function nr(){var e,t,r,n,a,c,u,o;for(it.sort(Fn);e=it.shift();)e.__d&&(t=it.length,n=void 0,c=(a=(r=e).__v).__e,u=[],o=[],r.__P&&((n=Ye({},a)).__v=a.__v+1,re.vnode&&re.vnode(n),ti(r.__P,n,a,r.__n,r.__P.namespaceURI,32&a.__u?[c]:null,u,c??st(a),!!(32&a.__u),o),n.__v=a.__v,n.__.__k[n.__i]=n,ga(u,n,o),n.__e!=c&&da(n)),it.length>t&&it.sort(Fn));nr.__r=0}function fa(e,t,r,n,a,c,u,o,h,_,E){var g,w,S,k,T,L=n&&n.__k||la,y=t.length;for(r.__d=h,qu(r,t,L),h=r.__d,g=0;g<y;g++)(S=r.__k[g])!=null&&typeof S!="boolean"&&typeof S!="function"&&(w=S.__i===-1?Lt:L[S.__i]||Lt,S.__i=g,ti(e,S,w,a,c,u,o,h,_,E),k=S.__e,S.ref&&w.ref!=S.ref&&(w.ref&&ri(w.ref,null,S),E.push(S.ref,S.__c||k,S)),T==null&&k!=null&&(T=k),65536&S.__u||w.__k===S.__k?h=pa(S,h,e):typeof S.type=="function"&&S.__d!==void 0?h=S.__d:k&&(h=k.nextSibling),S.__d=void 0,S.__u&=-196609);r.__d=h,r.__e=T}function qu(e,t,r){var n,a,c,u,o,h=t.length,_=r.length,E=_,g=0;for(e.__k=[],n=0;n<h;n++)u=n+g,(a=e.__k[n]=(a=t[n])==null||typeof a=="boolean"||typeof a=="function"?null:typeof a=="string"||typeof a=="number"||typeof a=="bigint"||a.constructor==String?kt(null,a,null,null,null):kr(a)?kt(Ht,{children:a},null,null,null):a.constructor===void 0&&a.__b>0?kt(a.type,a.props,a.key,a.ref?a.ref:null,a.__v):a)!=null?(a.__=e,a.__b=e.__b+1,o=Ku(a,r,u,E),a.__i=o,c=null,o!==-1&&(E--,(c=r[o])&&(c.__u|=131072)),c==null||c.__v===null?(o==-1&&g--,typeof a.type!="function"&&(a.__u|=65536)):o!==u&&(o==u-1?g--:o==u+1?g++:o>u?E>h-u?g+=o-u:g--:o<u&&(o==u-g?g-=o-u:g++),o!==n+g&&(a.__u|=65536))):(c=r[u])&&c.key==null&&c.__e&&!(131072&c.__u)&&(c.__e==e.__d&&(e.__d=st(c)),qn(c,c,!1),r[u]=null,E--);if(E)for(n=0;n<_;n++)(c=r[n])!=null&&!(131072&c.__u)&&(c.__e==e.__d&&(e.__d=st(c)),qn(c,c))}function pa(e,t,r){var n,a;if(typeof e.type=="function"){for(n=e.__k,a=0;n&&a<n.length;a++)n[a]&&(n[a].__=e,t=pa(n[a],t,r));return t}e.__e!=t&&(t&&e.type&&!r.contains(t)&&(t=st(e)),r.insertBefore(e.__e,t||null),t=e.__e);do t=t&&t.nextSibling;while(t!=null&&t.nodeType===8);return t}function _a(e,t){return t=t||[],e==null||typeof e=="boolean"||(kr(e)?e.some(function(r){_a(r,t)}):t.push(e)),t}function Ku(e,t,r,n){var a=e.key,c=e.type,u=r-1,o=r+1,h=t[r];if(h===null||h&&a==h.key&&c===h.type&&!(131072&h.__u))return r;if(n>(h!=null&&!(131072&h.__u)?1:0))for(;u>=0||o<t.length;){if(u>=0){if((h=t[u])&&!(131072&h.__u)&&a==h.key&&c===h.type)return u;u--}if(o<t.length){if((h=t[o])&&!(131072&h.__u)&&a==h.key&&c===h.type)return o;o++}}return-1}function $i(e,t,r){t[0]==="-"?e.setProperty(t,r??""):e[t]=r==null?"":typeof r!="number"||$u.test(t)?r:r+"px"}function Zt(e,t,r,n,a){var c;e:if(t==="style")if(typeof r=="string")e.style.cssText=r;else{if(typeof n=="string"&&(e.style.cssText=n=""),n)for(t in n)r&&t in r||$i(e.style,t,"");if(r)for(t in r)n&&r[t]===n[t]||$i(e.style,t,r[t])}else if(t[0]==="o"&&t[1]==="n")c=t!==(t=t.replace(/(PointerCapture)$|Capture$/i,"$1")),t=t.toLowerCase()in e||t==="onFocusOut"||t==="onFocusIn"?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+c]=r,r?n?r.u=n.u:(r.u=ei,e.addEventListener(t,c?Wn:jn,c)):e.removeEventListener(t,c?Wn:jn,c);else{if(a=="http://www.w3.org/2000/svg")t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!="width"&&t!="height"&&t!="href"&&t!="list"&&t!="form"&&t!="tabIndex"&&t!="download"&&t!="rowSpan"&&t!="colSpan"&&t!="role"&&t!="popover"&&t in e)try{e[t]=r??"";break e}catch{}typeof r=="function"||(r==null||r===!1&&t[4]!=="-"?e.removeAttribute(t):e.setAttribute(t,t=="popover"&&r==1?"":r))}}function Hi(e){return function(t){if(this.l){var r=this.l[t.type+e];if(t.t==null)t.t=ei++;else if(t.t<r.u)return;return r(re.event?re.event(t):t)}}}function ti(e,t,r,n,a,c,u,o,h,_){var E,g,w,S,k,T,L,y,C,B,A,P,U,z,j,F,Z=t.type;if(t.constructor!==void 0)return null;128&r.__u&&(h=!!(32&r.__u),c=[o=t.__e=r.__e]),(E=re.__b)&&E(t);e:if(typeof Z=="function")try{if(y=t.props,C="prototype"in Z&&Z.prototype.render,B=(E=Z.contextType)&&n[E.__c],A=E?B?B.props.value:E.__:n,r.__c?L=(g=t.__c=r.__c).__=g.__E:(C?t.__c=g=new Z(y,A):(t.__c=g=new Rt(y,A),g.constructor=Z,g.render=Vu),B&&B.sub(g),g.props=y,g.state||(g.state={}),g.context=A,g.__n=n,w=g.__d=!0,g.__h=[],g._sb=[]),C&&g.__s==null&&(g.__s=g.state),C&&Z.getDerivedStateFromProps!=null&&(g.__s==g.state&&(g.__s=Ye({},g.__s)),Ye(g.__s,Z.getDerivedStateFromProps(y,g.__s))),S=g.props,k=g.state,g.__v=t,w)C&&Z.getDerivedStateFromProps==null&&g.componentWillMount!=null&&g.componentWillMount(),C&&g.componentDidMount!=null&&g.__h.push(g.componentDidMount);else{if(C&&Z.getDerivedStateFromProps==null&&y!==S&&g.componentWillReceiveProps!=null&&g.componentWillReceiveProps(y,A),!g.__e&&(g.shouldComponentUpdate!=null&&g.shouldComponentUpdate(y,g.__s,A)===!1||t.__v===r.__v)){for(t.__v!==r.__v&&(g.props=y,g.state=g.__s,g.__d=!1),t.__e=r.__e,t.__k=r.__k,t.__k.forEach(function(le){le&&(le.__=t)}),P=0;P<g._sb.length;P++)g.__h.push(g._sb[P]);g._sb=[],g.__h.length&&u.push(g);break e}g.componentWillUpdate!=null&&g.componentWillUpdate(y,g.__s,A),C&&g.componentDidUpdate!=null&&g.__h.push(function(){g.componentDidUpdate(S,k,T)})}if(g.context=A,g.props=y,g.__P=e,g.__e=!1,U=re.__r,z=0,C){for(g.state=g.__s,g.__d=!1,U&&U(t),E=g.render(g.props,g.state,g.context),j=0;j<g._sb.length;j++)g.__h.push(g._sb[j]);g._sb=[]}else do g.__d=!1,U&&U(t),E=g.render(g.props,g.state,g.context),g.state=g.__s;while(g.__d&&++z<25);g.state=g.__s,g.getChildContext!=null&&(n=Ye(Ye({},n),g.getChildContext())),C&&!w&&g.getSnapshotBeforeUpdate!=null&&(T=g.getSnapshotBeforeUpdate(S,k)),fa(e,kr(F=E!=null&&E.type===Ht&&E.key==null?E.props.children:E)?F:[F],t,r,n,a,c,u,o,h,_),g.base=t.__e,t.__u&=-161,g.__h.length&&u.push(g),L&&(g.__E=g.__=null)}catch(le){if(t.__v=null,h||c!=null){for(t.__u|=h?160:32;o&&o.nodeType===8&&o.nextSibling;)o=o.nextSibling;c[c.indexOf(o)]=null,t.__e=o}else t.__e=r.__e,t.__k=r.__k;re.__e(le,t,r)}else c==null&&t.__v===r.__v?(t.__k=r.__k,t.__e=r.__e):t.__e=zu(r.__e,t,r,n,a,c,u,h,_);(E=re.diffed)&&E(t)}function ga(e,t,r){t.__d=void 0;for(var n=0;n<r.length;n++)ri(r[n],r[++n],r[++n]);re.__c&&re.__c(t,e),e.some(function(a){try{e=a.__h,a.__h=[],e.some(function(c){c.call(a)})}catch(c){re.__e(c,a.__v)}})}function zu(e,t,r,n,a,c,u,o,h){var _,E,g,w,S,k,T,L=r.props,y=t.props,C=t.type;if(C==="svg"?a="http://www.w3.org/2000/svg":C==="math"?a="http://www.w3.org/1998/Math/MathML":a||(a="http://www.w3.org/1999/xhtml"),c!=null){for(_=0;_<c.length;_++)if((S=c[_])&&"setAttribute"in S==!!C&&(C?S.localName===C:S.nodeType===3)){e=S,c[_]=null;break}}if(e==null){if(C===null)return document.createTextNode(y);e=document.createElementNS(a,C,y.is&&y),c=null,o=!1}if(C===null)L===y||o&&e.data===y||(e.data=y);else{if(c=c&&$t.call(e.childNodes),L=r.props||Lt,!o&&c!=null)for(L={},_=0;_<e.attributes.length;_++)L[(S=e.attributes[_]).name]=S.value;for(_ in L)if(S=L[_],_!="children"){if(_=="dangerouslySetInnerHTML")g=S;else if(_!=="key"&&!(_ in y)){if(_=="value"&&"defaultValue"in y||_=="checked"&&"defaultChecked"in y)continue;Zt(e,_,null,S,a)}}for(_ in y)S=y[_],_=="children"?w=S:_=="dangerouslySetInnerHTML"?E=S:_=="value"?k=S:_=="checked"?T=S:_==="key"||o&&typeof S!="function"||L[_]===S||Zt(e,_,S,L[_],a);if(E)o||g&&(E.__html===g.__html||E.__html===e.innerHTML)||(e.innerHTML=E.__html),t.__k=[];else if(g&&(e.innerHTML=""),fa(e,kr(w)?w:[w],t,r,n,C==="foreignObject"?"http://www.w3.org/1999/xhtml":a,c,u,c?c[0]:r.__k&&st(r,0),o,h),c!=null)for(_=c.length;_--;)c[_]!=null&&ha(c[_]);o||(_="value",k!==void 0&&(k!==e[_]||C==="progress"&&!k||C==="option"&&k!==L[_])&&Zt(e,_,k,L[_],a),_="checked",T!==void 0&&T!==e[_]&&Zt(e,_,T,L[_],a))}return e}function ri(e,t,r){try{if(typeof e=="function"){var n=typeof e.__u=="function";n&&e.__u(),n&&t==null||(e.__u=e(t))}else e.current=t}catch(a){re.__e(a,r)}}function qn(e,t,r){var n,a;if(re.unmount&&re.unmount(e),(n=e.ref)&&(n.current&&n.current!==e.__e||ri(n,null,t)),(n=e.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(c){re.__e(c,t)}n.base=n.__P=null}if(n=e.__k)for(a=0;a<n.length;a++)n[a]&&qn(n[a],t,r||typeof e.type!="function");r||e.__e==null||ha(e.__e),e.__c=e.__=e.__e=e.__d=void 0}function Vu(e,t,r){return this.constructor(e,r)}function ya(e,t,r){var n,a,c,u;re.__&&re.__(e,t),a=(n=typeof r=="function")?null:r&&r.__k||t.__k,c=[],u=[],ti(t,e=(!n&&r||t).__k=$n(Ht,null,[e]),a||Lt,Lt,t.namespaceURI,!n&&r?[r]:a?null:t.firstChild?$t.call(t.childNodes):null,c,!n&&r?r:a?a.__e:t.firstChild,n,u),ga(c,e,u)}function ba(e,t){ya(e,t,ba)}function Gu(e,t,r){var n,a,c,u,o=Ye({},e.props);for(c in e.type&&e.type.defaultProps&&(u=e.type.defaultProps),t)c=="key"?n=t[c]:c=="ref"?a=t[c]:o[c]=t[c]===void 0&&u!==void 0?u[c]:t[c];return arguments.length>2&&(o.children=arguments.length>3?$t.call(arguments,2):r),kt(e.type,o,n||e.key,a||e.ref,null)}function Zu(e,t){var r={__c:t="__cC"+ua++,__:e,Consumer:function(n,a){return n.children(a)},Provider:function(n){var a,c;return this.getChildContext||(a=[],(c={})[t]=this,this.getChildContext=function(){return c},this.componentWillUnmount=function(){a=null},this.shouldComponentUpdate=function(u){this.props.value!==u.value&&a.some(function(o){o.__e=!0,Hn(o)})},this.sub=function(u){a.push(u);var o=u.componentWillUnmount;u.componentWillUnmount=function(){a&&a.splice(a.indexOf(u),1),o&&o.call(u)}}),n.children}};return r.Provider.__=r.Consumer.contextType=r}$t=la.slice,re={__e:function(e,t,r,n){for(var a,c,u;t=t.__;)if((a=t.__c)&&!a.__)try{if((c=a.constructor)&&c.getDerivedStateFromError!=null&&(a.setState(c.getDerivedStateFromError(e)),u=a.__d),a.componentDidCatch!=null&&(a.componentDidCatch(e,n||{}),u=a.__d),u)return a.__E=a}catch(o){e=o}throw e}},aa=0,oa=function(e){return e!=null&&e.constructor==null},Rt.prototype.setState=function(e,t){var r;r=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Ye({},this.state),typeof e=="function"&&(e=e(Ye({},r),this.props)),e&&Ye(r,e),e!=null&&this.__v&&(t&&this._sb.push(t),Hn(this))},Rt.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),Hn(this))},Rt.prototype.render=Ht,it=[],ca=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Fn=function(e,t){return e.__v.__b-t.__v.__b},nr.__r=0,ei=0,jn=Hi(!1),Wn=Hi(!0),ua=0;const Yu=Object.freeze(Object.defineProperty({__proto__:null,Component:Rt,Fragment:Ht,cloneElement:Gu,createContext:Zu,createElement:$n,createRef:Hu,h:$n,hydrate:ba,get isValidElement(){return oa},get options(){return re},render:ya,toChildArray:_a},Symbol.toStringTag,{value:"Module"})),wa=ir(Yu);var Xe,Q,Bn,qi,mt=0,ma=[],ie=re,Ki=ie.__b,zi=ie.__r,Vi=ie.diffed,Gi=ie.__c,Zi=ie.unmount,Yi=ie.__;function lt(e,t){ie.__h&&ie.__h(Q,e,mt||t),mt=0;var r=Q.__H||(Q.__H={__:[],__h:[]});return e>=r.__.length&&r.__.push({}),r.__[e]}function va(e){return mt=1,Ea(xa,e)}function Ea(e,t,r){var n=lt(Xe++,2);if(n.t=e,!n.__c&&(n.__=[r?r(t):xa(void 0,t),function(o){var h=n.__N?n.__N[0]:n.__[0],_=n.t(h,o);h!==_&&(n.__N=[_,n.__[1]],n.__c.setState({}))}],n.__c=Q,!Q.u)){var a=function(o,h,_){if(!n.__c.__H)return!0;var E=n.__c.__H.__.filter(function(w){return!!w.__c});if(E.every(function(w){return!w.__N}))return!c||c.call(this,o,h,_);var g=!1;return E.forEach(function(w){if(w.__N){var S=w.__[0];w.__=w.__N,w.__N=void 0,S!==w.__[0]&&(g=!0)}}),!(!g&&n.__c.props===o)&&(!c||c.call(this,o,h,_))};Q.u=!0;var c=Q.shouldComponentUpdate,u=Q.componentWillUpdate;Q.componentWillUpdate=function(o,h,_){if(this.__e){var E=c;c=void 0,a(o,h,_),c=E}u&&u.call(this,o,h,_)},Q.shouldComponentUpdate=a}return n.__N||n.__}function Ju(e,t){var r=lt(Xe++,3);!ie.__s&&ii(r.__H,t)&&(r.__=e,r.i=t,Q.__H.__h.push(r))}function Sa(e,t){var r=lt(Xe++,4);!ie.__s&&ii(r.__H,t)&&(r.__=e,r.i=t,Q.__h.push(r))}function Qu(e){return mt=5,ni(function(){return{current:e}},[])}function Xu(e,t,r){mt=6,Sa(function(){return typeof e=="function"?(e(t()),function(){return e(null)}):e?(e.current=t(),function(){return e.current=null}):void 0},r==null?r:r.concat(e))}function ni(e,t){var r=lt(Xe++,7);return ii(r.__H,t)&&(r.__=e(),r.__H=t,r.__h=e),r.__}function el(e,t){return mt=8,ni(function(){return e},t)}function tl(e){var t=Q.context[e.__c],r=lt(Xe++,9);return r.c=e,t?(r.__==null&&(r.__=!0,t.sub(Q)),t.props.value):e.__}function rl(e,t){ie.useDebugValue&&ie.useDebugValue(t?t(e):e)}function nl(e){var t=lt(Xe++,10),r=va();return t.__=e,Q.componentDidCatch||(Q.componentDidCatch=function(n,a){t.__&&t.__(n,a),r[1](n)}),[r[0],function(){r[1](void 0)}]}function il(){var e=lt(Xe++,11);if(!e.__){for(var t=Q.__v;t!==null&&!t.__m&&t.__!==null;)t=t.__;var r=t.__m||(t.__m=[0,0]);e.__="P"+r[0]+"-"+r[1]++}return e.__}function sl(){for(var e;e=ma.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(Xt),e.__H.__h.forEach(Kn),e.__H.__h=[]}catch(t){e.__H.__h=[],ie.__e(t,e.__v)}}ie.__b=function(e){Q=null,Ki&&Ki(e)},ie.__=function(e,t){e&&t.__k&&t.__k.__m&&(e.__m=t.__k.__m),Yi&&Yi(e,t)},ie.__r=function(e){zi&&zi(e),Xe=0;var t=(Q=e.__c).__H;t&&(Bn===Q?(t.__h=[],Q.__h=[],t.__.forEach(function(r){r.__N&&(r.__=r.__N),r.i=r.__N=void 0})):(t.__h.forEach(Xt),t.__h.forEach(Kn),t.__h=[],Xe=0)),Bn=Q},ie.diffed=function(e){Vi&&Vi(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(ma.push(t)!==1&&qi===ie.requestAnimationFrame||((qi=ie.requestAnimationFrame)||al)(sl)),t.__H.__.forEach(function(r){r.i&&(r.__H=r.i),r.i=void 0})),Bn=Q=null},ie.__c=function(e,t){t.some(function(r){try{r.__h.forEach(Xt),r.__h=r.__h.filter(function(n){return!n.__||Kn(n)})}catch(n){t.some(function(a){a.__h&&(a.__h=[])}),t=[],ie.__e(n,r.__v)}}),Gi&&Gi(e,t)},ie.unmount=function(e){Zi&&Zi(e);var t,r=e.__c;r&&r.__H&&(r.__H.__.forEach(function(n){try{Xt(n)}catch(a){t=a}}),r.__H=void 0,t&&ie.__e(t,r.__v))};var Ji=typeof requestAnimationFrame=="function";function al(e){var t,r=function(){clearTimeout(n),Ji&&cancelAnimationFrame(t),setTimeout(e)},n=setTimeout(r,100);Ji&&(t=requestAnimationFrame(r))}function Xt(e){var t=Q,r=e.__c;typeof r=="function"&&(e.__c=void 0,r()),Q=t}function Kn(e){var t=Q;e.__c=e.__(),Q=t}function ii(e,t){return!e||e.length!==t.length||t.some(function(r,n){return r!==e[n]})}function xa(e,t){return typeof t=="function"?t(e):t}const ol=Object.freeze(Object.defineProperty({__proto__:null,useCallback:el,useContext:tl,useDebugValue:rl,useEffect:Ju,useErrorBoundary:nl,useId:il,useImperativeHandle:Xu,useLayoutEffect:Sa,useMemo:ni,useReducer:Ea,useRef:Qu,useState:va},Symbol.toStringTag,{value:"Module"})),cl=ir(ol);var si={};Object.defineProperty(si,"__esModule",{value:!0});si.default=(()=>".-cbwsdk-css-reset .-gear-container{margin-left:16px !important;margin-right:9px !important;display:flex;align-items:center;justify-content:center;width:24px;height:24px;transition:opacity .25s}.-cbwsdk-css-reset .-gear-container *{user-select:none}.-cbwsdk-css-reset .-gear-container svg{opacity:0;position:absolute}.-cbwsdk-css-reset .-gear-icon{height:12px;width:12px;z-index:10000}.-cbwsdk-css-reset .-cbwsdk-snackbar{align-items:flex-end;display:flex;flex-direction:column;position:fixed;right:0;top:0;z-index:2147483647}.-cbwsdk-css-reset .-cbwsdk-snackbar *{user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance{display:flex;flex-direction:column;margin:8px 16px 0 16px;overflow:visible;text-align:left;transform:translateX(0);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header:hover .-gear-container svg{opacity:1}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header{display:flex;align-items:center;background:#fff;overflow:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-cblogo{margin:8px 8px 8px 8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-message{color:#000;font-size:13px;line-height:1.5;user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu{background:#fff;transition:opacity .25s ease-in-out,transform .25s linear,visibility 0s;visibility:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;opacity:0;flex-direction:column;padding-left:8px;padding-right:8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:last-child{margin-bottom:8px !important}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover{background:#f5f7f8;border-radius:6px;transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover span{color:#050f19;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover svg path{fill:#000;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item{visibility:inherit;height:35px;margin-top:8px;margin-bottom:0;display:flex;flex-direction:row;align-items:center;padding:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item *{visibility:inherit;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover{background:rgba(223,95,103,.2);transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover svg path{fill:#df5f67;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover span{color:#df5f67;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-info{color:#aaa;font-size:13px;margin:0 8px 0 32px;position:absolute}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-hidden{opacity:0;text-align:left;transform:translateX(25%);transition:opacity .5s linear}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-expanded .-cbwsdk-snackbar-instance-menu{opacity:1;display:flex;transform:translateY(8px);visibility:visible}")();(function(e){var t=ue&&ue.__importDefault||function(w){return w&&w.__esModule?w:{default:w}};Object.defineProperty(e,"__esModule",{value:!0}),e.SnackbarInstance=e.SnackbarContainer=e.Snackbar=void 0;const r=t(sa),n=wa,a=cl,c=ve,u=t(si),o="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEuNDkyIDEwLjQxOWE4LjkzIDguOTMgMCAwMTguOTMtOC45M2gxMS4xNjNhOC45MyA4LjkzIDAgMDE4LjkzIDguOTN2MTEuMTYzYTguOTMgOC45MyAwIDAxLTguOTMgOC45M0gxMC40MjJhOC45MyA4LjkzIDAgMDEtOC45My04LjkzVjEwLjQxOXoiIGZpbGw9IiMxNjUyRjAiLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEwLjQxOSAwSDIxLjU4QzI3LjMzNSAwIDMyIDQuNjY1IDMyIDEwLjQxOVYyMS41OEMzMiAyNy4zMzUgMjcuMzM1IDMyIDIxLjU4MSAzMkgxMC40MkM0LjY2NSAzMiAwIDI3LjMzNSAwIDIxLjU4MVYxMC40MkMwIDQuNjY1IDQuNjY1IDAgMTAuNDE5IDB6bTAgMS40ODhhOC45MyA4LjkzIDAgMDAtOC45MyA4LjkzdjExLjE2M2E4LjkzIDguOTMgMCAwMDguOTMgOC45M0gyMS41OGE4LjkzIDguOTMgMCAwMDguOTMtOC45M1YxMC40MmE4LjkzIDguOTMgMCAwMC04LjkzLTguOTNIMTAuNDJ6IiBmaWxsPSIjZmZmIi8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNS45OTggMjYuMDQ5Yy01LjU0OSAwLTEwLjA0Ny00LjQ5OC0xMC4wNDctMTAuMDQ3IDAtNS41NDggNC40OTgtMTAuMDQ2IDEwLjA0Ny0xMC4wNDYgNS41NDggMCAxMC4wNDYgNC40OTggMTAuMDQ2IDEwLjA0NiAwIDUuNTQ5LTQuNDk4IDEwLjA0Ny0xMC4wNDYgMTAuMDQ3eiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0xMi43NjIgMTQuMjU0YzAtLjgyMi42NjctMS40ODkgMS40ODktMS40ODloMy40OTdjLjgyMiAwIDEuNDg4LjY2NiAxLjQ4OCAxLjQ4OXYzLjQ5N2MwIC44MjItLjY2NiAxLjQ4OC0xLjQ4OCAxLjQ4OGgtMy40OTdhMS40ODggMS40ODggMCAwMS0xLjQ4OS0xLjQ4OHYtMy40OTh6IiBmaWxsPSIjMTY1MkYwIi8+PC9zdmc+",h="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEyIDYuNzV2LTEuNWwtMS43Mi0uNTdjLS4wOC0uMjctLjE5LS41Mi0uMzItLjc3bC44MS0xLjYyLTEuMDYtMS4wNi0xLjYyLjgxYy0uMjQtLjEzLS41LS4yNC0uNzctLjMyTDYuNzUgMGgtMS41bC0uNTcgMS43MmMtLjI3LjA4LS41My4xOS0uNzcuMzJsLTEuNjItLjgxLTEuMDYgMS4wNi44MSAxLjYyYy0uMTMuMjQtLjI0LjUtLjMyLjc3TDAgNS4yNXYxLjVsMS43Mi41N2MuMDguMjcuMTkuNTMuMzIuNzdsLS44MSAxLjYyIDEuMDYgMS4wNiAxLjYyLS44MWMuMjQuMTMuNS4yMy43Ny4zMkw1LjI1IDEyaDEuNWwuNTctMS43MmMuMjctLjA4LjUyLS4xOS43Ny0uMzJsMS42Mi44MSAxLjA2LTEuMDYtLjgxLTEuNjJjLjEzLS4yNC4yMy0uNS4zMi0uNzdMMTIgNi43NXpNNiA4LjVhMi41IDIuNSAwIDAxMC01IDIuNSAyLjUgMCAwMTAgNXoiIGZpbGw9IiMwNTBGMTkiLz48L3N2Zz4=";class _{constructor(){this.items=new Map,this.nextItemKey=0,this.root=null,this.darkMode=(0,c.isDarkMode)()}attach(S){this.root=document.createElement("div"),this.root.className="-cbwsdk-snackbar-root",S.appendChild(this.root),this.render()}presentItem(S){const k=this.nextItemKey++;return this.items.set(k,S),this.render(),()=>{this.items.delete(k),this.render()}}clear(){this.items.clear(),this.render()}render(){this.root&&(0,n.render)((0,n.h)("div",null,(0,n.h)(e.SnackbarContainer,{darkMode:this.darkMode},Array.from(this.items.entries()).map(([S,k])=>(0,n.h)(e.SnackbarInstance,Object.assign({},k,{key:S}))))),this.root)}}e.Snackbar=_;const E=w=>(0,n.h)("div",{class:(0,r.default)("-cbwsdk-snackbar-container")},(0,n.h)("style",null,u.default),(0,n.h)("div",{class:"-cbwsdk-snackbar"},w.children));e.SnackbarContainer=E;const g=({autoExpand:w,message:S,menuItems:k})=>{const[T,L]=(0,a.useState)(!0),[y,C]=(0,a.useState)(w??!1);(0,a.useEffect)(()=>{const A=[window.setTimeout(()=>{L(!1)},1),window.setTimeout(()=>{C(!0)},1e4)];return()=>{A.forEach(window.clearTimeout)}});const B=()=>{C(!y)};return(0,n.h)("div",{class:(0,r.default)("-cbwsdk-snackbar-instance",T&&"-cbwsdk-snackbar-instance-hidden",y&&"-cbwsdk-snackbar-instance-expanded")},(0,n.h)("div",{class:"-cbwsdk-snackbar-instance-header",onClick:B},(0,n.h)("img",{src:o,class:"-cbwsdk-snackbar-instance-header-cblogo"})," ",(0,n.h)("div",{class:"-cbwsdk-snackbar-instance-header-message"},S),(0,n.h)("div",{class:"-gear-container"},!y&&(0,n.h)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,n.h)("circle",{cx:"12",cy:"12",r:"12",fill:"#F5F7F8"})),(0,n.h)("img",{src:h,class:"-gear-icon",title:"Expand"}))),k&&k.length>0&&(0,n.h)("div",{class:"-cbwsdk-snackbar-instance-menu"},k.map((A,P)=>(0,n.h)("div",{class:(0,r.default)("-cbwsdk-snackbar-instance-menu-item",A.isRed&&"-cbwsdk-snackbar-instance-menu-item-is-red"),onClick:A.onClick,key:P},(0,n.h)("svg",{width:A.svgWidth,height:A.svgHeight,viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,n.h)("path",{"fill-rule":A.defaultFillRule,"clip-rule":A.defaultClipRule,d:A.path,fill:"#AAAAAA"})),(0,n.h)("span",{class:(0,r.default)("-cbwsdk-snackbar-instance-menu-item-info",A.isRed&&"-cbwsdk-snackbar-instance-menu-item-info-is-red")},A.info)))))};e.SnackbarInstance=g})(Xn);Object.defineProperty(Ir,"__esModule",{value:!0});Ir.WalletLinkRelayUI=void 0;const ul=Wt,ll=Xn;class hl{constructor(){this.attached=!1,this.snackbar=new ll.Snackbar}attach(){if(this.attached)throw new Error("Coinbase Wallet SDK UI is already attached");const t=document.documentElement,r=document.createElement("div");r.className="-cbwsdk-css-reset",t.appendChild(r),this.snackbar.attach(r),this.attached=!0,(0,ul.injectCssReset)()}showConnecting(t){let r;return t.isUnlinkedErrorState?r={autoExpand:!0,message:"Connection lost",menuItems:[{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:t.onResetConnection}]}:r={message:"Confirm on phone",menuItems:[{isRed:!0,info:"Cancel transaction",svgWidth:"11",svgHeight:"11",path:"M10.3711 1.52346L9.21775 0.370117L5.37109 4.21022L1.52444 0.370117L0.371094 1.52346L4.2112 5.37012L0.371094 9.21677L1.52444 10.3701L5.37109 6.53001L9.21775 10.3701L10.3711 9.21677L6.53099 5.37012L10.3711 1.52346Z",defaultFillRule:"inherit",defaultClipRule:"inherit",onClick:t.onCancel},{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:t.onResetConnection}]},this.snackbar.presentItem(r)}}Ir.WalletLinkRelayUI=hl;var Rr={},Ar={},ai={};Object.defineProperty(ai,"__esModule",{value:!0});ai.default=(()=>".-cbwsdk-css-reset .-cbwsdk-redirect-dialog-backdrop{position:fixed;top:0;left:0;right:0;bottom:0;transition:opacity .25s;background-color:rgba(10,11,13,.5)}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-backdrop-hidden{opacity:0}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box{display:block;position:fixed;top:50%;left:50%;transform:translate(-50%, -50%);padding:20px;border-radius:8px;background-color:#fff;color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box p{display:block;font-weight:400;font-size:14px;line-height:20px;padding-bottom:12px;color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box button{appearance:none;border:none;background:none;color:#0052ff;padding:0;text-decoration:none;display:block;font-weight:600;font-size:16px;line-height:24px}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.dark{background-color:#0a0b0d;color:#fff}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.dark button{color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.light{background-color:#fff;color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.light button{color:#0052ff}")();var Ca=ue&&ue.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ar,"__esModule",{value:!0});Ar.RedirectDialog=void 0;const dl=Ca(sa),Fe=wa,fl=Wt,pl=Xn,_l=ve,gl=Ca(ai);class yl{constructor(){this.root=null,this.darkMode=(0,_l.isDarkMode)()}attach(){const t=document.documentElement;this.root=document.createElement("div"),this.root.className="-cbwsdk-css-reset",t.appendChild(this.root),(0,fl.injectCssReset)()}present(t){this.render(t)}clear(){this.render(null)}render(t){this.root&&((0,Fe.render)(null,this.root),t&&(0,Fe.render)((0,Fe.h)(bl,Object.assign({},t,{onDismiss:()=>{this.clear()},darkMode:this.darkMode})),this.root))}}Ar.RedirectDialog=yl;const bl=({title:e,buttonText:t,darkMode:r,onButtonClick:n,onDismiss:a})=>{const c=r?"dark":"light";return(0,Fe.h)(pl.SnackbarContainer,{darkMode:r},(0,Fe.h)("div",{class:"-cbwsdk-redirect-dialog"},(0,Fe.h)("style",null,gl.default),(0,Fe.h)("div",{class:"-cbwsdk-redirect-dialog-backdrop",onClick:a}),(0,Fe.h)("div",{class:(0,dl.default)("-cbwsdk-redirect-dialog-box",c)},(0,Fe.h)("p",null,e),(0,Fe.h)("button",{onClick:n},t))))};var He={};Object.defineProperty(He,"__esModule",{value:!0});He.CBW_MOBILE_DEEPLINK_URL=He.WALLETLINK_URL=He.CB_KEYS_URL=void 0;He.CB_KEYS_URL="https://keys.coinbase.com/connect";He.WALLETLINK_URL="https://www.walletlink.org";He.CBW_MOBILE_DEEPLINK_URL="https://go.cb-w.com/walletlink";Object.defineProperty(Rr,"__esModule",{value:!0});Rr.WLMobileRelayUI=void 0;const wl=Ar,ml=ve,vl=He;class El{constructor(){this.attached=!1,this.redirectDialog=new wl.RedirectDialog}attach(){if(this.attached)throw new Error("Coinbase Wallet SDK UI is already attached");this.redirectDialog.attach(),this.attached=!0}redirectToCoinbaseWallet(t){const r=new URL(vl.CBW_MOBILE_DEEPLINK_URL);r.searchParams.append("redirect_url",(0,ml.getLocation)().href),t&&r.searchParams.append("wl_url",t);const n=document.createElement("a");n.target="cbw-opener",n.href=r.href,n.rel="noreferrer noopener",n.click()}openCoinbaseWalletDeeplink(t){this.redirectDialog.present({title:"Redirecting to Coinbase Wallet...",buttonText:"Open",onButtonClick:()=>{this.redirectToCoinbaseWallet(t)}}),setTimeout(()=>{this.redirectToCoinbaseWallet(t)},99)}showConnecting(t){return()=>{this.redirectDialog.clear()}}}Rr.WLMobileRelayUI=El;Object.defineProperty(br,"__esModule",{value:!0});br.WalletLinkRelay=void 0;const Sl=wr,xl=$e,Cl=Dt,Tn=Er,pt=Et,Il=ve,kl=Ir,Qi=Rr,Rl=qe,se=O,Al=Ke;class Ze{constructor(t){this.accountsCallback=null,this.chainCallbackParams={chainId:"",jsonRpcUrl:""},this.chainCallback=null,this.dappDefaultChain=1,this.isMobileWeb=(0,Il.isMobileWeb)(),this.appName="",this.appLogoUrl=null,this.linkedUpdated=c=>{this.isLinked=c;const u=this.storage.getItem(xl.LOCAL_STORAGE_ADDRESSES_KEY);if(c&&(this._session.linked=c),this.isUnlinkedErrorState=!1,u){const o=u.split(" "),h=this.storage.getItem("IsStandaloneSigning")==="true";o[0]!==""&&!c&&this._session.linked&&!h&&(this.isUnlinkedErrorState=!0)}},this.metadataUpdated=(c,u)=>{this.storage.setItem(c,u)},this.chainUpdated=(c,u)=>{this.chainCallbackParams.chainId===c&&this.chainCallbackParams.jsonRpcUrl===u||(this.chainCallbackParams={chainId:c,jsonRpcUrl:u},this.chainCallback&&this.chainCallback(c,u))},this.accountUpdated=c=>{this.accountsCallback&&this.accountsCallback([c]),Ze.accountRequestCallbackIds.size>0&&(Array.from(Ze.accountRequestCallbackIds.values()).forEach(u=>{const o={type:"WEB3_RESPONSE",id:u,response:{method:"requestEthereumAccounts",result:[c]}};this.invokeCallback(Object.assign(Object.assign({},o),{id:u}))}),Ze.accountRequestCallbackIds.clear())},this.resetAndReload=this.resetAndReload.bind(this),this.linkAPIUrl=t.linkAPIUrl,this.storage=t.storage;const{session:r,ui:n,connection:a}=this.subscribe();this._session=r,this.connection=a,this.relayEventManager=new Cl.RelayEventManager,this.ui=n}subscribe(){const t=Tn.WalletLinkSession.load(this.storage)||new Tn.WalletLinkSession(this.storage).save(),{linkAPIUrl:r}=this,n=new Sl.WalletLinkConnection({session:t,linkAPIUrl:r,listener:this}),a=this.isMobileWeb?new Qi.WLMobileRelayUI:new kl.WalletLinkRelayUI;return n.connect(),{session:t,ui:a,connection:n}}attachUI(){this.ui.attach()}resetAndReload(){Promise.race([this.connection.setSessionMetadata("__destroyed","1"),new Promise(t=>setTimeout(()=>t(null),1e3))]).then(()=>{this.connection.destroy();const t=Tn.WalletLinkSession.load(this.storage);(t==null?void 0:t.id)===this._session.id&&Al.ScopedLocalStorage.clearAll(),document.location.reload()}).catch(t=>{})}setAppInfo(t,r){this.appName=t,this.appLogoUrl=r}getStorageItem(t){return this.storage.getItem(t)}setStorageItem(t,r){this.storage.setItem(t,r)}signEthereumMessage(t,r,n,a){return this.sendRequest({method:"signEthereumMessage",params:{message:(0,se.hexStringFromBuffer)(t,!0),address:r,addPrefix:n,typedDataJson:a||null}})}ethereumAddressFromSignedMessage(t,r,n){return this.sendRequest({method:"ethereumAddressFromSignedMessage",params:{message:(0,se.hexStringFromBuffer)(t,!0),signature:(0,se.hexStringFromBuffer)(r,!0),addPrefix:n}})}signEthereumTransaction(t){return this.sendRequest({method:"signEthereumTransaction",params:{fromAddress:t.fromAddress,toAddress:t.toAddress,weiValue:(0,se.bigIntStringFromBigInt)(t.weiValue),data:(0,se.hexStringFromBuffer)(t.data,!0),nonce:t.nonce,gasPriceInWei:t.gasPriceInWei?(0,se.bigIntStringFromBigInt)(t.gasPriceInWei):null,maxFeePerGas:t.gasPriceInWei?(0,se.bigIntStringFromBigInt)(t.gasPriceInWei):null,maxPriorityFeePerGas:t.gasPriceInWei?(0,se.bigIntStringFromBigInt)(t.gasPriceInWei):null,gasLimit:t.gasLimit?(0,se.bigIntStringFromBigInt)(t.gasLimit):null,chainId:t.chainId,shouldSubmit:!1}})}signAndSubmitEthereumTransaction(t){return this.sendRequest({method:"signEthereumTransaction",params:{fromAddress:t.fromAddress,toAddress:t.toAddress,weiValue:(0,se.bigIntStringFromBigInt)(t.weiValue),data:(0,se.hexStringFromBuffer)(t.data,!0),nonce:t.nonce,gasPriceInWei:t.gasPriceInWei?(0,se.bigIntStringFromBigInt)(t.gasPriceInWei):null,maxFeePerGas:t.maxFeePerGas?(0,se.bigIntStringFromBigInt)(t.maxFeePerGas):null,maxPriorityFeePerGas:t.maxPriorityFeePerGas?(0,se.bigIntStringFromBigInt)(t.maxPriorityFeePerGas):null,gasLimit:t.gasLimit?(0,se.bigIntStringFromBigInt)(t.gasLimit):null,chainId:t.chainId,shouldSubmit:!0}})}submitEthereumTransaction(t,r){return this.sendRequest({method:"submitEthereumTransaction",params:{signedTransaction:(0,se.hexStringFromBuffer)(t,!0),chainId:r}})}scanQRCode(t){return this.sendRequest({method:"scanQRCode",params:{regExp:t}})}getWalletLinkSession(){return this._session}genericRequest(t,r){return this.sendRequest({method:"generic",params:{action:r,data:t}})}sendGenericMessage(t){return this.sendRequest(t)}sendRequest(t){let r=null;const n=(0,se.randomBytesHex)(8),a=c=>{this.publishWeb3RequestCanceledEvent(n),this.handleErrorResponse(n,t.method,c),r==null||r()};return new Promise((c,u)=>{r=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:a,onResetConnection:this.resetAndReload}),this.relayEventManager.callbacks.set(n,o=>{if(r==null||r(),(0,pt.isErrorResponse)(o))return u(new Error(o.errorMessage));c(o)}),this.publishWeb3RequestEvent(n,t)})}setAccountsCallback(t){this.accountsCallback=t}setChainCallback(t){this.chainCallback=t}setDappDefaultChainCallback(t){this.dappDefaultChain=t}publishWeb3RequestEvent(t,r){const n={type:"WEB3_REQUEST",id:t,request:r};this.publishEvent("Web3Request",n,!0).then(a=>{}).catch(a=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:n.id,response:{method:r.method,errorMessage:a.message}})}),this.isMobileWeb&&this.openCoinbaseWalletDeeplink(r.method)}openCoinbaseWalletDeeplink(t){if(this.ui instanceof Qi.WLMobileRelayUI)switch(t){case"requestEthereumAccounts":case"switchEthereumChain":return;default:window.addEventListener("blur",()=>{window.addEventListener("focus",()=>{this.connection.checkUnseenEvents()},{once:!0})},{once:!0}),this.ui.openCoinbaseWalletDeeplink();break}}publishWeb3RequestCanceledEvent(t){const r={type:"WEB3_REQUEST_CANCELED",id:t};this.publishEvent("Web3RequestCanceled",r,!1).then()}publishEvent(t,r,n){return this.connection.publishEvent(t,r,n)}handleWeb3ResponseMessage(t){const{response:r}=t;if(r.method==="requestEthereumAccounts"){Ze.accountRequestCallbackIds.forEach(n=>this.invokeCallback(Object.assign(Object.assign({},t),{id:n}))),Ze.accountRequestCallbackIds.clear();return}this.invokeCallback(t)}handleErrorResponse(t,r,n){var a;const c=(a=n==null?void 0:n.message)!==null&&a!==void 0?a:"Unspecified error message.";this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:t,response:{method:r,errorMessage:c}})}invokeCallback(t){const r=this.relayEventManager.callbacks.get(t.id);r&&(r(t.response),this.relayEventManager.callbacks.delete(t.id))}requestEthereumAccounts(){const t={method:"requestEthereumAccounts",params:{appName:this.appName,appLogoUrl:this.appLogoUrl||null}},r=(0,se.randomBytesHex)(8);return new Promise((n,a)=>{this.relayEventManager.callbacks.set(r,c=>{if((0,pt.isErrorResponse)(c))return a(new Error(c.errorMessage));n(c)}),Ze.accountRequestCallbackIds.add(r),this.publishWeb3RequestEvent(r,t)})}watchAsset(t,r,n,a,c,u){const o={method:"watchAsset",params:{type:t,options:{address:r,symbol:n,decimals:a,image:c},chainId:u}};let h=null;const _=(0,se.randomBytesHex)(8),E=g=>{this.publishWeb3RequestCanceledEvent(_),this.handleErrorResponse(_,o.method,g),h==null||h()};return h=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:E,onResetConnection:this.resetAndReload}),new Promise((g,w)=>{this.relayEventManager.callbacks.set(_,S=>{if(h==null||h(),(0,pt.isErrorResponse)(S))return w(new Error(S.errorMessage));g(S)}),this.publishWeb3RequestEvent(_,o)})}addEthereumChain(t,r,n,a,c,u){const o={method:"addEthereumChain",params:{chainId:t,rpcUrls:r,blockExplorerUrls:a,chainName:c,iconUrls:n,nativeCurrency:u}};let h=null;const _=(0,se.randomBytesHex)(8),E=g=>{this.publishWeb3RequestCanceledEvent(_),this.handleErrorResponse(_,o.method,g),h==null||h()};return h=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:E,onResetConnection:this.resetAndReload}),new Promise((g,w)=>{this.relayEventManager.callbacks.set(_,S=>{if(h==null||h(),(0,pt.isErrorResponse)(S))return w(new Error(S.errorMessage));g(S)}),this.publishWeb3RequestEvent(_,o)})}switchEthereumChain(t,r){const n={method:"switchEthereumChain",params:Object.assign({chainId:t},{address:r})},a=(0,se.randomBytesHex)(8);return new Promise((c,u)=>{this.relayEventManager.callbacks.set(a,o=>{if((0,pt.isErrorResponse)(o)&&o.errorCode)return u(Rl.standardErrors.provider.custom({code:o.errorCode,message:"Unrecognized chain ID. Try adding the chain using addEthereumChain first."}));if((0,pt.isErrorResponse)(o))return u(new Error(o.errorMessage));c(o)}),this.publishWeb3RequestEvent(a,n)})}}br.WalletLinkRelay=Ze;Ze.accountRequestCallbackIds=new Set;var Ml=ue&&ue.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(fr,"__esModule",{value:!0});fr.WalletLinkSigner=void 0;const Pn=Ml(Rc),Xi=$e,Ll=Dt,Ge=Et,Bl=br,es=He,ce=qe,q=O,Tl=Ke,Nn="DefaultChainId",ts="DefaultJsonRpcUrl";class Pl{constructor(t){var r,n;this._relay=null,this._addresses=[],this.hasMadeFirstChainChangedEmission=!1;const{appName:a,appLogoUrl:c}=t.metadata;this._appName=a,this._appLogoUrl=c,this._storage=new Tl.ScopedLocalStorage("walletlink",es.WALLETLINK_URL),this.updateListener=t.updateListener,this._relayEventManager=new Ll.RelayEventManager,this._jsonRpcUrlFromOpts="";const u=this._storage.getItem(Xi.LOCAL_STORAGE_ADDRESSES_KEY);if(u){const h=u.split(" ");h[0]!==""&&(this._addresses=h.map(_=>(0,q.ensureAddressString)(_)),(r=this.updateListener)===null||r===void 0||r.onAccountsUpdate({accounts:this._addresses,source:"storage"}))}this._storage.getItem(Nn)&&((n=this.updateListener)===null||n===void 0||n.onChainUpdate({chain:{id:this.getChainId(),rpcUrl:this.jsonRpcUrl},source:"storage"}),this.hasMadeFirstChainChangedEmission=!0),this.initializeRelay()}getSession(){const t=this.initializeRelay(),{id:r,secret:n}=t.getWalletLinkSession();return{id:r,secret:n}}async handshake(){return await this.request({method:"eth_requestAccounts"})}get selectedAddress(){return this._addresses[0]||void 0}get jsonRpcUrl(){var t;return(t=this._storage.getItem(ts))!==null&&t!==void 0?t:this._jsonRpcUrlFromOpts}set jsonRpcUrl(t){this._storage.setItem(ts,t)}updateProviderInfo(t,r){var n;this.jsonRpcUrl=t;const a=this.getChainId();this._storage.setItem(Nn,r.toString(10)),((0,q.ensureIntNumber)(r)!==a||!this.hasMadeFirstChainChangedEmission)&&((n=this.updateListener)===null||n===void 0||n.onChainUpdate({chain:{id:r,rpcUrl:t},source:"wallet"}),this.hasMadeFirstChainChangedEmission=!0)}async watchAsset(t,r,n,a,c,u){const h=await this.initializeRelay().watchAsset(t,r,n,a,c,u==null?void 0:u.toString());return(0,Ge.isErrorResponse)(h)?!1:!!h.result}async addEthereumChain(t,r,n,a,c,u){var o,h;if((0,q.ensureIntNumber)(t)===this.getChainId())return!1;const _=this.initializeRelay();this._isAuthorized()||await _.requestEthereumAccounts();const E=await _.addEthereumChain(t.toString(),r,c,n,a,u);return(0,Ge.isErrorResponse)(E)?!1:(((o=E.result)===null||o===void 0?void 0:o.isApproved)===!0&&this.updateProviderInfo(r[0],t),((h=E.result)===null||h===void 0?void 0:h.isApproved)===!0)}async switchEthereumChain(t){const n=await this.initializeRelay().switchEthereumChain(t.toString(10),this.selectedAddress||void 0);if((0,Ge.isErrorResponse)(n)){if(!n.errorCode)return;throw n.errorCode===ce.standardErrorCodes.provider.unsupportedChain?ce.standardErrors.provider.unsupportedChain():ce.standardErrors.provider.custom({message:n.errorMessage,code:n.errorCode})}const a=n.result;a.isApproved&&a.rpcUrl.length>0&&this.updateProviderInfo(a.rpcUrl,t)}async disconnect(){this._relay&&this._relay.resetAndReload(),this._storage.clear()}async request(t){try{return this._request(t).catch(r=>{throw r})}catch(r){return Promise.reject(r)}}async _request(t){if(!t||typeof t!="object"||Array.isArray(t))throw ce.standardErrors.rpc.invalidRequest({message:"Expected a single, non-array, object argument.",data:t});const{method:r,params:n}=t;if(typeof r!="string"||r.length===0)throw ce.standardErrors.rpc.invalidRequest({message:"'args.method' must be a non-empty string.",data:t});if(n!==void 0&&!Array.isArray(n)&&(typeof n!="object"||n===null))throw ce.standardErrors.rpc.invalidRequest({message:"'args.params' must be an object or array if provided.",data:t});const a=n===void 0?[]:n,c=this._relayEventManager.makeRequestId();return(await this._sendRequestAsync({method:r,params:a,jsonrpc:"2.0",id:c})).result}_setAddresses(t,r){var n;if(!Array.isArray(t))throw new Error("addresses is not an array");const a=t.map(c=>(0,q.ensureAddressString)(c));JSON.stringify(a)!==JSON.stringify(this._addresses)&&(this._addresses=a,(n=this.updateListener)===null||n===void 0||n.onAccountsUpdate({accounts:a,source:"wallet"}),this._storage.setItem(Xi.LOCAL_STORAGE_ADDRESSES_KEY,a.join(" ")))}_sendRequestAsync(t){return new Promise((r,n)=>{try{const a=this._handleSynchronousMethods(t);if(a!==void 0)return r({jsonrpc:"2.0",id:t.id,result:a})}catch(a){return n(a)}this._handleAsynchronousMethods(t).then(a=>a&&r(Object.assign(Object.assign({},a),{id:t.id}))).catch(a=>n(a))})}_handleSynchronousMethods(t){const{method:r}=t;switch(r){case"eth_accounts":return this._eth_accounts();case"eth_coinbase":return this._eth_coinbase();case"net_version":return this._net_version();case"eth_chainId":return this._eth_chainId();default:return}}async _handleAsynchronousMethods(t){const{method:r}=t,n=t.params||[];switch(r){case"eth_requestAccounts":return this._eth_requestAccounts();case"eth_sign":return this._eth_sign(n);case"eth_ecRecover":return this._eth_ecRecover(n);case"personal_sign":return this._personal_sign(n);case"personal_ecRecover":return this._personal_ecRecover(n);case"eth_signTransaction":return this._eth_signTransaction(n);case"eth_sendRawTransaction":return this._eth_sendRawTransaction(n);case"eth_sendTransaction":return this._eth_sendTransaction(n);case"eth_signTypedData_v1":return this._eth_signTypedData_v1(n);case"eth_signTypedData_v2":return this._throwUnsupportedMethodError();case"eth_signTypedData_v3":return this._eth_signTypedData_v3(n);case"eth_signTypedData_v4":case"eth_signTypedData":return this._eth_signTypedData_v4(n);case"wallet_addEthereumChain":return this._wallet_addEthereumChain(n);case"wallet_switchEthereumChain":return this._wallet_switchEthereumChain(n);case"wallet_watchAsset":return this._wallet_watchAsset(n);default:return this._throwUnsupportedMethodError()}}_isKnownAddress(t){try{const r=(0,q.ensureAddressString)(t);return this._addresses.map(a=>(0,q.ensureAddressString)(a)).includes(r)}catch{}return!1}_ensureKnownAddress(t){if(!this._isKnownAddress(t))throw new Error("Unknown Ethereum address")}_prepareTransactionParams(t){const r=t.from?(0,q.ensureAddressString)(t.from):this.selectedAddress;if(!r)throw new Error("Ethereum address is unavailable");this._ensureKnownAddress(r);const n=t.to?(0,q.ensureAddressString)(t.to):null,a=t.value!=null?(0,q.ensureBigInt)(t.value):BigInt(0),c=t.data?(0,q.ensureBuffer)(t.data):Buffer.alloc(0),u=t.nonce!=null?(0,q.ensureIntNumber)(t.nonce):null,o=t.gasPrice!=null?(0,q.ensureBigInt)(t.gasPrice):null,h=t.maxFeePerGas!=null?(0,q.ensureBigInt)(t.maxFeePerGas):null,_=t.maxPriorityFeePerGas!=null?(0,q.ensureBigInt)(t.maxPriorityFeePerGas):null,E=t.gas!=null?(0,q.ensureBigInt)(t.gas):null,g=t.chainId?(0,q.ensureIntNumber)(t.chainId):this.getChainId();return{fromAddress:r,toAddress:n,weiValue:a,data:c,nonce:u,gasPriceInWei:o,maxFeePerGas:h,maxPriorityFeePerGas:_,gasLimit:E,chainId:g}}_isAuthorized(){return this._addresses.length>0}_requireAuthorization(){if(!this._isAuthorized())throw ce.standardErrors.provider.unauthorized({})}_throwUnsupportedMethodError(){throw ce.standardErrors.provider.unsupportedMethod({})}async _signEthereumMessage(t,r,n,a){this._ensureKnownAddress(r);try{const u=await this.initializeRelay().signEthereumMessage(t,r,n,a);if((0,Ge.isErrorResponse)(u))throw new Error(u.errorMessage);return{jsonrpc:"2.0",id:0,result:u.result}}catch(c){throw typeof c.message=="string"&&c.message.match(/(denied|rejected)/i)?ce.standardErrors.provider.userRejectedRequest("User denied message signature"):c}}async _ethereumAddressFromSignedMessage(t,r,n){const c=await this.initializeRelay().ethereumAddressFromSignedMessage(t,r,n);if((0,Ge.isErrorResponse)(c))throw new Error(c.errorMessage);return{jsonrpc:"2.0",id:0,result:c.result}}_eth_accounts(){return[...this._addresses]}_eth_coinbase(){return this.selectedAddress||null}_net_version(){return this.getChainId().toString(10)}_eth_chainId(){return(0,q.hexStringFromIntNumber)(this.getChainId())}getChainId(){const t=this._storage.getItem(Nn);if(!t)return(0,q.ensureIntNumber)(1);const r=parseInt(t,10);return(0,q.ensureIntNumber)(r)}async _eth_requestAccounts(){if(this._isAuthorized())return Promise.resolve({jsonrpc:"2.0",id:0,result:this._addresses});let t;try{if(t=await this.initializeRelay().requestEthereumAccounts(),(0,Ge.isErrorResponse)(t))throw new Error(t.errorMessage)}catch(r){throw typeof r.message=="string"&&r.message.match(/(denied|rejected)/i)?ce.standardErrors.provider.userRejectedRequest("User denied account authorization"):r}if(!t.result)throw new Error("accounts received is empty");return this._setAddresses(t.result),{jsonrpc:"2.0",id:0,result:this._addresses}}_eth_sign(t){this._requireAuthorization();const r=(0,q.ensureAddressString)(t[0]),n=(0,q.ensureBuffer)(t[1]);return this._signEthereumMessage(n,r,!1)}_eth_ecRecover(t){const r=(0,q.ensureBuffer)(t[0]),n=(0,q.ensureBuffer)(t[1]);return this._ethereumAddressFromSignedMessage(r,n,!1)}_personal_sign(t){this._requireAuthorization();const r=(0,q.ensureBuffer)(t[0]),n=(0,q.ensureAddressString)(t[1]);return this._signEthereumMessage(r,n,!0)}_personal_ecRecover(t){const r=(0,q.ensureBuffer)(t[0]),n=(0,q.ensureBuffer)(t[1]);return this._ethereumAddressFromSignedMessage(r,n,!0)}async _eth_signTransaction(t){this._requireAuthorization();const r=this._prepareTransactionParams(t[0]||{});try{const a=await this.initializeRelay().signEthereumTransaction(r);if((0,Ge.isErrorResponse)(a))throw new Error(a.errorMessage);return{jsonrpc:"2.0",id:0,result:a.result}}catch(n){throw typeof n.message=="string"&&n.message.match(/(denied|rejected)/i)?ce.standardErrors.provider.userRejectedRequest("User denied transaction signature"):n}}async _eth_sendRawTransaction(t){const r=(0,q.ensureBuffer)(t[0]),a=await this.initializeRelay().submitEthereumTransaction(r,this.getChainId());if((0,Ge.isErrorResponse)(a))throw new Error(a.errorMessage);return{jsonrpc:"2.0",id:0,result:a.result}}async _eth_sendTransaction(t){this._requireAuthorization();const r=this._prepareTransactionParams(t[0]||{});try{const a=await this.initializeRelay().signAndSubmitEthereumTransaction(r);if((0,Ge.isErrorResponse)(a))throw new Error(a.errorMessage);return{jsonrpc:"2.0",id:0,result:a.result}}catch(n){throw typeof n.message=="string"&&n.message.match(/(denied|rejected)/i)?ce.standardErrors.provider.userRejectedRequest("User denied transaction signature"):n}}async _eth_signTypedData_v1(t){this._requireAuthorization();const r=(0,q.ensureParsedJSONObject)(t[0]),n=(0,q.ensureAddressString)(t[1]);this._ensureKnownAddress(n);const a=Pn.default.hashForSignTypedDataLegacy({data:r}),c=JSON.stringify(r,null,2);return this._signEthereumMessage(a,n,!1,c)}async _eth_signTypedData_v3(t){this._requireAuthorization();const r=(0,q.ensureAddressString)(t[0]),n=(0,q.ensureParsedJSONObject)(t[1]);this._ensureKnownAddress(r);const a=Pn.default.hashForSignTypedData_v3({data:n}),c=JSON.stringify(n,null,2);return this._signEthereumMessage(a,r,!1,c)}async _eth_signTypedData_v4(t){this._requireAuthorization();const r=(0,q.ensureAddressString)(t[0]),n=(0,q.ensureParsedJSONObject)(t[1]);this._ensureKnownAddress(r);const a=Pn.default.hashForSignTypedData_v4({data:n}),c=JSON.stringify(n,null,2);return this._signEthereumMessage(a,r,!1,c)}async _wallet_addEthereumChain(t){var r,n,a,c;const u=t[0];if(((r=u.rpcUrls)===null||r===void 0?void 0:r.length)===0)return{jsonrpc:"2.0",id:0,error:{code:2,message:"please pass in at least 1 rpcUrl"}};if(!u.chainName||u.chainName.trim()==="")throw ce.standardErrors.rpc.invalidParams("chainName is a required field");if(!u.nativeCurrency)throw ce.standardErrors.rpc.invalidParams("nativeCurrency is a required field");const o=parseInt(u.chainId,16);return await this.addEthereumChain(o,(n=u.rpcUrls)!==null&&n!==void 0?n:[],(a=u.blockExplorerUrls)!==null&&a!==void 0?a:[],u.chainName,(c=u.iconUrls)!==null&&c!==void 0?c:[],u.nativeCurrency)?{jsonrpc:"2.0",id:0,result:null}:{jsonrpc:"2.0",id:0,error:{code:2,message:"unable to add ethereum chain"}}}async _wallet_switchEthereumChain(t){const r=t[0];return await this.switchEthereumChain(parseInt(r.chainId,16)),{jsonrpc:"2.0",id:0,result:null}}async _wallet_watchAsset(t){const r=Array.isArray(t)?t[0]:t;if(!r.type)throw ce.standardErrors.rpc.invalidParams("Type is required");if((r==null?void 0:r.type)!=="ERC20")throw ce.standardErrors.rpc.invalidParams(`Asset of type '${r.type}' is not supported`);if(!(r!=null&&r.options))throw ce.standardErrors.rpc.invalidParams("Options are required");if(!(r!=null&&r.options.address))throw ce.standardErrors.rpc.invalidParams("Address is required");const n=this.getChainId(),{address:a,symbol:c,image:u,decimals:o}=r.options;return{jsonrpc:"2.0",id:0,result:await this.watchAsset(r.type,a,c,o,u,n)}}initializeRelay(){if(!this._relay){const t=new Bl.WalletLinkRelay({linkAPIUrl:es.WALLETLINK_URL,storage:this._storage});t.setAppInfo(this._appName,this._appLogoUrl),t.attachUI(),t.setAccountsCallback((r,n)=>this._setAddresses(r,n)),t.setChainCallback((r,n)=>{this.updateProviderInfo(n,parseInt(r,10))}),this._relay=t}return this._relay}}fr.WalletLinkSigner=Pl;var Ce={};Object.defineProperty(Ce,"__esModule",{value:!0});Ce.checkErrorForInvalidRequestArgs=Ce.getCoinbaseInjectedProvider=Ce.getCoinbaseInjectedSigner=Ce.fetchRPCRequest=void 0;const Nl=at,er=qe;async function Dl(e,t){if(!t.rpcUrl)throw er.standardErrors.rpc.internal("No RPC URL set for chain");const r=Object.assign(Object.assign({},e),{jsonrpc:"2.0",id:crypto.randomUUID()});return(await(await window.fetch(t.rpcUrl,{method:"POST",body:JSON.stringify(r),mode:"cors",headers:{"Content-Type":"application/json","X-Cbw-Sdk-Version":Nl.LIB_VERSION}})).json()).result}Ce.fetchRPCRequest=Dl;function Ia(){return globalThis.coinbaseWalletSigner}Ce.getCoinbaseInjectedSigner=Ia;function Ol({metadata:e,preference:t}){var r,n,a;const c=globalThis;if(t.options!=="smartWalletOnly"){if(Ia())return;const h=c.coinbaseWalletExtension;if(h){const{appName:_,appLogoUrl:E,appChainIds:g}=e;return(r=h.setAppInfo)===null||r===void 0||r.call(h,_,E,g),h}}const u=(n=c.ethereum)!==null&&n!==void 0?n:(a=c.top)===null||a===void 0?void 0:a.ethereum;if(u!=null&&u.isCoinbaseBrowser)return u}Ce.getCoinbaseInjectedProvider=Ol;function Ul(e){if(!e||typeof e!="object"||Array.isArray(e))return er.standardErrors.rpc.invalidParams({message:"Expected a single, non-array, object argument.",data:e});const{method:t,params:r}=e;if(typeof t!="string"||t.length===0)return er.standardErrors.rpc.invalidParams({message:"'args.method' must be a non-empty string.",data:e});if(r!==void 0&&!Array.isArray(r)&&(typeof r!="object"||r===null))return er.standardErrors.rpc.invalidParams({message:"'args.params' must be an object or array if provided.",data:e})}Ce.checkErrorForInvalidRequestArgs=Ul;Object.defineProperty(We,"__esModule",{value:!0});We.createSigner=We.fetchSignerType=We.storeSignerType=We.loadSignerType=void 0;const Fl=lr,ka=fr,jl=qe,Wl=Ce,$l=Ke,Ra="SignerType",Aa=new $l.ScopedLocalStorage("CBWSDK","SignerConfigurator");function Hl(){return Aa.getItem(Ra)}We.loadSignerType=Hl;function ql(e){Aa.setItem(Ra,e)}We.storeSignerType=ql;async function Kl(e){const{communicator:t,metadata:r}=e;Vl(t,r).catch(()=>{});const n={id:crypto.randomUUID(),event:"selectSignerType",data:e.preference},{data:a}=await t.postRequestAndWaitForResponse(n);return a}We.fetchSignerType=Kl;function zl(e){const{signerType:t,metadata:r,communicator:n,updateListener:a}=e;switch(t){case"scw":return new Fl.SCWSigner({metadata:r,updateListener:a,communicator:n});case"walletlink":return new ka.WalletLinkSigner({metadata:r,updateListener:a});case"extension":{const c=(0,Wl.getCoinbaseInjectedSigner)();if(!c)throw jl.standardErrors.rpc.internal("injected signer not found");return c}}}We.createSigner=zl;async function Vl(e,t){await e.onMessage(({event:n})=>n==="WalletLinkSessionRequest");const r=new ka.WalletLinkSigner({metadata:t});e.postMessage({event:"WalletLinkUpdate",data:{session:r.getSession()}}),await r.handshake(),e.postMessage({event:"WalletLinkUpdate",data:{connected:!0}})}var Mr={},vt={};Object.defineProperty(vt,"__esModule",{value:!0});vt.closePopup=vt.openPopup=void 0;const Gl=qe,rs=420,ns=540;function Zl(e){const t=(window.innerWidth-rs)/2+window.screenX,r=(window.innerHeight-ns)/2+window.screenY,n=window.open(e,"Smart Wallet",`width=${rs}, height=${ns}, left=${t}, top=${r}`);if(n==null||n.focus(),!n)throw Gl.standardErrors.rpc.internal("Pop up window failed to open");return n}vt.openPopup=Zl;function Yl(e){e&&!e.closed&&e.close()}vt.closePopup=Yl;Object.defineProperty(Mr,"__esModule",{value:!0});Mr.Communicator=void 0;const Jl=at,is=vt,Ql=He,ss=qe;class Xl{constructor(t=Ql.CB_KEYS_URL){this.popup=null,this.listeners=new Map,this.postMessage=async r=>{(await this.waitForPopupLoaded()).postMessage(r,this.url.origin)},this.postRequestAndWaitForResponse=async r=>{const n=this.onMessage(({requestId:a})=>a===r.id);return this.postMessage(r),await n},this.onMessage=async r=>new Promise((n,a)=>{const c=u=>{if(u.origin!==this.url.origin)return;const o=u.data;r(o)&&(n(o),window.removeEventListener("message",c),this.listeners.delete(c))};window.addEventListener("message",c),this.listeners.set(c,{reject:a})}),this.disconnect=()=>{(0,is.closePopup)(this.popup),this.popup=null,this.listeners.forEach(({reject:r},n)=>{r(ss.standardErrors.provider.userRejectedRequest("Request rejected")),window.removeEventListener("message",n)}),this.listeners.clear()},this.waitForPopupLoaded=async()=>this.popup&&!this.popup.closed?this.popup:(this.popup=(0,is.openPopup)(this.url),this.onMessage(({event:r})=>r==="PopupUnload").then(this.disconnect).catch(()=>{}),this.onMessage(({event:r})=>r==="PopupLoaded").then(r=>{this.postMessage({requestId:r.id,data:{version:Jl.LIB_VERSION}})}).then(()=>{if(!this.popup)throw ss.standardErrors.rpc.internal();return this.popup})),this.url=new URL(t)}}Mr.Communicator=Xl;var Lr={};Object.defineProperty(Lr,"__esModule",{value:!0});Lr.determineMethodCategory=void 0;const as={handshake:["eth_requestAccounts"],sign:["eth_ecRecover","personal_sign","personal_ecRecover","eth_signTransaction","eth_sendTransaction","eth_signTypedData_v1","eth_signTypedData_v3","eth_signTypedData_v4","eth_signTypedData","wallet_addEthereumChain","wallet_switchEthereumChain","wallet_watchAsset","wallet_getCapabilities","wallet_sendCalls","wallet_showCallsStatus"],state:["eth_chainId","eth_accounts","eth_coinbase","net_version"],deprecated:["eth_sign","eth_signTypedData_v2"],unsupported:["eth_subscribe","eth_unsubscribe"],fetch:[]};function eh(e){for(const t in as){const r=t;if(as[r].includes(e))return r}}Lr.determineMethodCategory=eh;var th=ue&&ue.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r},rh=ue&&ue.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ar,"__esModule",{value:!0});ar.CoinbaseWalletProvider=void 0;const nh=rh(Pa),_t=qe,ih=cr,Yt=ge,Ct=O,Jt=We,os=Ce,sh=Mr,ah=Lr,oh=Ke;class ch extends nh.default{constructor(t){var r,n,{metadata:a}=t,c=t.preference,{keysUrl:u}=c,o=th(c,["keysUrl"]);super(),this.accounts=[],this.handlers={handshake:async _=>{try{if(this.connected)return this.emit("connect",{chainId:(0,Ct.hexStringFromIntNumber)((0,Yt.IntNumber)(this.chain.id))}),this.accounts;const E=await this.requestSignerSelection(),g=this.initSigner(E),w=await g.handshake();return this.signer=g,(0,Jt.storeSignerType)(E),this.emit("connect",{chainId:(0,Ct.hexStringFromIntNumber)((0,Yt.IntNumber)(this.chain.id))}),w}catch(E){throw this.handleUnauthorizedError(E),E}},sign:async _=>{if(!this.connected||!this.signer)throw _t.standardErrors.provider.unauthorized("Must call 'eth_requestAccounts' before other methods");try{return await this.signer.request(_)}catch(E){throw this.handleUnauthorizedError(E),E}},fetch:_=>(0,os.fetchRPCRequest)(_,this.chain),state:_=>{const E=()=>{if(this.connected)return this.accounts;throw _t.standardErrors.provider.unauthorized("Must call 'eth_requestAccounts' before other methods")};switch(_.method){case"eth_chainId":return(0,Ct.hexStringFromIntNumber)((0,Yt.IntNumber)(this.chain.id));case"net_version":return this.chain.id;case"eth_accounts":return E();case"eth_coinbase":return E()[0];default:return this.handlers.unsupported(_)}},deprecated:({method:_})=>{throw _t.standardErrors.rpc.methodNotSupported(`Method ${_} is deprecated.`)},unsupported:({method:_})=>{throw _t.standardErrors.rpc.methodNotSupported(`Method ${_} is not supported.`)}},this.isCoinbaseWallet=!0,this.updateListener={onAccountsUpdate:({accounts:_,source:E})=>{(0,Ct.areAddressArraysEqual)(this.accounts,_)||(this.accounts=_,E!=="storage"&&this.emit("accountsChanged",this.accounts))},onChainUpdate:({chain:_,source:E})=>{_.id===this.chain.id&&_.rpcUrl===this.chain.rpcUrl||(this.chain=_,E!=="storage"&&this.emit("chainChanged",(0,Ct.hexStringFromIntNumber)((0,Yt.IntNumber)(_.id))))}},this.metadata=a,this.preference=o,this.communicator=new sh.Communicator(u),this.chain={id:(n=(r=a.appChainIds)===null||r===void 0?void 0:r[0])!==null&&n!==void 0?n:1};const h=(0,Jt.loadSignerType)();this.signer=h?this.initSigner(h):null}get connected(){return this.accounts.length>0}async request(t){var r;try{const n=(0,os.checkErrorForInvalidRequestArgs)(t);if(n)throw n;const a=(r=(0,ah.determineMethodCategory)(t.method))!==null&&r!==void 0?r:"fetch";return this.handlers[a](t)}catch(n){return Promise.reject((0,ih.serializeError)(n,t.method))}}handleUnauthorizedError(t){t.code===_t.standardErrorCodes.provider.unauthorized&&this.disconnect()}async enable(){return console.warn('.enable() has been deprecated. Please use .request({ method: "eth_requestAccounts" }) instead.'),await this.request({method:"eth_requestAccounts"})}async disconnect(){this.accounts=[],this.chain={id:1},oh.ScopedLocalStorage.clearAll(),this.emit("disconnect",_t.standardErrors.provider.disconnected("User initiated disconnection"))}requestSignerSelection(){return(0,Jt.fetchSignerType)({communicator:this.communicator,preference:this.preference,metadata:this.metadata})}initSigner(t){return(0,Jt.createSigner)({signerType:t,metadata:this.metadata,communicator:this.communicator,updateListener:this.updateListener})}}ar.CoinbaseWalletProvider=ch;Object.defineProperty(At,"__esModule",{value:!0});At.CoinbaseWalletSDK=void 0;const uh=sr,lh=ar,hh=Ke,dh=at,fh=O,ph=Ce;class _h{constructor(t){this.metadata={appName:t.appName||"Dapp",appLogoUrl:t.appLogoUrl||(0,fh.getFavicon)(),appChainIds:t.appChainIds||[]},this.storeLatestVersion()}makeWeb3Provider(t={options:"all"}){var r;const n={metadata:this.metadata,preference:t};return(r=(0,ph.getCoinbaseInjectedProvider)(n))!==null&&r!==void 0?r:new lh.CoinbaseWalletProvider(n)}getCoinbaseWalletLogo(t,r=240){return(0,uh.walletLogo)(t,r)}storeLatestVersion(){new hh.ScopedLocalStorage("CBWSDK").setItem("VERSION",dh.LIB_VERSION)}}At.CoinbaseWalletSDK=_h;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CoinbaseWalletSDK=void 0;const t=At;e.default=t.CoinbaseWalletSDK;var r=At;Object.defineProperty(e,"CoinbaseWalletSDK",{enumerable:!0,get:function(){return r.CoinbaseWalletSDK}})})(zn);const gh=Ma(zn),wh=La({__proto__:null,default:gh},[zn]);export{wh as i};
