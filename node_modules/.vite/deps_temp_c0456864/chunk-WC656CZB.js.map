{
  "version": 3,
  "sources": ["../../thirdweb/src/react/web/wallets/shared/OTPLoginUI.tsx", "../../thirdweb/src/react/web/ui/components/FadeIn.tsx", "../../input-otp/src/input.tsx", "../../input-otp/src/regexp.ts", "../../input-otp/src/sync-timeouts.ts", "../../input-otp/src/use-previous.ts", "../../input-otp/src/use-pwm-badge.tsx", "../../thirdweb/src/react/web/ui/components/OTPInput.tsx", "../../thirdweb/src/react/web/wallets/shared/PassKeyLogin.tsx", "../../thirdweb/src/react/web/ui/ConnectWallet/icons/FingerPrintIcon.tsx", "../../thirdweb/src/react/web/wallets/shared/ErrorState.tsx", "../../thirdweb/src/react/web/wallets/shared/LoadingState.tsx", "../../thirdweb/src/react/web/wallets/shared/SocialLogin.tsx"],
  "sourcesContent": ["\"use client\";\nimport { useCallback, useEffect, useMemo, useRef, useState } from \"react\";\nimport type { Chain } from \"../../../../chains/types.js\";\nimport type { ThirdwebClient } from \"../../../../client/client.js\";\nimport { webLocalStorage } from \"../../../../utils/storage/webStorage.js\";\nimport { isEcosystemWallet } from \"../../../../wallets/ecosystem/is-ecosystem-wallet.js\";\nimport { linkProfile } from \"../../../../wallets/in-app/core/wallet/profiles.js\";\nimport { preAuthenticate } from \"../../../../wallets/in-app/web/lib/auth/index.js\";\nimport type { Wallet } from \"../../../../wallets/interfaces/wallet.js\";\nimport type { EcosystemWalletId } from \"../../../../wallets/wallet-types.js\";\nimport { useCustomTheme } from \"../../../core/design-system/CustomThemeProvider.js\";\nimport { fontSize } from \"../../../core/design-system/index.js\";\nimport { setLastAuthProvider } from \"../../../core/utils/storage.js\";\nimport { FadeIn } from \"../../ui/components/FadeIn.js\";\nimport { OTPInput } from \"../../ui/components/OTPInput.js\";\nimport { Spacer } from \"../../ui/components/Spacer.js\";\nimport { Spinner } from \"../../ui/components/Spinner.js\";\nimport { Container, Line, ModalHeader } from \"../../ui/components/basic.js\";\nimport { Button } from \"../../ui/components/buttons.js\";\nimport { Text } from \"../../ui/components/text.js\";\nimport { StyledButton } from \"../../ui/design-system/elements.js\";\nimport type { InAppWalletLocale } from \"./locale/types.js\";\n\ntype VerificationStatus =\n  | \"verifying\"\n  | \"invalid\"\n  | \"linking_error\"\n  | \"valid\"\n  | \"idle\"\n  | \"payment_required\";\ntype AccountStatus = \"sending\" | \"sent\" | \"error\";\ntype ScreenToShow = \"base\" | \"enter-password-or-recovery-code\";\n\n/**\n * @internal\n */\nexport function OTPLoginUI(props: {\n  userInfo: { email: string } | { phone: string };\n  wallet: Wallet;\n  locale: InAppWalletLocale;\n  done: () => void;\n  goBack?: () => void;\n  client: ThirdwebClient;\n  chain: Chain | undefined;\n  size: \"compact\" | \"wide\";\n  isLinking?: boolean;\n}) {\n  const { wallet, done, goBack, userInfo } = props;\n  const isWideModal = props.size === \"wide\";\n  const locale = props.locale;\n  const [otpInput, setOtpInput] = useState(\"\");\n  const [verifyStatus, setVerifyStatus] = useState<VerificationStatus>(\"idle\");\n  const [error, setError] = useState<string | undefined>();\n  const [accountStatus, setAccountStatus] = useState<AccountStatus>(\"sending\");\n  const isEcosystem = useMemo(() => isEcosystemWallet(wallet.id), [wallet.id]);\n\n  const [screen] = useState<ScreenToShow>(\"base\");\n\n  const sendEmailOrSms = useCallback(async () => {\n    setOtpInput(\"\");\n    setVerifyStatus(\"idle\");\n    setAccountStatus(\"sending\");\n\n    try {\n      if (\"email\" in userInfo) {\n        await preAuthenticate({\n          ecosystem: isEcosystem\n            ? {\n                id: wallet.id as EcosystemWalletId,\n                partnerId: (wallet as Wallet<EcosystemWalletId>).getConfig()\n                  ?.partnerId,\n              }\n            : undefined,\n          email: userInfo.email,\n          strategy: \"email\",\n          client: props.client,\n        });\n        setAccountStatus(\"sent\");\n      } else if (\"phone\" in userInfo) {\n        await preAuthenticate({\n          ecosystem: isEcosystem\n            ? {\n                id: wallet.id as EcosystemWalletId,\n                partnerId: (wallet as Wallet<EcosystemWalletId>).getConfig()\n                  ?.partnerId,\n              }\n            : undefined,\n          phoneNumber: userInfo.phone,\n          strategy: \"phone\",\n          client: props.client,\n        });\n        setAccountStatus(\"sent\");\n      } else {\n        throw new Error(\"Invalid userInfo\");\n      }\n    } catch (e) {\n      console.error(e);\n      setVerifyStatus(\"idle\");\n      setAccountStatus(\"error\");\n    }\n  }, [props.client, userInfo, wallet, isEcosystem]);\n\n  async function connect(otp: string) {\n    if (\"email\" in userInfo) {\n      await wallet.connect({\n        chain: props.chain,\n        strategy: \"email\",\n        email: userInfo.email,\n        verificationCode: otp,\n        client: props.client,\n      });\n      await setLastAuthProvider(\"email\", webLocalStorage);\n    } else if (\"phone\" in userInfo) {\n      await wallet.connect({\n        chain: props.chain,\n        strategy: \"phone\",\n        phoneNumber: userInfo.phone,\n        verificationCode: otp,\n        client: props.client,\n      });\n      await setLastAuthProvider(\"phone\", webLocalStorage);\n    } else {\n      throw new Error(\"Invalid userInfo\");\n    }\n  }\n\n  async function link(otp: string) {\n    if (\"email\" in userInfo) {\n      await linkProfile(wallet as Wallet<\"inApp\">, {\n        strategy: \"email\",\n        email: userInfo.email,\n        verificationCode: otp,\n      });\n    } else if (\"phone\" in userInfo) {\n      await linkProfile(wallet as Wallet<\"inApp\">, {\n        strategy: \"phone\",\n        phoneNumber: userInfo.phone,\n        verificationCode: otp,\n      });\n    }\n  }\n\n  const verify = async (otp: string) => {\n    if (otp.length !== 6) {\n      return;\n    }\n    setVerifyStatus(\"verifying\");\n\n    try {\n      // verifies otp for UI feedback\n      if (props.isLinking) {\n        await link(otp);\n      } else {\n        await connect(otp);\n      }\n      done();\n\n      setVerifyStatus(\"valid\");\n    } catch (e) {\n      // TODO: More robust error handling\n      if (\n        e instanceof Error &&\n        e?.message?.includes(\"PAYMENT_METHOD_REQUIRED\")\n      ) {\n        setVerifyStatus(\"payment_required\");\n      } else if (\n        e instanceof Error &&\n        (e.message.toLowerCase().includes(\"link\") ||\n          e.message.toLowerCase().includes(\"profile\"))\n      ) {\n        setVerifyStatus(\"linking_error\");\n        setError(e.message);\n      } else {\n        setVerifyStatus(\"invalid\");\n      }\n      console.error(\"Authentication Error\", e);\n    }\n  };\n\n  // send email on mount\n  const emailSentOnMount = useRef(false);\n  useEffect(() => {\n    if (!emailSentOnMount.current) {\n      emailSentOnMount.current = true;\n      sendEmailOrSms();\n    }\n  }, [sendEmailOrSms]);\n\n  if (screen === \"base\") {\n    return (\n      <Container fullHeight flex=\"column\" animate=\"fadein\">\n        <Container p=\"lg\">\n          <ModalHeader title={locale.signIn} onBack={goBack} />\n        </Container>\n\n        <Container expand flex=\"column\" center=\"y\">\n          <form\n            onSubmit={(e) => {\n              e.preventDefault();\n            }}\n          >\n            <Container flex=\"column\" center=\"x\" px=\"lg\">\n              {!isWideModal && <Spacer y=\"xl\" />}\n              <Text>{locale.emailLoginScreen.enterCodeSendTo}</Text>\n              <Spacer y=\"sm\" />\n              <Text color=\"primaryText\">\n                {\"email\" in userInfo ? userInfo.email : userInfo.phone}\n              </Text>\n              <Spacer y=\"xl\" />\n            </Container>\n\n            <OTPInput\n              isInvalid={verifyStatus === \"invalid\"}\n              digits={6}\n              value={otpInput}\n              setValue={(value) => {\n                setOtpInput(value);\n                setVerifyStatus(\"idle\"); // reset error\n              }}\n              onEnter={() => {\n                verify(otpInput);\n              }}\n            />\n\n            {verifyStatus === \"invalid\" && (\n              <FadeIn>\n                <Spacer y=\"md\" />\n                <Text size=\"sm\" color=\"danger\" center>\n                  {locale.emailLoginScreen.invalidCode}\n                </Text>\n              </FadeIn>\n            )}\n\n            {verifyStatus === \"linking_error\" && (\n              <FadeIn>\n                <Spacer y=\"md\" />\n                <Text size=\"sm\" color=\"danger\" center>\n                  {error || \"Failed to verify code\"}\n                </Text>\n              </FadeIn>\n            )}\n\n            {verifyStatus === \"payment_required\" && (\n              <FadeIn>\n                <Spacer y=\"md\" />\n                <Text size=\"sm\" color=\"danger\" center>\n                  {locale.maxAccountsExceeded}\n                </Text>\n              </FadeIn>\n            )}\n\n            <Spacer y=\"xl\" />\n\n            <Container px={isWideModal ? \"xxl\" : \"lg\"}>\n              {verifyStatus === \"verifying\" ? (\n                <>\n                  <Container flex=\"row\" center=\"x\" animate=\"fadein\">\n                    <Spinner size=\"lg\" color=\"accentText\" />\n                  </Container>\n                </>\n              ) : (\n                <Container animate=\"fadein\" key=\"btn-container\">\n                  <Button\n                    onClick={() => verify(otpInput)}\n                    variant=\"accent\"\n                    type=\"submit\"\n                    style={{\n                      width: \"100%\",\n                    }}\n                  >\n                    {locale.emailLoginScreen.verify}\n                  </Button>\n                </Container>\n              )}\n            </Container>\n\n            <Spacer y=\"xl\" />\n\n            {!isWideModal && <Line />}\n\n            <Container p={isWideModal ? undefined : \"lg\"}>\n              {accountStatus === \"error\" && (\n                <>\n                  <Text size=\"sm\" center color=\"danger\">\n                    {locale.emailLoginScreen.failedToSendCode}\n                  </Text>\n                </>\n              )}\n\n              {accountStatus === \"sending\" && (\n                <Container\n                  flex=\"row\"\n                  center=\"both\"\n                  gap=\"xs\"\n                  style={{\n                    textAlign: \"center\",\n                  }}\n                >\n                  <Text size=\"sm\">{locale.emailLoginScreen.sendingCode}</Text>\n                  <Spinner size=\"xs\" color=\"secondaryText\" />\n                </Container>\n              )}\n\n              {accountStatus === \"sent\" && (\n                <LinkButton onClick={sendEmailOrSms} type=\"button\">\n                  {locale.emailLoginScreen.resendCode}\n                </LinkButton>\n              )}\n            </Container>\n          </form>\n        </Container>\n      </Container>\n    );\n  }\n\n  return null;\n}\n\nconst LinkButton = /* @__PURE__ */ StyledButton((_) => {\n  const theme = useCustomTheme();\n  return {\n    all: \"unset\",\n    color: theme.colors.accentText,\n    fontSize: fontSize.sm,\n    cursor: \"pointer\",\n    textAlign: \"center\",\n    fontWeight: 500,\n    width: \"100%\",\n    \"&:hover\": {\n      color: theme.colors.primaryText,\n    },\n  };\n});\n", "import { fadeInAnimation } from \"../design-system/animations.js\";\nimport { StyledDiv } from \"../design-system/elements.js\";\n\nexport const FadeIn = /* @__PURE__ */ StyledDiv({\n  animation: `${fadeInAnimation} 0.15s ease-in`,\n});\n", "'use client'\n\nimport * as React from 'react'\n\nimport { REGEXP_ONLY_DIGITS } from './regexp'\nimport { syncTimeouts } from './sync-timeouts'\nimport { OTPInputProps, RenderProps } from './types'\nimport { usePrevious } from './use-previous'\nimport { usePasswordManagerBadge } from './use-pwm-badge'\n\nexport const OTPInputContext = React.createContext<RenderProps>(\n  {} as RenderProps,\n)\n\nexport const OTPInput = React.forwardRef<HTMLInputElement, OTPInputProps>(\n  (\n    {\n      value: uncheckedValue,\n      onChange: uncheckedOnChange,\n      maxLength,\n      textAlign = 'left',\n      pattern = REGEXP_ONLY_DIGITS,\n      inputMode = 'numeric',\n      onComplete,\n      pushPasswordManagerStrategy = 'increase-width',\n      containerClassName,\n      noScriptCSSFallback = NOSCRIPT_CSS_FALLBACK,\n\n      render,\n      children,\n\n      ...props\n    },\n    ref,\n  ) => {\n    // Only used when `value` state is not provided\n    const [internalValue, setInternalValue] = React.useState(\n      typeof props.defaultValue === 'string' ? props.defaultValue : '',\n    )\n\n    // Definitions\n    const value = uncheckedValue ?? internalValue\n    const previousValue = usePrevious(value)\n    const onChange = React.useCallback(\n      (newValue: string) => {\n        uncheckedOnChange?.(newValue)\n        setInternalValue(newValue)\n      },\n      [uncheckedOnChange],\n    )\n    const regexp = React.useMemo(\n      () =>\n        pattern\n          ? typeof pattern === 'string'\n            ? new RegExp(pattern)\n            : pattern\n          : null,\n      [pattern],\n    )\n\n    /** useRef */\n    const inputRef = React.useRef<HTMLInputElement>(null)\n    const containerRef = React.useRef<HTMLDivElement>(null)\n    const initialLoadRef = React.useRef({\n      value,\n      onChange,\n      isIOS:\n        typeof window !== 'undefined' &&\n        window?.CSS?.supports?.('-webkit-touch-callout', 'none'),\n    })\n    const inputMetadataRef = React.useRef<{\n      prev: [number | null, number | null, 'none' | 'forward' | 'backward']\n    }>({\n      prev: [\n        inputRef.current?.selectionStart,\n        inputRef.current?.selectionEnd,\n        inputRef.current?.selectionDirection,\n      ],\n    })\n    React.useImperativeHandle(ref, () => inputRef.current, [])\n    React.useEffect(() => {\n      const input = inputRef.current\n      const container = containerRef.current\n\n      if (!input || !container) {\n        return\n      }\n\n      // Sync input value\n      if (initialLoadRef.current.value !== input.value) {\n        initialLoadRef.current.onChange(input.value)\n      }\n\n      // Previous selection\n      inputMetadataRef.current.prev = [\n        input.selectionStart,\n        input.selectionEnd,\n        input.selectionDirection,\n      ]\n      function onDocumentSelectionChange() {\n        if (document.activeElement !== input) {\n          setMirrorSelectionStart(null)\n          setMirrorSelectionEnd(null)\n          return\n        }\n\n        // Aliases\n        const _s = input.selectionStart\n        const _e = input.selectionEnd\n        const _dir = input.selectionDirection\n        const _ml = input.maxLength\n        const _val = input.value\n        const _prev = inputMetadataRef.current.prev\n\n        // Algorithm\n        let start = -1\n        let end = -1\n        let direction: 'forward' | 'backward' | 'none' = undefined\n        if (_val.length !== 0 && _s !== null && _e !== null) {\n          const isSingleCaret = _s === _e\n          const isInsertMode = _s === _val.length && _val.length < _ml\n\n          if (isSingleCaret && !isInsertMode) {\n            const c = _s\n            if (c === 0) {\n              start = 0\n              end = 1\n              direction = 'forward'\n            } else if (c === _ml) {\n              start = c - 1\n              end = c\n              direction = 'backward'\n            } else if (_ml > 1 && _val.length > 1) {\n              let offset = 0\n              if (_prev[0] !== null && _prev[1] !== null) {\n                direction = c < _prev[1] ? 'backward' : 'forward'\n                const wasPreviouslyInserting =\n                  _prev[0] === _prev[1] && _prev[0] < _ml\n                if (direction === 'backward' && !wasPreviouslyInserting) {\n                  offset = -1\n                }\n              }\n\n              start = offset + c\n              end = offset + c + 1\n            }\n          }\n\n          if (start !== -1 && end !== -1 && start !== end) {\n            inputRef.current.setSelectionRange(start, end, direction)\n          }\n        }\n\n        // Finally, update the state\n        const s = start !== -1 ? start : _s\n        const e = end !== -1 ? end : _e\n        const dir = direction ?? _dir\n        setMirrorSelectionStart(s)\n        setMirrorSelectionEnd(e)\n        // Store the previous selection value\n        inputMetadataRef.current.prev = [s, e, dir]\n      }\n      document.addEventListener('selectionchange', onDocumentSelectionChange, {\n        capture: true,\n      })\n\n      // Set initial mirror state\n      onDocumentSelectionChange()\n      document.activeElement === input && setIsFocused(true)\n\n      // Apply needed styles\n      if (!document.getElementById('input-otp-style')) {\n        const styleEl = document.createElement('style')\n        styleEl.id = 'input-otp-style'\n        document.head.appendChild(styleEl)\n\n        if (styleEl.sheet) {\n          const autofillStyles =\n            'background: transparent !important; color: transparent !important; border-color: transparent !important; opacity: 0 !important; box-shadow: none !important; -webkit-box-shadow: none !important; -webkit-text-fill-color: transparent !important;'\n\n          safeInsertRule(\n            styleEl.sheet,\n            '[data-input-otp]::selection { background: transparent !important; color: transparent !important; }',\n          )\n          safeInsertRule(\n            styleEl.sheet,\n            `[data-input-otp]:autofill { ${autofillStyles} }`,\n          )\n          safeInsertRule(\n            styleEl.sheet,\n            `[data-input-otp]:-webkit-autofill { ${autofillStyles} }`,\n          )\n          // iOS\n          safeInsertRule(\n            styleEl.sheet,\n            `@supports (-webkit-touch-callout: none) { [data-input-otp] { letter-spacing: -.6em !important; font-weight: 100 !important; font-stretch: ultra-condensed; font-optical-sizing: none !important; left: -1px !important; right: 1px !important; } }`,\n          )\n          // PWM badges\n          safeInsertRule(\n            styleEl.sheet,\n            `[data-input-otp] + * { pointer-events: all !important; }`,\n          )\n        }\n      }\n      // Track root height\n      const updateRootHeight = () => {\n        if (container) {\n          container.style.setProperty(\n            '--root-height',\n            `${input.clientHeight}px`,\n          )\n        }\n      }\n      updateRootHeight()\n      const resizeObserver = new ResizeObserver(updateRootHeight)\n      resizeObserver.observe(input)\n\n      return () => {\n        document.removeEventListener(\n          'selectionchange',\n          onDocumentSelectionChange,\n          { capture: true },\n        )\n        resizeObserver.disconnect()\n      }\n    }, [])\n\n    /** Mirrors for UI rendering purpose only */\n    const [isHoveringInput, setIsHoveringInput] = React.useState(false)\n    const [isFocused, setIsFocused] = React.useState(false)\n    const [mirrorSelectionStart, setMirrorSelectionStart] = React.useState<\n      number | null\n    >(null)\n    const [mirrorSelectionEnd, setMirrorSelectionEnd] = React.useState<\n      number | null\n    >(null)\n\n    /** Effects */\n    React.useEffect(() => {\n      syncTimeouts(() => {\n        // Forcefully remove :autofill state\n        inputRef.current?.dispatchEvent(new Event('input'))\n\n        // Update the selection state\n        const s = inputRef.current?.selectionStart\n        const e = inputRef.current?.selectionEnd\n        const dir = inputRef.current?.selectionDirection\n        if (s !== null && e !== null) {\n          setMirrorSelectionStart(s)\n          setMirrorSelectionEnd(e)\n          inputMetadataRef.current.prev = [s, e, dir]\n        }\n      })\n    }, [value, isFocused])\n\n    React.useEffect(() => {\n      if (previousValue === undefined) {\n        return\n      }\n\n      if (\n        value !== previousValue &&\n        previousValue.length < maxLength &&\n        value.length === maxLength\n      ) {\n        onComplete?.(value)\n      }\n    }, [maxLength, onComplete, previousValue, value])\n\n    const pwmb = usePasswordManagerBadge({\n      containerRef,\n      inputRef,\n      pushPasswordManagerStrategy,\n      isFocused,\n    })\n\n    /** Event handlers */\n    const _changeListener = React.useCallback(\n      (e: React.ChangeEvent<HTMLInputElement>) => {\n        const newValue = e.currentTarget.value.slice(0, maxLength)\n        if (newValue.length > 0 && regexp && !regexp.test(newValue)) {\n          e.preventDefault()\n          return\n        }\n        const maybeHasDeleted =\n          typeof previousValue === 'string' &&\n          newValue.length < previousValue.length\n        if (maybeHasDeleted) {\n          // Since cutting/deleting text doesn't trigger\n          // selectionchange event, we'll have to dispatch it manually.\n          // NOTE: The following line also triggers when cmd+A then pasting\n          // a value with smaller length, which is not ideal for performance.\n          document.dispatchEvent(new Event('selectionchange'))\n        }\n        onChange(newValue)\n      },\n      [maxLength, onChange, previousValue, regexp],\n    )\n    const _focusListener = React.useCallback(() => {\n      if (inputRef.current) {\n        const start = Math.min(inputRef.current.value.length, maxLength - 1)\n        const end = inputRef.current.value.length\n        inputRef.current?.setSelectionRange(start, end)\n        setMirrorSelectionStart(start)\n        setMirrorSelectionEnd(end)\n      }\n      setIsFocused(true)\n    }, [maxLength])\n    // Fix iOS pasting\n    const _pasteListener = React.useCallback(\n      (e: React.ClipboardEvent<HTMLInputElement>) => {\n        const input = inputRef.current\n        if (!initialLoadRef.current.isIOS || !e.clipboardData || !input) {\n          return\n        }\n\n        const content = e.clipboardData.getData('text/plain')\n        e.preventDefault()\n\n        const start = inputRef.current?.selectionStart\n        const end = inputRef.current?.selectionEnd\n\n        const isReplacing = start !== end\n\n        const newValueUncapped = isReplacing\n          ? value.slice(0, start) + content + value.slice(end) // Replacing\n          : value.slice(0, start) + content + value.slice(start) // Inserting\n        const newValue = newValueUncapped.slice(0, maxLength)\n\n        if (newValue.length > 0 && regexp && !regexp.test(newValue)) {\n          return\n        }\n\n        input.value = newValue\n        onChange(newValue)\n\n        const _start = Math.min(newValue.length, maxLength - 1)\n        const _end = newValue.length\n\n        input.setSelectionRange(_start, _end)\n        setMirrorSelectionStart(_start)\n        setMirrorSelectionEnd(_end)\n      },\n      [maxLength, onChange, regexp, value],\n    )\n\n    /** Styles */\n    const rootStyle = React.useMemo<React.CSSProperties>(\n      () => ({\n        position: 'relative',\n        cursor: props.disabled ? 'default' : 'text',\n        userSelect: 'none',\n        WebkitUserSelect: 'none',\n        pointerEvents: 'none',\n      }),\n      [props.disabled],\n    )\n\n    const inputStyle = React.useMemo<React.CSSProperties>(\n      () => ({\n        position: 'absolute',\n        inset: 0,\n        width: pwmb.willPushPWMBadge\n          ? `calc(100% + ${pwmb.PWM_BADGE_SPACE_WIDTH})`\n          : '100%',\n        clipPath: pwmb.willPushPWMBadge\n          ? `inset(0 ${pwmb.PWM_BADGE_SPACE_WIDTH} 0 0)`\n          : undefined,\n        height: '100%',\n        display: 'flex',\n        textAlign,\n        opacity: '1', // Mandatory for iOS hold-paste\n        color: 'transparent',\n        pointerEvents: 'all',\n        background: 'transparent',\n        caretColor: 'transparent',\n        border: '0 solid transparent',\n        outline: '0 solid transparent',\n        boxShadow: 'none',\n        lineHeight: '1',\n        letterSpacing: '-.5em',\n        fontSize: 'var(--root-height)',\n        fontFamily: 'monospace',\n        fontVariantNumeric: 'tabular-nums',\n        // letterSpacing: '-1em',\n        // transform: 'scale(1.5)',\n        // paddingRight: '100%',\n        // paddingBottom: '100%',\n        // debugging purposes\n        // inset: undefined,\n        // position: undefined,\n        // color: 'black',\n        // background: 'white',\n        // opacity: '1',\n        // caretColor: 'black',\n        // padding: '0',\n        // letterSpacing: 'unset',\n        // fontSize: 'unset',\n        // paddingInline: '.5rem',\n      }),\n      [pwmb.PWM_BADGE_SPACE_WIDTH, pwmb.willPushPWMBadge, textAlign],\n    )\n\n    /** Rendering */\n    const renderedInput = React.useMemo(\n      () => (\n        <input\n          autoComplete={props.autoComplete || 'one-time-code'}\n          {...props}\n          data-input-otp\n          data-input-otp-mss={mirrorSelectionStart}\n          data-input-otp-mse={mirrorSelectionEnd}\n          inputMode={inputMode}\n          pattern={regexp?.source}\n          style={inputStyle}\n          maxLength={maxLength}\n          value={value}\n          ref={inputRef}\n          onPaste={e => {\n            _pasteListener(e)\n            props.onPaste?.(e)\n          }}\n          onChange={_changeListener}\n          onMouseOver={e => {\n            setIsHoveringInput(true)\n            props.onMouseOver?.(e)\n          }}\n          onMouseLeave={e => {\n            setIsHoveringInput(false)\n            props.onMouseLeave?.(e)\n          }}\n          onFocus={e => {\n            _focusListener()\n            props.onFocus?.(e)\n          }}\n          onBlur={e => {\n            setIsFocused(false)\n            props.onBlur?.(e)\n          }}\n        />\n      ),\n      [\n        _changeListener,\n        _focusListener,\n        _pasteListener,\n        inputMode,\n        inputStyle,\n        maxLength,\n        mirrorSelectionEnd,\n        mirrorSelectionStart,\n        props,\n        regexp?.source,\n        value,\n      ],\n    )\n\n    const contextValue = React.useMemo<RenderProps>(() => {\n      return {\n        slots: Array.from({ length: maxLength }).map((_, slotIdx) => {\n          const isActive =\n            isFocused &&\n            mirrorSelectionStart !== null &&\n            mirrorSelectionEnd !== null &&\n            ((mirrorSelectionStart === mirrorSelectionEnd &&\n              slotIdx === mirrorSelectionStart) ||\n              (slotIdx >= mirrorSelectionStart && slotIdx < mirrorSelectionEnd))\n\n          const char = value[slotIdx] !== undefined ? value[slotIdx] : null\n\n          return {\n            char,\n            isActive,\n            hasFakeCaret: isActive && char === null,\n          }\n        }),\n        isFocused,\n        isHovering: !props.disabled && isHoveringInput,\n      }\n    }, [\n      isFocused,\n      isHoveringInput,\n      maxLength,\n      mirrorSelectionEnd,\n      mirrorSelectionStart,\n      props.disabled,\n      value,\n    ])\n\n    const renderedChildren = React.useMemo(() => {\n      if (render) {\n        return render(contextValue)\n      }\n      return (\n        <OTPInputContext.Provider value={contextValue}>\n          {children}\n        </OTPInputContext.Provider>\n      )\n    }, [children, contextValue, render])\n\n    return (\n      <>\n        {noScriptCSSFallback !== null && (\n          <noscript>\n            <style>{noScriptCSSFallback}</style>\n          </noscript>\n        )}\n\n        <div\n          ref={containerRef}\n          data-input-otp-container\n          style={rootStyle}\n          className={containerClassName}\n        >\n          {renderedChildren}\n\n          <div\n            style={{\n              position: 'absolute',\n              inset: 0,\n              pointerEvents: 'none',\n            }}\n          >\n            {renderedInput}\n          </div>\n        </div>\n      </>\n    )\n  },\n)\nOTPInput.displayName = 'Input'\n\nfunction safeInsertRule(sheet: CSSStyleSheet, rule: string) {\n  try {\n    sheet.insertRule(rule)\n  } catch {\n    console.error('input-otp could not insert CSS rule:', rule)\n  }\n}\n\n// Decided to go with <noscript>\n// instead of `scripting` CSS media query\n// because it's a fallback for initial page load\n// and the <script> tag won't be loaded\n// unless the user has JS disabled.\nconst NOSCRIPT_CSS_FALLBACK = `\n[data-input-otp] {\n  --nojs-bg: white !important;\n  --nojs-fg: black !important;\n\n  background-color: var(--nojs-bg) !important;\n  color: var(--nojs-fg) !important;\n  caret-color: var(--nojs-fg) !important;\n  letter-spacing: .25em !important;\n  text-align: center !important;\n  border: 1px solid var(--nojs-fg) !important;\n  border-radius: 4px !important;\n  width: 100% !important;\n}\n@media (prefers-color-scheme: dark) {\n  [data-input-otp] {\n    --nojs-bg: black !important;\n    --nojs-fg: white !important;\n  }\n}`\n", "export const REGEXP_ONLY_DIGITS = '^\\\\d+$'\nexport const REGEXP_ONLY_CHARS = '^[a-zA-Z]+$'\nexport const REGEXP_ONLY_DIGITS_AND_CHARS = '^[a-zA-Z0-9]+$'\n", "export function syncTimeouts(cb: (...args: any[]) => unknown): number[] {\n  const t1 = setTimeout(cb, 0) // For faster machines\n  const t2 = setTimeout(cb, 1_0)\n  const t3 = setTimeout(cb, 5_0)\n  return [t1, t2, t3]\n}\n", "import * as React from 'react'\n\nexport function usePrevious<T>(value: T) {\n  const ref = React.useRef<T>()\n  React.useEffect(() => {\n    ref.current = value\n  })\n  return ref.current\n}\n", "import * as React from 'react'\nimport { OTPInputProps } from './types'\n\nconst PWM_BADGE_MARGIN_RIGHT = 18\nconst PWM_BADGE_SPACE_WIDTH_PX = 40\nconst PWM_BADGE_SPACE_WIDTH = `${PWM_BADGE_SPACE_WIDTH_PX}px` as const\n\nconst PASSWORD_MANAGERS_SELECTORS = [\n  '[data-lastpass-icon-root]', // LastPass\n  'com-1password-button', // 1Password\n  '[data-dashlanecreated]', // Dashlane\n  '[style$=\"2147483647 !important;\"]', // Bitwarden\n].join(',')\n\nexport function usePasswordManagerBadge({\n  containerRef,\n  inputRef,\n  pushPasswordManagerStrategy,\n  isFocused,\n}: {\n  containerRef: React.RefObject<HTMLDivElement>\n  inputRef: React.RefObject<HTMLInputElement>\n  pushPasswordManagerStrategy: OTPInputProps['pushPasswordManagerStrategy']\n  isFocused: boolean\n}) {\n  // Metadata for instant updates (not React state)\n  const pwmMetadata = React.useRef<{\n    done: boolean\n    refocused: boolean\n  }>({\n    done: false,\n    refocused: false,\n  })\n\n  /** Password managers have a badge\n   *  and I'll use this state to push them\n   *  outside the input */\n  const [hasPWMBadge, setHasPWMBadge] = React.useState(false)\n  const [hasPWMBadgeSpace, setHasPWMBadgeSpace] = React.useState(false)\n  const [done, setDone] = React.useState(false)\n\n  const willPushPWMBadge = React.useMemo(() => {\n    if (pushPasswordManagerStrategy === 'none') {\n      return false\n    }\n\n    const increaseWidthCase =\n      (pushPasswordManagerStrategy === 'increase-width' ||\n        // TODO: remove 'experimental-no-flickering' support in 2.0.0\n        pushPasswordManagerStrategy === 'experimental-no-flickering') &&\n      hasPWMBadge &&\n      hasPWMBadgeSpace\n\n    return increaseWidthCase\n  }, [hasPWMBadge, hasPWMBadgeSpace, pushPasswordManagerStrategy])\n\n  const trackPWMBadge = React.useCallback(() => {\n    const container = containerRef.current\n    const input = inputRef.current\n    if (\n      !container ||\n      !input ||\n      done ||\n      pushPasswordManagerStrategy === 'none'\n    ) {\n      return\n    }\n\n    const elementToCompare = container\n\n    // Get the top right-center point of the container.\n    // That is usually where most password managers place their badge.\n    const rightCornerX =\n      elementToCompare.getBoundingClientRect().left +\n      elementToCompare.offsetWidth\n    const centereredY =\n      elementToCompare.getBoundingClientRect().top +\n      elementToCompare.offsetHeight / 2\n    const x = rightCornerX - PWM_BADGE_MARGIN_RIGHT\n    const y = centereredY\n\n    // Do an extra search to check for famous password managers\n    const pmws = document.querySelectorAll(PASSWORD_MANAGERS_SELECTORS)\n\n    // If no password manager is automatically detect,\n    // we'll try to dispatch document.elementFromPoint\n    // to identify badges\n    if (pmws.length === 0) {\n      const maybeBadgeEl = document.elementFromPoint(x, y)\n\n      // If the found element is the input itself,\n      // then we assume it's not a password manager badge.\n      // We are not sure. Most times that means there isn't a badge.\n      if (maybeBadgeEl === container) {\n        return\n      }\n    }\n\n    setHasPWMBadge(true)\n    setDone(true)\n\n    // For specific password managers,\n    // the input has to be re-focused\n    // to trigger a re-position of the badge.\n    if (!pwmMetadata.current.refocused && document.activeElement === input) {\n      const sel = [input.selectionStart, input.selectionEnd]\n      input.blur()\n      input.focus()\n      // Recover the previous selection\n      input.setSelectionRange(sel[0], sel[1])\n\n      pwmMetadata.current.refocused = true\n    }\n  }, [containerRef, inputRef, done, pushPasswordManagerStrategy])\n\n  React.useEffect(() => {\n    const container = containerRef.current\n    if (!container || pushPasswordManagerStrategy === 'none') {\n      return\n    }\n\n    // Check if the PWM area is 100% visible\n    function checkHasSpace() {\n      const viewportWidth = window.innerWidth\n      const distanceToRightEdge =\n        viewportWidth - container.getBoundingClientRect().right\n      setHasPWMBadgeSpace(distanceToRightEdge >= PWM_BADGE_SPACE_WIDTH_PX)\n    }\n\n    checkHasSpace()\n    const interval = setInterval(checkHasSpace, 1000)\n\n    return () => {\n      clearInterval(interval)\n    }\n  }, [containerRef, pushPasswordManagerStrategy])\n\n  React.useEffect(() => {\n    const _isFocused = isFocused || document.activeElement === inputRef.current\n\n    if (pushPasswordManagerStrategy === 'none' || !_isFocused) {\n      return\n    }\n    const t1 = setTimeout(trackPWMBadge, 0)\n    const t2 = setTimeout(trackPWMBadge, 2000)\n    const t3 = setTimeout(trackPWMBadge, 5000)\n    const t4 = setTimeout(() => {\n      setDone(true)\n    }, 6000)\n    return () => {\n      clearTimeout(t1)\n      clearTimeout(t2)\n      clearTimeout(t3)\n      clearTimeout(t4)\n    }\n  }, [inputRef, isFocused, pushPasswordManagerStrategy, trackPWMBadge])\n\n  return { hasPWMBadge, willPushPWMBadge, PWM_BADGE_SPACE_WIDTH }\n}\n", "\"use client\";\nimport { keyframes } from \"@emotion/react\";\nimport { OTPInput as InputOTP, type SlotProps } from \"input-otp\";\nimport { useCustomTheme } from \"../../../core/design-system/CustomThemeProvider.js\";\nimport {\n  fontSize,\n  radius,\n  spacing,\n} from \"../../../core/design-system/index.js\";\nimport { StyledDiv } from \"../design-system/elements.js\";\nimport { Container } from \"./basic.js\";\n\n/**\n * @internal\n */\nexport function OTPInput(props: {\n  digits: number;\n  isInvalid?: boolean;\n  value: string;\n  setValue: (value: string) => void;\n  onEnter: () => void;\n}) {\n  return (\n    <OTPInputContainer>\n      <InputOTP\n        onComplete={() => {\n          props.onEnter();\n        }}\n        maxLength={6}\n        value={props.value}\n        render={({ slots }) => (\n          <Container flex=\"row\" gap=\"xs\" center=\"both\">\n            {slots.map((slot, idx) => (\n              // biome-ignore lint/suspicious/noArrayIndexKey: index is the only valid key here\n              <Slot key={idx} {...slot} isInvalid={props.isInvalid} />\n            ))}\n          </Container>\n        )}\n        onChange={(newValue) => {\n          props.setValue(newValue);\n        }}\n      />\n    </OTPInputContainer>\n  );\n}\n\nconst OTPInputContainer = /* @__PURE__ */ StyledDiv({\n  \"& input\": {\n    maxWidth: \"100%\",\n  },\n});\n\nfunction Slot(props: SlotProps & { isInvalid?: boolean }) {\n  return (\n    <OTPInputBox data-active={props.isActive} data-error={props.isInvalid}>\n      {props.char !== null && <div>{props.char}</div>}\n      {props.hasFakeCaret && <FakeCaret />}\n    </OTPInputBox>\n  );\n}\n\nconst caretBlink = keyframes`\n  0%, 100% {\n    opacity: 0;\n  },\n  50% {\n    opacity: 1;\n  }\n  `;\n\nconst FakeCaret = StyledDiv((_) => {\n  const theme = useCustomTheme();\n  return {\n    position: \"absolute\",\n    pointerEvents: \"none\",\n    inset: 0,\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    animation: `${caretBlink} 1s infinite`,\n    \"&::before\": {\n      content: \"''\",\n      display: \"block\",\n      width: \"1.5px\",\n      height: \"1em\",\n      backgroundColor: theme.colors.primaryText,\n    },\n  };\n});\n\nconst OTPInputBox = /* @__PURE__ */ StyledDiv((_) => {\n  const theme = useCustomTheme();\n  return {\n    position: \"relative\",\n    width: \"40px\",\n    height: \"40px\",\n    textAlign: \"center\",\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    fontSize: fontSize.md,\n    padding: spacing.xs,\n    boxSizing: \"border-box\",\n    transition: \"color 200ms ease\",\n    border: `2px solid ${theme.colors.borderColor}`,\n    \"&[data-active='true']\": {\n      borderColor: theme.colors.accentText,\n    },\n    color: theme.colors.primaryText,\n    borderRadius: radius.lg,\n    \"&[data-error='true']\": {\n      borderColor: theme.colors.danger,\n    },\n  };\n});\n", "import { useEffect, useRef, useState } from \"react\";\nimport type { Chain } from \"../../../../chains/types.js\";\nimport type { ThirdwebClient } from \"../../../../client/client.js\";\nimport { type Wallet, linkProfile } from \"../../../../exports/wallets.js\";\nimport { webLocalStorage } from \"../../../../utils/storage/webStorage.js\";\nimport { isEcosystemWallet } from \"../../../../wallets/ecosystem/is-ecosystem-wallet.js\";\nimport { hasStoredPasskey } from \"../../../../wallets/in-app/web/lib/auth/passkeys.js\";\nimport { iconSize } from \"../../../core/design-system/index.js\";\nimport { setLastAuthProvider } from \"../../../core/utils/storage.js\";\nimport { FingerPrintIcon } from \"../../ui/ConnectWallet/icons/FingerPrintIcon.js\";\nimport type { ConnectLocale } from \"../../ui/ConnectWallet/locale/types.js\";\nimport { Spacer } from \"../../ui/components/Spacer.js\";\nimport { Container, ModalHeader } from \"../../ui/components/basic.js\";\nimport { Button } from \"../../ui/components/buttons.js\";\nimport { ErrorState } from \"./ErrorState.js\";\nimport { LoadingScreen } from \"./LoadingScreen.js\";\nimport { LoadingState } from \"./LoadingState.js\";\n\n// is passkey stored?\n// - login\n// else\n// - show login or signup options\n\nexport function PassKeyLogin(props: {\n  wallet: Wallet;\n  locale: ConnectLocale;\n  done: () => void;\n  onBack?: () => void;\n  client: ThirdwebClient;\n  chain: Chain | undefined;\n  size: \"compact\" | \"wide\";\n  isLinking?: boolean;\n}) {\n  const { wallet, done, client, chain, size, locale } = props;\n  const [screen, setScreen] = useState<\n    \"select\" | \"login\" | \"loading\" | \"signup\"\n  >(\"loading\");\n\n  const triggered = useRef(false);\n  useEffect(() => {\n    if (triggered.current) {\n      return;\n    }\n\n    triggered.current = true;\n    hasStoredPasskey(\n      client,\n      isEcosystemWallet(wallet.id) ? wallet.id : undefined,\n    )\n      .then((isStored) => {\n        if (isStored) {\n          setScreen(\"login\");\n        } else {\n          setScreen(\"select\");\n        }\n      })\n      .catch(() => {\n        setScreen(\"select\");\n      });\n  }, [client, wallet.id]);\n\n  return (\n    <Container animate=\"fadein\" fullHeight flex=\"column\">\n      <Container p=\"lg\">\n        <ModalHeader\n          title={\n            props.isLinking\n              ? locale.passkeys.linkPasskey\n              : locale.passkeys.title\n          }\n          onBack={props.onBack}\n        />\n      </Container>\n\n      <Container\n        px={size === \"wide\" ? \"xxl\" : \"lg\"}\n        expand\n        flex=\"column\"\n        center=\"y\"\n      >\n        <div>\n          {screen === \"loading\" && (\n            <>\n              <LoadingScreen />\n              <Spacer y=\"xxl\" />\n            </>\n          )}\n\n          {screen === \"select\" && (\n            <SelectLoginMethod\n              onSignin={() => {\n                setScreen(\"login\");\n              }}\n              onSignup={() => {\n                setScreen(\"signup\");\n              }}\n            />\n          )}\n\n          {screen === \"login\" && (\n            <LoginScreen\n              wallet={wallet}\n              client={client}\n              done={done}\n              onCreate={() => {\n                setScreen(\"signup\");\n              }}\n              chain={chain}\n              isLinking={props.isLinking}\n            />\n          )}\n\n          {screen === \"signup\" && (\n            <SignupScreen\n              wallet={wallet}\n              client={client}\n              done={done}\n              chain={chain}\n              isLinking={props.isLinking}\n            />\n          )}\n        </div>\n      </Container>\n    </Container>\n  );\n}\n\nfunction LoginScreen(props: {\n  wallet: Wallet;\n  done: () => void;\n  client: ThirdwebClient;\n  onCreate: () => void;\n  chain?: Chain;\n  isLinking?: boolean;\n}) {\n  const { wallet, done, client, chain } = props;\n  const [status, setStatus] = useState<\"loading\" | \"error\">(\"loading\");\n  const [error, setError] = useState<string | undefined>();\n\n  async function login() {\n    setStatus(\"loading\");\n    try {\n      if (props.isLinking) {\n        await linkProfile(wallet as Wallet<\"inApp\">, {\n          strategy: \"passkey\",\n          type: \"sign-in\",\n        }).catch((e) => {\n          setError(e.message);\n          throw e;\n        });\n      } else {\n        await wallet.connect({\n          client: client,\n          strategy: \"passkey\",\n          type: \"sign-in\",\n          chain,\n        });\n        await setLastAuthProvider(\"passkey\", webLocalStorage);\n      }\n      done();\n    } catch {\n      setStatus(\"error\");\n    }\n  }\n\n  const triggered = useRef(false);\n  useEffect(() => {\n    if (triggered.current) {\n      return;\n    }\n\n    triggered.current = true;\n    login();\n  });\n\n  if (status === \"loading\") {\n    return (\n      <LoadingState\n        title=\"Requesting Passkey\"\n        subtitle=\"A pop-up prompt will appear to sign-in and verify your passkey\"\n        icon={<FingerPrintIcon size={iconSize.xxl} />}\n      />\n    );\n  }\n\n  if (status === \"error\") {\n    return (\n      <>\n        <ErrorState onTryAgain={login} title={error || \"Failed to Login\"} />\n        <Spacer y=\"sm\" />\n        <Button variant=\"outline\" fullWidth onClick={props.onCreate}>\n          Create a new Passkey\n        </Button>\n        <Spacer y=\"lg\" />\n      </>\n    );\n  }\n\n  return null;\n}\n\nfunction SignupScreen(props: {\n  wallet: Wallet;\n  done: () => void;\n  client: ThirdwebClient;\n  chain?: Chain;\n  isLinking?: boolean;\n}) {\n  const { wallet, done, client, chain } = props;\n  const [error, setError] = useState<string | undefined>();\n  const [status, setStatus] = useState<\"loading\" | \"error\">(\"loading\");\n\n  async function signup() {\n    setStatus(\"loading\");\n    try {\n      if (props.isLinking) {\n        await linkProfile(wallet as Wallet<\"inApp\">, {\n          strategy: \"passkey\",\n          type: \"sign-up\",\n        });\n      } else {\n        await wallet.connect({\n          client: client,\n          strategy: \"passkey\",\n          type: \"sign-up\",\n          chain,\n        });\n        await setLastAuthProvider(\"passkey\", webLocalStorage);\n      }\n      done();\n    } catch (e) {\n      console.error(e);\n      if (e instanceof Error) {\n        setError(`Error creating passkey: ${e.message}`);\n      }\n      setStatus(\"error\");\n    }\n  }\n\n  const triggered = useRef(false);\n  useEffect(() => {\n    if (triggered.current) {\n      return;\n    }\n\n    triggered.current = true;\n    signup();\n  });\n\n  if (status === \"loading\") {\n    return (\n      <LoadingState\n        title=\"Creating Passkey\"\n        subtitle=\"A pop-up prompt will appear to sign-in and verify your passkey\"\n        icon={<FingerPrintIcon size={iconSize.xxl} />}\n      />\n    );\n  }\n\n  if (status === \"error\") {\n    return (\n      <>\n        <ErrorState\n          onTryAgain={signup}\n          title={error || \"Failed to create passkey\"}\n        />\n        <Spacer y=\"lg\" />\n      </>\n    );\n  }\n\n  return null;\n}\n\nfunction SelectLoginMethod(props: {\n  onSignin: () => void;\n  onSignup: () => void;\n}) {\n  return (\n    <Container>\n      <Spacer y=\"xxl\" />\n      <Container flex=\"row\" center=\"x\" color=\"accentText\">\n        <FingerPrintIcon size={iconSize[\"4xl\"]} />\n      </Container>\n      <Spacer y=\"xl\" />\n      <Spacer y=\"xxl\" />\n\n      <Button variant=\"accent\" onClick={props.onSignup} fullWidth>\n        Create a Passkey\n      </Button>\n\n      <Spacer y=\"sm\" />\n      <Button variant=\"outline\" onClick={props.onSignin} fullWidth>\n        I have a Passkey\n      </Button>\n\n      <Spacer y=\"lg\" />\n    </Container>\n  );\n}\n", "import type { IconFC } from \"./types.js\";\n\nexport const FingerPrintIcon: IconFC = (props) => {\n  return (\n    <svg\n      width={props.size}\n      height={props.size}\n      viewBox=\"0 0 36 36\"\n      fill=\"none\"\n      aria-hidden=\"true\"\n    >\n      <path\n        d=\"M18.0001 15C17.2045 15 16.4414 15.3161 15.8788 15.8787C15.3162 16.4413 15.0001 17.2044 15.0001 18C15.0001 19.53 14.8501 21.765 14.6101 24\"\n        stroke=\"currentColor\"\n        strokeWidth=\"3\"\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n      />\n      <path\n        d=\"M21.0002 19.6801C21.0002 23.2501 21.0002 29.2501 19.5002 33.0001\"\n        stroke=\"currentColor\"\n        strokeWidth=\"3\"\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n      />\n      <path\n        d=\"M25.9348 31.53C26.1148 30.63 26.5798 28.08 26.6848 27\"\n        stroke=\"currentColor\"\n        strokeWidth=\"3\"\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n      />\n      <path\n        d=\"M2.99976 18C2.99976 14.8518 3.99032 11.7833 5.83112 9.22935C7.67193 6.67536 10.2697 4.76531 13.2563 3.76975C16.243 2.77419 19.4672 2.74359 22.4723 3.6823C25.4773 4.621 28.1108 6.48141 29.9998 9\"\n        stroke=\"currentColor\"\n        strokeWidth=\"3\"\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n      />\n      <path\n        d=\"M2.99976 24H3.01628\"\n        stroke=\"currentColor\"\n        strokeWidth=\"3\"\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n      />\n      <path\n        d=\"M32.7 24C33 21 32.8965 15.969 32.7 15\"\n        stroke=\"currentColor\"\n        strokeWidth=\"3\"\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n      />\n      <path\n        d=\"M7.49976 29.25C8.24976 27 8.99976 22.5 8.99976 18C8.99824 16.9783 9.17071 15.9638 9.50976 15\"\n        stroke=\"currentColor\"\n        strokeWidth=\"3\"\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n      />\n      <path\n        d=\"M12.9751 33C13.2901 32.01 13.6501 31.02 13.8301 30\"\n        stroke=\"currentColor\"\n        strokeWidth=\"3\"\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n      />\n      <path\n        d=\"M13.5 10.2C14.8686 9.40988 16.4211 8.99401 18.0014 8.99426C19.5818 8.99452 21.1342 9.41088 22.5025 10.2015C23.8708 10.9921 25.0069 12.129 25.7964 13.498C26.5859 14.867 27.001 16.4197 27 18V21\"\n        stroke=\"currentColor\"\n        strokeWidth=\"3\"\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n      />\n    </svg>\n  );\n};\n", "import { iconSize } from \"../../../../react/core/design-system/index.js\";\nimport { AccentFailIcon } from \"../../ui/ConnectWallet/icons/AccentFailIcon.js\";\nimport { Spacer } from \"../../ui/components/Spacer.js\";\nimport { Container } from \"../../ui/components/basic.js\";\nimport { Button } from \"../../ui/components/buttons.js\";\nimport { Text } from \"../../ui/components/text.js\";\n\nexport function ErrorState(props: {\n  onTryAgain: () => void;\n  title: string;\n}) {\n  return (\n    <Container animate=\"fadein\">\n      <Spacer y=\"xxl\" />\n      <Container flex=\"row\" center=\"x\">\n        <AccentFailIcon size={iconSize[\"3xl\"]} />\n      </Container>\n      <Spacer y=\"lg\" />\n      <Text center color=\"primaryText\" size=\"md\">\n        {props.title}\n      </Text>\n      <Spacer y=\"xl\" />\n      <Spacer y=\"xxl\" />\n      <Button variant=\"accent\" fullWidth onClick={props.onTryAgain}>\n        Try Again\n      </Button>\n    </Container>\n  );\n}\n", "import type { ReactNode } from \"react\";\nimport { Spacer } from \"../../ui/components/Spacer.js\";\nimport { Spinner } from \"../../ui/components/Spinner.js\";\nimport { Container } from \"../../ui/components/basic.js\";\nimport { Text } from \"../../ui/components/text.js\";\n\nexport function LoadingState(props: {\n  title: string;\n  subtitle: string;\n  icon: ReactNode;\n}) {\n  return (\n    <Container animate=\"fadein\">\n      <Spacer y=\"xxl\" />\n      <Container\n        flex=\"row\"\n        center=\"x\"\n        style={{\n          position: \"relative\",\n        }}\n      >\n        <Spinner size=\"4xl\" color=\"accentText\" />\n        <Container\n          color=\"accentText\"\n          style={{\n            position: \"absolute\",\n            top: \"50%\",\n            left: \"50%\",\n            transform: \"translate(-50%, -50%)\",\n          }}\n        >\n          {props.icon}\n        </Container>\n      </Container>\n      <Spacer y=\"xl\" />\n      <Text center color=\"primaryText\" size=\"lg\">\n        {props.title}\n      </Text>\n      <Spacer y=\"md\" />\n      <Text multiline center>\n        {props.subtitle}\n      </Text>\n      <Spacer y=\"xxl\" />\n      <Spacer y=\"xxl\" />\n    </Container>\n  );\n}\n", "\"use client\";\nimport { useEffect, useRef, useState } from \"react\";\nimport type { Chain } from \"../../../../chains/types.js\";\nimport type { ThirdwebClient } from \"../../../../client/client.js\";\nimport { webLocalStorage } from \"../../../../utils/storage/webStorage.js\";\nimport { isEcosystemWallet } from \"../../../../wallets/ecosystem/is-ecosystem-wallet.js\";\nimport { linkProfile } from \"../../../../wallets/in-app/core/wallet/profiles.js\";\nimport type { InAppWalletSocialAuth } from \"../../../../wallets/in-app/core/wallet/types.js\";\nimport { loginWithOauthRedirect } from \"../../../../wallets/in-app/web/lib/auth/oauth.js\";\nimport type { Wallet } from \"../../../../wallets/interfaces/wallet.js\";\nimport { useCustomTheme } from \"../../../core/design-system/CustomThemeProvider.js\";\nimport { setLastAuthProvider } from \"../../../core/utils/storage.js\";\nimport type { ConnectLocale } from \"../../ui/ConnectWallet/locale/types.js\";\nimport { Spacer } from \"../../ui/components/Spacer.js\";\nimport { Spinner } from \"../../ui/components/Spinner.js\";\nimport { Container, ModalHeader } from \"../../ui/components/basic.js\";\nimport { Button } from \"../../ui/components/buttons.js\";\nimport { Text } from \"../../ui/components/text.js\";\nimport type { ConnectWalletSelectUIState } from \"./ConnectWalletSocialOptions.js\";\nimport type { InAppWalletLocale } from \"./locale/types.js\";\nimport { openOauthSignInWindow } from \"./oauthSignIn.js\";\n\n/**\n * @internal\n */\nexport function SocialLogin(props: {\n  socialAuth: InAppWalletSocialAuth;\n  locale: InAppWalletLocale;\n  wallet: Wallet;\n  done: () => void;\n  goBack?: () => void;\n  state: ConnectWalletSelectUIState;\n  size: \"compact\" | \"wide\";\n  client: ThirdwebClient;\n  chain: Chain | undefined;\n  connectLocale: ConnectLocale;\n  isLinking?: boolean;\n}) {\n  const ewLocale = props.locale;\n  const locale = ewLocale.socialLoginScreen;\n  const themeObj = useCustomTheme();\n\n  const [authError, setAuthError] = useState<string | undefined>(undefined);\n  const { done, wallet } = props;\n  const [status, setStatus] = useState<\"connecting\" | \"connected\" | \"error\">(\n    \"connecting\",\n  );\n\n  const handleSocialLogin = async () => {\n    const walletConfig = wallet.getConfig();\n    const authMode =\n      walletConfig && \"auth\" in walletConfig\n        ? walletConfig?.auth?.mode ?? \"popup\"\n        : \"popup\";\n\n    if (\n      walletConfig &&\n      \"auth\" in walletConfig &&\n      authMode !== \"popup\" &&\n      !props.isLinking // Redirect not supported for account linking (we need to maintain the aplication state)\n    ) {\n      return loginWithOauthRedirect({\n        authOption: props.socialAuth,\n        client: props.client,\n        ecosystem: isEcosystemWallet(wallet)\n          ? {\n              id: wallet.id,\n              partnerId: wallet.getConfig()?.partnerId,\n            }\n          : undefined,\n        redirectUrl: walletConfig?.auth?.redirectUrl,\n        mode: walletConfig?.auth?.mode,\n      });\n    }\n\n    try {\n      const socialWindow = openOauthSignInWindow({\n        authOption: props.socialAuth,\n        themeObj,\n        client: props.client,\n        ecosystem: isEcosystemWallet(wallet)\n          ? {\n              id: wallet.id,\n              partnerId: wallet.getConfig()?.partnerId,\n            }\n          : undefined,\n      });\n\n      if (!socialWindow) {\n        throw new Error(`Failed to open ${props.socialAuth} login window`);\n      }\n\n      setStatus(\"connecting\");\n      if (props.isLinking) {\n        await linkProfile(wallet as Wallet<\"inApp\">, {\n          strategy: props.socialAuth,\n          openedWindow: socialWindow,\n          closeOpenedWindow: (openedWindow) => {\n            openedWindow.close();\n          },\n        }).catch((e) => {\n          setAuthError(e.message);\n          throw e;\n        });\n      } else {\n        await wallet.connect({\n          chain: props.chain,\n          strategy: props.socialAuth,\n          openedWindow: socialWindow,\n          closeOpenedWindow: (openedWindow) => {\n            openedWindow.close();\n          },\n          client: props.client,\n        });\n      }\n\n      await setLastAuthProvider(props.socialAuth, webLocalStorage);\n      setStatus(\"connected\");\n      done();\n    } catch (e) {\n      setStatus(\"error\");\n      // TODO this only happens on 'retry' button click, not on initial login\n      // should pass auth error message to this component\n      if (\n        e instanceof Error &&\n        e?.message?.includes(\"PAYMENT_METHOD_REQUIRED\")\n      ) {\n        setAuthError(ewLocale.maxAccountsExceeded);\n      }\n      console.error(`Error sign in with ${props.socialAuth}`, e);\n    }\n  };\n\n  // const { setModalVisibility } = props.connectUIProps.screenConfig;\n  const socialLogin = props.state?.socialLogin;\n\n  const socialLoginStarted = useRef(false);\n  useEffect(() => {\n    if (socialLoginStarted.current) {\n      return;\n    }\n\n    if (socialLogin) {\n      socialLoginStarted.current = true;\n      setStatus(\"connecting\");\n      socialLogin.connectionPromise\n        .then(() => {\n          done();\n          setStatus(\"connected\");\n        })\n        .catch((e) => {\n          setAuthError(e.message);\n          setStatus(\"error\");\n        });\n    }\n  }, [done, socialLogin]);\n\n  return (\n    <Container animate=\"fadein\" flex=\"column\" fullHeight>\n      <Container\n        flex=\"column\"\n        expand\n        p=\"lg\"\n        style={{\n          paddingBottom: 0,\n        }}\n      >\n        {props.goBack && (\n          <ModalHeader\n            title={\n              props.isLinking\n                ? props.connectLocale.manageWallet.linkProfile\n                : locale.title\n            }\n            onBack={props.goBack}\n          />\n        )}\n\n        {props.size === \"compact\" ? <Spacer y=\"xl\" /> : null}\n\n        <Container\n          flex=\"column\"\n          center=\"both\"\n          expand\n          style={{\n            textAlign: \"center\",\n            minHeight: \"250px\",\n          }}\n        >\n          {status !== \"error\" && (\n            <Container animate=\"fadein\">\n              <Text\n                color=\"primaryText\"\n                center\n                multiline\n                style={{\n                  maxWidth: \"250px\",\n                }}\n              >\n                {locale.instruction}\n              </Text>\n              <Spacer y=\"xl\" />\n              <Container center=\"x\" flex=\"row\">\n                <Spinner size=\"lg\" color=\"accentText\" />\n              </Container>\n\n              <Spacer y=\"xxl\" />\n            </Container>\n          )}\n\n          {status === \"error\" && (\n            <Container animate=\"fadein\">\n              {authError ? (\n                <Text center color=\"danger\">\n                  {authError}\n                </Text>\n              ) : (\n                <Text color=\"danger\">{locale.failed}</Text>\n              )}\n              <Spacer y=\"lg\" />\n              <Button variant=\"primary\" onClick={handleSocialLogin}>\n                {locale.retry}\n              </Button>\n              <Spacer y=\"xxl\" />\n            </Container>\n          )}\n        </Container>\n      </Container>\n    </Container>\n  );\n}\n"],
  "mappings": "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",
  "names": ["import_react", "REGEXP_ONLY_DIGITS", "syncTimeouts", "cb", "t1", "t2", "t3", "usePrevious", "value", "ref", "PWM_BADGE_MARGIN_RIGHT", "PWM_BADGE_SPACE_WIDTH_PX", "PWM_BADGE_SPACE_WIDTH", "PASSWORD_MANAGERS_SELECTORS", "usePasswordManagerBadge", "containerRef", "inputRef", "pushPasswordManagerStrategy", "isFocused", "pwmMetadata", "hasPWMBadge", "setHasPWMBadge", "hasPWMBadgeSpace", "setHasPWMBadgeSpace", "done", "setDone", "willPushPWMBadge", "trackPWMBadge", "container", "input", "elementToCompare", "rightCornerX", "centereredY", "x", "y", "sel", "checkHasSpace", "distanceToRightEdge", "interval", "_isFocused", "t4", "OTPInputContext", "OTPInput", "_a", "_b", "uncheckedValue", "uncheckedOnChange", "maxLength", "textAlign", "pattern", "REGEXP_ONLY_DIGITS", "inputMode", "onComplete", "containerClassName", "noScriptCSSFallback", "NOSCRIPT_CSS_FALLBACK", "render", "children", "props", "__objRest", "_c", "_d", "_e", "internalValue", "setInternalValue", "previousValue", "onChange", "newValue", "regexp", "initialLoadRef", "inputMetadataRef", "onDocumentSelectionChange", "setMirrorSelectionStart", "setMirrorSelectionEnd", "_s", "_dir", "_ml", "_val", "_prev", "start", "end", "direction", "isSingleCaret", "isInsertMode", "c", "offset", "wasPreviouslyInserting", "s", "e", "dir", "setIsFocused", "styleEl", "autofillStyles", "safeInsertRule", "updateRootHeight", "resizeObserver", "isHoveringInput", "setIsHoveringInput", "mirrorSelectionStart", "mirrorSelectionEnd", "pwmb", "_changeListener", "_focusListener", "_pasteListener", "content", "_start", "_end", "rootStyle", "inputStyle", "renderedInput", "__spreadProps", "__spreadValues", "contextValue", "_", "slotIdx", "isActive", "char", "renderedChildren", "sheet", "rule", "_jsx", "_jsxs", "_jsxs", "_jsx", "_Fragment", "import_react", "_jsxs", "_jsx", "_jsxs", "_jsx", "_jsxs", "_jsx", "_jsxs", "_jsx", "_Fragment", "import_react", "_a", "_jsx", "_jsxs"]
}
