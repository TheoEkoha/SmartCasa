import {
  wallet_infos_default
} from "./chunk-RDYRRVTD.js";
import {
  Fuse,
  sortWallets,
  useDebouncedValue,
  useShowMore
} from "./chunk-RD233YRR.js";
import {
  WalletEntryButton
} from "./chunk-UWGWMW2N.js";
import {
  Input,
  Spinner,
  useSetSelectionData
} from "./chunk-SUQMA2ZE.js";
import {
  Container,
  CrossCircledIcon,
  MagnifyingGlassIcon,
  ModalHeader,
  Spacer,
  Text,
  iconSize,
  newStyled,
  spacing,
  useCustomTheme
} from "./chunk-4QRAH6K6.js";
import {
  createWallet
} from "./chunk-PJAXJMX7.js";
import {
  require_jsx_runtime
} from "./chunk-VMSIDBJW.js";
import {
  require_react
} from "./chunk-JFLQBTWX.js";
import {
  __toESM
} from "./chunk-JE6AHIQZ.js";

// node_modules/thirdweb/dist/esm/react/web/ui/ConnectWallet/Modal/AllWalletsUI.js
var import_jsx_runtime = __toESM(require_jsx_runtime(), 1);
var import_react = __toESM(require_react(), 1);
function AllWalletsUI(props) {
  const { itemsToShow, lastItemRef } = useShowMore(10, 10);
  const setSelectionData = useSetSelectionData();
  const walletList = (0, import_react.useMemo)(() => {
    return wallet_infos_default.filter((wallet) => {
      return props.specifiedWallets.findIndex((x) => x.id === wallet.id) === -1;
    });
  }, [props.specifiedWallets]);
  const fuseInstance = (0, import_react.useMemo)(() => {
    return new Fuse(walletList, {
      threshold: 0.4,
      keys: [
        {
          name: "name",
          weight: 1
        }
      ]
    });
  }, [walletList]);
  const listContainer = (0, import_react.useRef)(null);
  const [searchTerm, setSearchTerm] = (0, import_react.useState)("");
  const deferredSearchTerm = useDebouncedValue(searchTerm, 300);
  const searchResults = deferredSearchTerm ? fuseInstance.search(deferredSearchTerm).map((result) => result.item) : walletList;
  const walletInfosToShow = (0, import_react.useMemo)(() => {
    return sortWallets(searchResults.slice(0, itemsToShow));
  }, [searchResults, itemsToShow]);
  return (0, import_jsx_runtime.jsxs)(Container, { fullHeight: true, flex: "column", animate: "fadein", children: [(0, import_jsx_runtime.jsx)(Container, { p: "lg", children: (0, import_jsx_runtime.jsx)(ModalHeader, { title: "Select Wallet", onBack: props.onBack }) }), (0, import_jsx_runtime.jsx)(Spacer, { y: "xs" }), (0, import_jsx_runtime.jsx)(Container, { px: "lg", children: (0, import_jsx_runtime.jsxs)("div", { style: {
    display: "flex",
    alignItems: "center",
    position: "relative"
  }, children: [(0, import_jsx_runtime.jsx)(StyledMagnifyingGlassIcon, { width: iconSize.md, height: iconSize.md }), (0, import_jsx_runtime.jsx)(Input, { style: {
    padding: `${spacing.sm} ${spacing.sm} ${spacing.sm} ${spacing.xxl}`
  }, tabIndex: -1, variant: "outline", placeholder: "Search Wallet", value: searchTerm, onChange: (e) => {
    var _a, _b;
    (_b = (_a = listContainer.current) == null ? void 0 : _a.parentElement) == null ? void 0 : _b.scroll({
      top: 0
    });
    setSearchTerm(e.target.value);
  } }), deferredSearchTerm !== searchTerm && (0, import_jsx_runtime.jsx)("div", { style: {
    position: "absolute",
    right: spacing.md
  }, children: (0, import_jsx_runtime.jsx)(Spinner, { size: "md", color: "accentText" }) })] }) }), walletInfosToShow.length > 0 && (0, import_jsx_runtime.jsxs)(import_jsx_runtime.Fragment, { children: [(0, import_jsx_runtime.jsx)(Spacer, { y: "md" }), (0, import_jsx_runtime.jsxs)(Container, { animate: "fadein", expand: true, scrollY: true, children: [(0, import_jsx_runtime.jsx)("div", { ref: listContainer, style: {
    maxHeight: props.size === "compact" ? "400px" : void 0,
    paddingInline: spacing.md
  }, children: walletInfosToShow.map((walletInfo, i) => {
    const isLast = i === walletInfosToShow.length - 1;
    return (0, import_jsx_runtime.jsx)("li", { ref: isLast ? lastItemRef : void 0, style: {
      listStyle: "none"
    }, children: (0, import_jsx_runtime.jsx)(WalletEntryButton, { walletId: walletInfo.id, selectWallet: () => {
      const wallet = createWallet(walletInfo.id);
      props.onSelect(wallet);
      if (!props.disableSelectionDataReset) {
        setSelectionData({});
      }
    }, client: props.client, recommendedWallets: props.recommendedWallets, connectLocale: props.connectLocale, isActive: false, badge: void 0 }) }, walletInfo.id);
  }) }), (0, import_jsx_runtime.jsx)(Spacer, { y: "xl" })] })] }), walletInfosToShow.length === 0 && (0, import_jsx_runtime.jsxs)(Container, { flex: "column", gap: "md", center: "both", color: "secondaryText", animate: "fadein", expand: true, style: {
    minHeight: "250px"
  }, children: [(0, import_jsx_runtime.jsx)(CrossCircledIcon, { width: iconSize.xl, height: iconSize.xl }), (0, import_jsx_runtime.jsx)(Text, { children: " No Results " })] })] });
}
var StyledMagnifyingGlassIcon = newStyled(MagnifyingGlassIcon)((_) => {
  const theme = useCustomTheme();
  return {
    color: theme.colors.secondaryText,
    position: "absolute",
    left: spacing.sm
  };
});
var AllWalletsUI_default = AllWalletsUI;

export {
  AllWalletsUI_default
};
//# sourceMappingURL=chunk-VH5G6BT7.js.map
